---
layout: post
title: "[ë°±ì¤€] [C++] ğŸ‘¨â€ğŸ« ê°€ë¥´ì¹¨ 1062ë²ˆ"
description: "Gold - bitmasking"
date: 2024-04-15 15:50:00 +09:00
tags: Baekjoon
categories: 
giscus_comments: true
related_posts: false

featured: false  # ìƒë‹¨ì— ê³ ì •í• ê±´ì§€
pretty_table: true  # í™œì„±í™”í•´ì¤˜ì•¼ table ì„ ì´ ë³´ì„
---


### ğŸ’¡ ë¬¸ì œ ì„¤ëª…

[ë°±ì¤€ ê°€ë¥´ì¹¨](https://www.acmicpc.net/problem/1062)

{% include figure.liquid loading="eager" path="files/baekjoon/1062.png" class="img-fluid rounded z-depth-1" zoomable=true %}

ë°±íŠ¸ë˜í‚¹ì„ ì‚¬ìš©í•˜ì—¬ë„ í’€ë¦¬ì§€ë§Œ, ë¹„íŠ¸ë§ˆìŠ¤í‚¹ ì—°ìŠµì„ ìœ„í•´ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ìœ¼ë¡œ í’€ì–´ë³´ë„ë¡ í•˜ì.

ë¹„íŠ¸ë§ˆìŠ¤í‚¹ í’€ì´ëŠ” ë°±íŠ¸ë˜í‚¹ë³´ë‹¤ ì•½ 10ë°° ë¹ ë¥´ë‹¤.

ë‹¨, ë¹„íŠ¸ì—°ì‚°ì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì€ ìˆì–´ì•¼ ì½”ë“œ ì´í•´ê°€ ê°€ëŠ¥í•˜ë‹¤.


---

### ğŸ’¡ 2ì§„ìˆ˜ í‘œê¸°

ìˆ«ì ì•ì— "0b" ë¥¼ ë¶™ì¸ë‹¤.

```c++
int a = 0b101;  // a = 5 (1*4 + 0*2 + 1*1)
cout << a << endl;  // 5 ì¶œë ¥
```

---

### ğŸ’¡ 2ì§„ìˆ˜ë¡œ ì¶œë ¥

í—¤ë”íŒŒì¼ : #include <bitset>

bitset<ë¹„íŠ¸ì˜ ê°œìˆ˜>(ì¶œë ¥í•  ë³€ìˆ˜)

```c++
int a = 5;
cout << bitset<10>(a) << endl;  // 0000000101 ì¶œë ¥
```


---

### ğŸ’¡ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ì„ ì´ìš©í•œ í’€ì´


```c++
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef pair<int,int> pii;
#define FOR(i,a,b) for(int i=(a);i<=(b);i++)
#define MAX

/*
ë¹„íŠ¸ë§ˆìŠ¤í‚¹ (ë°±íŠ¸ë˜í‚¹ì´ í•„ìš” ì—†ìŒ)
Kê°œì˜ ê¸€ìë¥¼ ê°€ë¥´ì¹ ë•Œ, ì½ì„ ìˆ˜ ìˆëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜

antic ëŠ” ë¬´ì¡°ê±´ ë“¤ì–´ê°€ì•¼ í•¨ -> K<5 ë¼ë©´ ë‹µì€ 0

ë¯¸ë¦¬ ê° ë‹¨ì–´ì— ëŒ€í•´ í•„ìš”í•œ bitë¥¼ ë§Œë“¤ì–´ë†“ê³ , 
í™•ì¸í• ë•Œ í˜„ì¬ bitì™€ ë‹¨ì–´ì˜ bitë¥¼ AND ì—°ì‚°ì„ ì´ìš©í•´ ë‹¨ì–´ì˜ bitì™€ ê°™ë‹¤ë©´ 
ê·¸ ë‹¨ì–´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ”ê²ƒì´ë‹¤.
*/

int N, K;
string words[50];
int wordsBit[50];
int ans;

void dfs(int bit, int level, int last){
    // Kê°œì˜ ê¸€ìë¥¼ ê°€ë¥´ì³¤ë‹¤ë©´
    if (level==K){
        int cnt=0;
        for (int i=0; i<N; i++){
            if ((bit & wordsBit[i]) == wordsBit[i]) cnt++;
        }
        if(cnt==N){  // Nê°œ ëª¨ë‘ ê°€ëŠ¥í•˜ë©´ ë°”ë¡œ ì¢…ë£Œ
            cout << N;
            exit(0);
        }
        ans = max(ans, cnt);  // ans ì—…ë°ì´íŠ¸
    }

    // ì•„ì§ í™•ì¸ ì•ˆí•œ ë¹„íŠ¸ ì¤‘ì— í˜„ì¬ ì•ˆì¼œì ¸ìˆëŠ” ë¹„íŠ¸ì— ëŒ€í•´ dfs
    for (int i = last+1; i < 26; ++i){
        // ië²ˆ ë¹„íŠ¸ê°€ 0ì´ë¼ë©´ ì¼œì£¼ê³  ì¬ê·€
        if (!(bit & (1 << i)))
            dfs(bit | (1 << i), level + 1, i);
    }
}

int main(){
    ios_base::sync_with_stdio(0); cin.tie(0);
    
    cin >> N >> K;
    for (int i=0; i<N; i++){
        cin >> words[i];
    }

    // 5ê°œ ë¯¸ë§Œì´ë©´ ì ˆëŒ€ ëª»ë§Œë“¤ìŒ
    if (K<5) {
        cout << 0;
        exit(0);
    }

    int bit = 0b00000010000010000100000101;  // 2ì§„ìˆ˜ë¡œ a, c, i, n, t ì¼œì¤Œ

    // ë¯¸ë¦¬ ê° ë‹¨ì–´ì— ëŒ€í•´ í•„ìš”í•œ bitë¥¼ ë§Œë“¤ì–´ë†“ê¸°
    for (int i=0; i<N; i++){
        wordsBit[i] = 0b00000010000010000100000101;
        string word = words[i];
      	
        // ëª¨ë“  ë‹¨ì–´ëŠ” "anta"ë¡œ ì‹œì‘ë˜ê³ , "tica"ë¡œ ëë‚˜ë‹ˆê¹Œ ê·¸ ì‚¬ì´ë§Œ
        for (int j=4; j<word.length()-4; j++){
            wordsBit[i] |= 1 << (word[j]-'a');  // ì•ŒíŒŒë²³ì— ë§ëŠ” ë¹„íŠ¸ë¥¼ ì¼œì£¼ê¸°
        }
        // cout << bitset<26>(wordsBit[i]) << '\n';  // ê° ë¬¸ìì˜ ë¹„íŠ¸ê°€ ì˜ ëëŠ”ì§€ í™•ì¸
    }
    
    // ì´ë¯¸ 5ê°œì˜ ê¸€ìëŠ” ê°€ë¥´ì³¤ìœ¼ë‹ˆ ì§„í–‰ë„ëŠ” 5ë¡œ ì‹œì‘, -1ì€ ë§ˆì§€ë§‰ìœ¼ë¡œ ì²´í¬í•œ ë¹„íŠ¸ì˜ ì¸ë±ìŠ¤
    dfs(bit, 5, -1);

    cout << ans;
    
    return 0;
}
```

---

### ğŸ’¡ ì œì¶œ ê²°ê³¼ 

20ms ëŒ€ì˜ ë¹ ë¥¸ ì†ë„ë¡œ ë‹µì„ êµ¬í•  ìˆ˜ ìˆë‹¤.

{% include figure.liquid loading="eager" path="files/baekjoon/1062-1.png" class="img-fluid rounded z-depth-1" zoomable=true %}

ë°±íŠ¸ë˜í‚¹ì„ ì‚¬ìš©í•œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì†ë„
{% include figure.liquid loading="eager" path="files/baekjoon/1062-2.png" class="img-fluid rounded z-depth-1" zoomable=true %}

---

### ğŸ’¡ ë§ˆë¬´ë¦¬ 

ë¹„íŠ¸ ë¬¸ì œë¥¼ ëª‡ê°œ í’€ë‹¤ ë³´ë‹ˆ ë¹„íŠ¸ ì—°ì‚°ì„ í™œìš©í•˜ëŠ” ëŠ¥ë ¥ì´ ì¢€ ìƒê²¼ë‹¤.

ëˆˆìœ¼ë¡œ í™•ì¸í•˜ê¸° í˜ë“ ë°, 0bì™€ bitset<>ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ê°„ì— ê°’ì„ ì²´í¬í•´ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ì€ ê²ƒ ê°™ë‹¤.



