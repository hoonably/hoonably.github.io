<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://hoonably.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://hoonably.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-07-15T04:22:58+00:00</updated><id>https://hoonably.github.io/feed.xml</id><title type="html">hoonably</title><subtitle>Undergraduate student at UNIST (CSE), interested in AI, optimization, and systems programming. </subtitle><entry><title type="html">Test-Time Learning for Large Language Models</title><link href="https://hoonably.github.io/blog/ttl-llm/" rel="alternate" type="text/html" title="Test-Time Learning for Large Language Models"/><published>2025-07-14T12:25:46+00:00</published><updated>2025-07-14T12:25:46+00:00</updated><id>https://hoonably.github.io/blog/ttl-llm</id><content type="html" xml:base="https://hoonably.github.io/blog/ttl-llm/"><![CDATA[<div class="page-body"><table id="228451cf-7b79-800d-bf86-c79f3d2a2615" class="simple-table"><tbody><tr id="228451cf-7b79-805d-980b-ff8b78824400"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">ArXiv</th><td id="L|H:" class="" style="width:580.5px"><a href="https://arxiv.org/abs/2505.20633">https://arxiv.org/abs/2505.20633</a></td></tr><tr id="228451cf-7b79-80d6-8c6f-daa59183b94f"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Project Page</th><td id="L|H:" class="" style="width:580.5px"></td></tr><tr id="228451cf-7b79-8089-bbe5-d4dd3c3bc5f4"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Github Code</th><td id="L|H:" class="" style="width:580.5px"></td></tr></tbody></table><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="228451cf-7b79-80c0-acd7-fa4383b79091"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%"><strong>Key Differentiator</strong><br/>Perplexity Minimization<br/>ê¸°ì¡´ TTA (ex. Tent, EATA, COME)ëŠ” ì „ë¶€ <strong>entropy minimization</strong> ê¸°ë°˜<br/>â†’ ì¶œë ¥ ë¶„í¬ì˜ ë¶ˆí™•ì‹¤ì„±ì„ ë‚®ì¶”ëŠ” ë°©í–¥<br/>í•˜ì§€ë§Œ ì´ ë…¼ë¬¸ì€ <strong>LLMì˜ autoregressive êµ¬ì¡°</strong>ë¥¼ ê³ ë ¤í•´<br/>â†’ ì¶œë ¥ entropyê°€ ì•„ë‹ˆë¼ <strong>ì…ë ¥ perplexityë¥¼ ìµœì†Œí™”</strong>í•˜ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ objectiveë¥¼ ì œì•ˆ</div></figure><p id="228451cf-7b79-80ac-8355-e2df159c9edb" class=""> </p><h2 id="228451cf-7b79-8069-b876-f517d055bf9d" class="">2. Related Work</h2><p id="22b451cf-7b79-8057-b85b-f612da90620e" class="">ê¸°ì¡´ ë°©ë²•ë“¤ì˜ íŠ¹ì§•ê³¼ LLMì—ì„œì˜ í•œê³„</p><p id="22b451cf-7b79-80ed-bf02-dabf2515d36f" class=""> </p><h3 id="228451cf-7b79-80b1-8eab-eea3d94e8d10" class=""><strong>Fine-tuning</strong></h3><p id="228451cf-7b79-8093-9704-e2652b31e113" class="">: ë¼ë²¨ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ íŒŒë¼ë¯¸í„°ë¥¼ ì—…ë°ì´íŠ¸</p><p id="228451cf-7b79-8028-8cb1-d8e61caf0731" class="">â†’ ë¼ë²¨ë§ ë¹„ìš©ì´ í¬ê³ , í˜„ì‹¤ì—ì„œ ê³„ì†í•´ì„œ ë¼ë²¨ëœ ë°ì´í„°ë¥¼ êµ¬í•˜ê¸° í˜ë“¦</p><p id="22b451cf-7b79-8024-aa59-e40974b3ac58" class=""> </p><h3 id="228451cf-7b79-8060-95a7-f6be2b99ddcc" class=""><strong>RAG (Retrieval-Augmented Generation)</strong></h3><p id="228451cf-7b79-802d-8528-c9348f82fdb1" class="">: ì™¸ë¶€ ì§€ì‹ ë² ì´ìŠ¤ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ ì°¾ì•„ì™€ ì‘ë‹µì— ë°˜ì˜</p><p id="228451cf-7b79-80cd-9319-cd8664844426" class="">â†’ ê²€ìƒ‰ í’ˆì§ˆì— ì˜ì¡´ + ê²€ìƒ‰ ë¹„ìš© ìˆìŒ</p><p id="22b451cf-7b79-8096-a355-ef77f22c55f5" class=""> </p><h3 id="228451cf-7b79-80d3-8616-ffdf47dcc54a" class=""><strong>TTT (Test-Time Training)</strong></h3><p id="228451cf-7b79-80b2-8fdd-c458256d278e" class="">: í›ˆë ¨ ë°ì´í„°ë‚˜ knowledge baseì—ì„œ ìœ ì‚¬í•œ ë°ì´í„°ë¥¼ ì°¾ì•„ì„œ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •</p><p id="228451cf-7b79-800e-a381-e3753bc18e28" class="">â†’ í›ˆë ¨ ë°ì´í„° ì ‘ê·¼ í•„ìš” + ê²€ìƒ‰ ê³¼ì •ì´ ëŠë¦¼</p><p id="22b451cf-7b79-80d4-98e6-d9435ebe0d98" class=""> </p><h3 id="228451cf-7b79-806e-bd2b-f6b5030fa76e" class=""><strong>TTA (Test-Time Adaptation)</strong></h3><p id="22b451cf-7b79-8036-9885-cf7a0c88ce7b" class="">: ë¼ë²¨ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ì´ìš©í•´ ëª¨ë¸ì„ ì ì‘ì‹œí‚´</p><p id="22b451cf-7b79-80c5-b51a-e1b2e771c319" class=""> </p><p id="22b451cf-7b79-80cf-8d6b-d0ae3b185971" class="">â†’ ëŒ€ë¶€ë¶„ <strong>entropy minimization</strong> (ì¶œë ¥ì˜ í™•ë¥  ë¶„í¬ë¥¼ ë‹¨ì¼í•˜ê²Œ ë§Œë“œëŠ” ë°©ì‹)ì„ ì‚¬ìš©</p><p id="22b451cf-7b79-80e9-bf59-f47bc95dce14" class="">â†’ LLMì€ <strong>autoregressive êµ¬ì¡°</strong>ì¸ë°, ì´ êµ¬ì¡°ë¥¼ ë¬´ì‹œí•˜ê³  entropyë§Œ ìµœì†Œí™”í•˜ë©´ íš¨ê³¼ê°€ ë–¨ì–´ì§</p><p id="22b451cf-7b79-80d2-aa7e-c43d60607bd5" class=""> </p><hr id="22b451cf-7b79-800f-81bc-ee0e3cee3a40"/><p id="230451cf-7b79-8086-8407-cc24beab462a" class=""> </p><h3 id="230451cf-7b79-805e-8ad1-d0b1d19b8b87" class=""><strong>ê¸°ì¡´ LLM TTAê°€ ë¶ˆê°€ëŠ¥í•œ ì´ìœ </strong></h3><ul id="22b451cf-7b79-80d4-bb4d-e00cc1d837c7" class="bulleted-list"><li style="list-style-type:disc">ê¸°ì¡´ TTAëŠ” ì£¼ë¡œ BatchNorm í†µê³„(mean/var)ë¥¼ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ì ì‘</li></ul><ul id="22b451cf-7b79-8063-86d2-c78a9d17f579" class="bulleted-list"><li style="list-style-type:disc">ê·¸ëŸ°ë° LLMì—ëŠ” BatchNormì´ ì—†ê³  ëŒ€ì‹  LayerNormì„ ì“°ê³ ,<p id="22b451cf-7b79-80d0-a1f7-ccf970ff75a7" class="">LayerNormì€ test-timeì—ì„œ ì—…ë°ì´íŠ¸í•  ê²Œ ì—†ìŒ â†’ ê¸°ì¡´ ë°©ì‹ ì ìš© ë¶ˆê°€</p></li></ul><p id="22b451cf-7b79-80af-901a-fe22ff50417a" class=""> </p><p id="22b451cf-7b79-801a-9d31-f74b41c0aa98" class=""><strong>ê·¸ëŸ¼ LLMì—ì„œëŠ” ì–´ë–¤ test-time ì‹ í˜¸ê°€ ìˆëŠ”ê°€?</strong></p><p id="22b451cf-7b79-8037-90c1-c09d1596301f" class="">â†’ ì…ë ¥ perplexityë¥¼ ì´ìš©í•´ì„œ</p><p id="22b451cf-7b79-8073-90b1-feb1c83fbd42" class="">â†’ backprop ê°€ëŠ¥í•œ self-supervised objectiveë¥¼ ì„¤ê³„í•¨</p><p id="22b451cf-7b79-805e-80da-ea2e2cdbba5b" class=""> </p><p id="22b451cf-7b79-8093-9665-c1b6bc4b6983" class=""> </p><hr id="22b451cf-7b79-800e-811f-d68d1ee16165"/><p id="22b451cf-7b79-80c0-abeb-c57e8d13259a" class=""> </p><p id="22b451cf-7b79-80aa-8994-fa63cb4c7425" class=""> </p><h3 id="22b451cf-7b79-80bf-82bd-c566a88da574" class="">Why <span style="border-bottom:0.05em solid">Entropy Minimization </span>Doesnâ€™t Work Well for LLMs?</h3><p id="230451cf-7b79-80cc-8e08-ea5ef940e2f3" class=""> </p><h3 id="22b451cf-7b79-804f-a601-d6a0f9501b1e" class=""><strong>Entropyë€?</strong></h3><p id="22b451cf-7b79-807a-8542-d52534288f34" class="">entropy = uncertainty</p><p id="22b451cf-7b79-80fa-a0bc-e6ec970a595a" class="">[0.5, 0.5] â†’ high entropy</p><p id="22b451cf-7b79-805b-9ef8-e6391cc368fc" class="">[0.99, 0.01] â†’ less entropy</p><h3 id="22b451cf-7b79-8027-904a-fc5f2404dd21" class=""><strong>Autoregressiveí•œ LLMì€?</strong></h3><p id="22b451cf-7b79-8019-8603-eb9f20de0c39" class="">Predict tokens one by one</p><p id="22b451cf-7b79-8079-984a-dce9ef943987" class="">Each prediction depends on previous tokens</p><p id="22b451cf-7b79-805c-a553-d93f7659651a" class="">Errors accumulate over time</p><div id="22b451cf-7b79-803a-be75-dc152dd1ef88" class="column-list"><div id="22b451cf-7b79-8080-b2fa-df7a1cbaa807" style="width:56.25%" class="column"><h3 id="22b451cf-7b79-800b-8a63-e72445209a53" class=""><strong>ë¬¸ì œì </strong></h3><p id="230451cf-7b79-80f2-92b3-c4a928cd37ca" class=""> </p><ul id="22b451cf-7b79-8006-8513-f83cf997efe9" class="bulleted-list"><li style="list-style-type:disc">Ignores token dependencies</li></ul><ul id="22b451cf-7b79-8035-8ca3-c8f240e2eb74" class="bulleted-list"><li style="list-style-type:disc">Optimizes locally, not globally</li></ul><ul id="22b451cf-7b79-8096-aba3-d6e3cb6f63a4" class="bulleted-list"><li style="list-style-type:disc">Early mistakes â†’ later tokens collapse</li></ul><p id="22b451cf-7b79-8038-93ac-f862f030098b" class=""> </p></div><div id="22b451cf-7b79-80ec-a2f1-c9ead77b92d1" style="width:43.75%" class="column"><figure id="22b451cf-7b79-80d4-825f-ca3ab88bf03b" class="image"><a href="/files/2025-07-14-ttl-llm/image.webp"><img style="width:288px" src="/files/2025-07-14-ttl-llm/image.webp"/></a></figure><p id="230451cf-7b79-80cc-8cd6-dec69deb905f" class=""> </p></div></div><p id="22b451cf-7b79-8020-8fd3-d3b4ab3e46fc" class=""> </p><p id="22b451cf-7b79-80cd-a96f-cab01fea9a61" class=""> </p><hr id="22b451cf-7b79-8011-9b3e-edf816abbd60"/><p id="22b451cf-7b79-8016-ad45-e818e1b80858" class=""> </p><h2 id="22b451cf-7b79-80e4-8a54-cf80354bfa81" class="">4.1 Perplexity Minimization for Test-Time Learning</h2><p id="22b451cf-7b79-8019-a676-e5db3decf359" class="">Entropy ê¸°ë°˜ì˜ ë¬¸ì œì  í•´ê²°ì±…</p><h3 id="22b451cf-7b79-8012-a037-c4abb7fce194" class=""><strong>perplexity</strong></h3><p id="22b451cf-7b79-809f-bbec-e6992e9dd450" class="">: A metric that measures how confidently a language model predicts a given sequence</p><p id="22b451cf-7b79-8006-ac32-dd5ebd11e917" class="">ì–¸ì–´ ëª¨ë¸ì´ <strong>ì£¼ì–´ì§„ ì‹œí€€ìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ â€œìì‹  ìˆê²Œâ€ ì˜ˆì¸¡í–ˆëŠ”ê°€</strong>ë¥¼ ì¸¡ì •í•˜ëŠ” ì§€í‘œ</p><figure id="230451cf-7b79-80e2-86d9-ff48b844df8b" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ£</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><msup><mi>e</mi><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><mi>p</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo>âˆ£</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mrow><mn>1</mn><mo>:</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\min_{\Theta} \mathcal{P}(y \mid x; \Theta) = \min_{\Theta} e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(y_t \mid x, y_{1:t-1}; \Theta) \right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4943em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8548em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1105em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">(</span></span><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆ£</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">:</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure><ul id="22b451cf-7b79-80aa-93e4-e18ad13542f3" class="bulleted-list"><li style="list-style-type:disc">log probabilityê°€ í´ìˆ˜ë¡ â†’ ì˜ˆì¸¡ ì˜í•¨ â†’ perplexity ë‚®ìŒ</li></ul><ul id="22b451cf-7b79-80dc-9da9-d29959795c5c" class="bulleted-list"><li style="list-style-type:disc">í™•ë¥  ì˜ˆì¸¡ì´ ë‚®ê³  ë¶ˆí™•ì‹¤í• ìˆ˜ë¡ â†’ perplexity ë†’ìŒ</li></ul><p id="22c451cf-7b79-8088-93db-ccb79cc8c008" class=""> </p><h3 id="22c451cf-7b79-80e4-933a-e66aab6d807b" class=""><strong>TTAì—ì„œì˜ ë¬¸ì œì ì„ í•´ê²°</strong></h3><p id="22c451cf-7b79-80af-964d-eea408ed9f48" class="">entropyëŠ” <code>[pâ‚, pâ‚‚, ..., p_T]</code> ê° í† í°ì— ëŒ€í•´ ê°œë³„ì ìœ¼ë¡œ í™•ë¥  ë¶„í¬ë¥¼ ë§Œë“¤ì–´ì„œ í† í°ê°„ì˜ ê´€ê³„ë³´ë‹¤ëŠ”, ê° ìœ„ì¹˜ì—ì„œ ë‹¨ì¼ ì •ë‹µì„ ê°•í•˜ê²Œ ë§Œë“¤ë ¤ê³  í•¨. â†’ í† í° ê°„ dependency ë¬´ì‹œ</p><p id="22c451cf-7b79-80f8-9ac8-c584410a694d" class="">â†’ ì‹œê·¸ë§ˆë¡œ ì „ì²´ ì‹œí€€ìŠ¤ì— ëŒ€í•œ joint probabilityì˜ log lossë¥¼ êµ¬í•˜ê¸° ë•Œë¬¸ì— í† í° ê°„ ì˜ì¡´ì„±ì„ ì™„ì „íˆ ë°˜ì˜í•¨</p><p id="22c451cf-7b79-8017-a413-df787ab2890d" class="">â†’ ì „ì²´ ë¬¸ì¥ì„ ì–¼ë§ˆë‚˜ ì˜ ì˜ˆì¸¡í–ˆëŠ”ê°€? ê¸°ì¤€ìœ¼ë¡œ loss ì¤Œ</p><p id="22c451cf-7b79-80e9-90f8-c969a60f5bfc" class="">â†’ ê¸€ë¡œë²Œí•œ ê´€ì ì—ì„œ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸</p><p id="22c451cf-7b79-808b-81ac-d224c631a7d2" class=""> </p><h3 id="22b451cf-7b79-8030-8496-e5c591256d54" class=""><strong>ë¬¸ì œì </strong></h3><p id="22b451cf-7b79-8016-ad51-da552a92301e" class="">í…ŒìŠ¤íŠ¸ ì‹œì—” ground truthê°€ ì—†ìŒ â†’ output perplexityë¥¼ ëª» ì”€</p><p id="22b451cf-7b79-8031-b297-fd2fcc442c04" class="">x = input / y = output</p><ul id="22b451cf-7b79-803a-952a-d16556f33984" class="bulleted-list"><li style="list-style-type:disc">LLM ì„±ëŠ¥ì„ ì˜¬ë¦¬ë ¤ë©´ ë‹¹ì—°íˆ <strong>P(y | x)</strong> ë¥¼ ì¤„ì´ëŠ” ê²Œ ë§ìŒ</li></ul><ul id="22b451cf-7b79-8031-b5af-efaf2fb11fdb" class="bulleted-list"><li style="list-style-type:disc">í•˜ì§€ë§Œ <strong>test-timeì—ëŠ” yë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì—</strong> ìœ„ì˜ ì‹ì„ ì§ì ‘ ì“¸ ìˆ˜ ì—†ë‹¤.</li></ul><p id="22b451cf-7b79-8054-99f1-dc0f70799dde" class=""> </p><p id="22b451cf-7b79-8002-b89a-d8935b987385" class="">â†’ ë°œê²¬</p><p id="22b451cf-7b79-803b-86cf-df6b8d5e5b04" class=""> <strong>P(y | x)ë¥¼ ì¤„ì´ëŠ” ëŒ€ì‹  P(x)ë¥¼ ì¤„ì´ëŠ” ê²ƒë„ íš¨ê³¼ê°€ ìˆë‹¤</strong>ëŠ” ê²ƒ</p><p id="22b451cf-7b79-80ea-a5c1-e77486f97e74" class=""> </p><p id="22b451cf-7b79-8037-ba96-c3308d51b6d8" class=""> </p><p id="22b451cf-7b79-8063-b945-cfa80144b7f0" class="">&quot;The trend of LLMâ€™s perplexity to the input P(x; Î˜) and perplexity to the output P(y|x; Î˜) is the same.â€</p><p id="22b451cf-7b79-8091-8f82-c078051a9c88" class=""> </p><div id="22b451cf-7b79-8045-b456-d6a344cb5192" class="column-list"><div id="22b451cf-7b79-80e1-9914-f452026468d7" style="width:50%" class="column"><figure id="22b451cf-7b79-808d-9d6f-c94e5f0e107d" class="image"><a href="/files/2025-07-14-ttl-llm/image%201.webp"><img style="width:336px" src="/files/2025-07-14-ttl-llm/image%201.webp"/></a></figure></div><div id="22b451cf-7b79-803e-a42f-e85c7790930c" style="width:50%" class="column"><p id="22b451cf-7b79-8089-abb1-e1930f44f1fe" class="">ì™¼ìª½ ê·¸ë˜í”„ë¥¼ ë³´ë©´,</p><p id="22b451cf-7b79-8055-b92b-ccef550f09ce" class=""> input/output perplexityë¥¼ ì¸¡ì •í–ˆì„ë•Œ </p><p id="22b451cf-7b79-80c0-83e7-e489e5f385e1" class="">ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë³´ì¸ë‹¤.</p><p id="22b451cf-7b79-806e-9a60-e917943754e8" class=""> </p><p id="22b451cf-7b79-80f2-9f1e-d1189df5b071" class="">â†’ ì…ë ¥ perplexityë¥¼ ì¤„ì´ë©´ ì¶œë ¥ë„ ê°™ì´ ì¢‹ì•„ì§</p></div></div><figure id="230451cf-7b79-80b4-9896-c4b2ca0261b2" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ£</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><msup><mi>e</mi><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><mi>p</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo>âˆ£</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mrow><mn>1</mn><mo>:</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\min_{\Theta} \mathcal{P}(y \mid x; \Theta) = \min_{\Theta} e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(y_t \mid x, y_{1:t-1}; \Theta) \right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4943em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8548em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1105em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">(</span></span><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆ£</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">:</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure><p id="230451cf-7b79-808e-91c6-d67fe9432091" class="">ì—ì„œ yë¥¼ ì“°ì§€ ì•ŠëŠ” ë‹¤ìŒìœ¼ë¡œ ë³€ê²½</p><figure id="230451cf-7b79-80e1-8af6-e3b385d9201f" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>T</mi></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>=</mo><msup><mi>e</mi><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><mi>p</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo>âˆ£</mo><msub><mi>x</mi><mrow><mn>1</mn><mo>:</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\mathcal{P}(\{x_1, x_2, \ldots, x_T\}) = e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(x_t \mid x_{1:t-1}; \Theta) \right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">({</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1105em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1105em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">(</span></span><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">:</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure><p id="230451cf-7b79-8016-9ece-d43fecc884bd" class=""> </p><p id="22b451cf-7b79-809b-a4f0-f83cb06db2c9" class=""> </p><hr id="22b451cf-7b79-80db-912f-f953489d36d3"/><p id="22b451cf-7b79-80b5-8202-c66ff8f65492" class=""> </p><h2 id="22b451cf-7b79-8060-8efc-da7cfbc12828" class="">4.2 Sample Efficient Learning Strategy</h2><p id="22b451cf-7b79-8069-b76a-c9fa77f63e82" class=""> </p><p id="22b451cf-7b79-80c6-a8fc-ffe640566cb1" class="">TTLì—ì„œ <strong>ëª¨ë“  í…ŒìŠ¤íŠ¸ ìƒ˜í”Œì„ ë‹¤ ì‚¬ìš©í•´ì„œ ì—…ë°ì´íŠ¸</strong>í•˜ë©´:</p><ul id="22b451cf-7b79-80e0-bbc5-cd3bc109c1ac" class="bulleted-list"><li style="list-style-type:disc">ê³„ì‚°ëŸ‰ ë‚­ë¹„</li></ul><ul id="22b451cf-7b79-80f3-a140-e8ba2999fc26" class="bulleted-list"><li style="list-style-type:disc">íš¨ê³¼ ì—†ëŠ” ìƒ˜í”Œì— ëª¨ë¸ì´ ì˜¤íˆë ¤ í”ë“¤ë¦´ ìˆ˜ ìˆìŒ</li></ul><p id="22b451cf-7b79-800e-895e-ded62c0c3963" class=""> </p><div id="22b451cf-7b79-80e8-89a0-e7822864d27d" class="column-list"><div id="22b451cf-7b79-8089-a719-d4da4f4ee9cd" style="width:37.5%" class="column"><figure id="22b451cf-7b79-806c-aba4-e7fd671d9778" class="image"><a href="/files/2025-07-14-ttl-llm/image%202.webp"><img style="width:336px" src="/files/2025-07-14-ttl-llm/image%202.webp"/></a></figure></div><div id="22b451cf-7b79-8027-8161-f6329f7f4cb2" style="width:62.5%" class="column"><p id="22b451cf-7b79-8004-995d-d0e2c021b7b1" class="">â†’ ë°œê²¬</p><ul id="22b451cf-7b79-803a-908a-c41aab4cfd39" class="bulleted-list"><li style="list-style-type:disc">high-perplexity ìƒ˜í”Œë¡œ í•™ìŠµí•˜ë©´ ë” ë†’ì€ ROUGE ì„±ëŠ¥</li></ul><ul id="22b451cf-7b79-8029-8d68-ee421c997c49" class="bulleted-list"><li style="list-style-type:disc">low-perplexity ìƒ˜í”Œë§Œ ì“°ë©´ ì„±ëŠ¥ <strong>ì˜¤íˆë ¤ ë–¨ì–´ì§</strong></li></ul><p id="22b451cf-7b79-8098-b73e-df38c7e2c5da" class=""><strong>Low-perplexity input</strong>ì€ ì´ë¯¸ ì˜ ë§ì¶”ëŠ” ê²ƒì´ë¼ ì •ë³´ ê±°ì˜ ì—†ê¸° ë•Œë¬¸.</p></div></div><p id="22c451cf-7b79-80e5-a7c2-f063f5939090" class=""> </p><blockquote id="22c451cf-7b79-8088-bcf2-fa358c76c5cc" class="">ROUGE(Recall-Oriented Understudy for Gisting Evaluation):<p id="22c451cf-7b79-80bd-8090-ceb01df31db6" class="">ìì—°ì–´ ìƒì„± ê²°ê³¼ë¥¼ <strong>reference ë¬¸ì¥ê³¼ ë¹„êµí•´ ì–¼ë§ˆë‚˜ ì˜ ì¼ì¹˜í•˜ëŠ”ì§€</strong> í‰ê°€í•˜</p><p id="22c451cf-7b79-80df-8adc-f1404765db4b" class="">ROUGE-L : Longest Common Subsequence (LCS) ê¸°ë°˜ìœ¼ë¡œ ê³µí†µ ë¶€ë¶„ë¬¸ìì—´ </p></blockquote><p id="230451cf-7b79-8030-9bfa-faad42424686" class=""> </p><ul id="230451cf-7b79-803c-bc28-caf02439d3ae" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>min</mi><mo>â¡</mo></mrow><mover accent="true"><mi mathvariant="normal">Î˜</mi><mo>Ë‰</mo></mover></msub><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min_{\bar{\Theta}} S(x) \mathcal{P}(x; \Theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">min</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4707em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight">Î˜</span></span><span style="top:-2.9523em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mtight">Ë‰</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2293em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span> â†’ informativeí•œ ìƒ˜í”Œë§Œ ê³¨ë¼ ì“°ì</li></ul><ul id="22b451cf-7b79-80e7-9cb4-dfec00a320fa" class="bulleted-list"><li style="list-style-type:disc">ê° ìƒ˜í”Œë§ˆë‹¤ perplexityë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ìˆ˜ S(x) ë¥¼ ë§¤ê¸°ê³ </li></ul><ul id="22b451cf-7b79-800e-a918-e95010177d34" class="bulleted-list"><li style="list-style-type:disc">S(x)ê°€ ë†’ì€ ìƒ˜í”Œë§Œ backpropagationì— ì‚¬ìš©</li></ul><figure id="230451cf-7b79-800b-9a76-c7f7f3f97c97" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Î»</mi><mo>â‹…</mo><msup><mi>e</mi><mrow><mi>log</mi><mo>â¡</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>log</mi><mo>â¡</mo><msub><mi>P</mi><mn>0</mn></msub></mrow></msup><mo>â‹…</mo><msub><mi mathvariant="double-struck">I</mi><mrow><mo stretchy="false">{</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>P</mi><mn>0</mn></msub><mo stretchy="false">}</mo></mrow></msub><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S(x) = \lambda \cdot e^{\log \mathcal{P}(x; \Theta) - \log P_0} \cdot \mathbb{I}_{\{ \mathcal{P}(x; \Theta) &gt; P_0 \}}(\mathbf{x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.938em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathcal mtight" style="margin-right:0.08222em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mbin mtight">âˆ’</span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathbb">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">{</span><span class="mord mathcal mtight" style="margin-right:0.08222em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mrel mtight">&gt;</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span></span></div></figure><p id="22b451cf-7b79-8056-baf8-d4da99a94231" class="">Low-perplexity ìƒ˜í”Œì€ ì œì™¸í•˜ê³ , High-perplexity ìƒ˜í”Œì€ ë¹„ì¤‘ì„ í¬ê²Œ ë¶€ì—¬í•´ì„œ í•™ìŠµì— ë°˜ì˜</p><p id="22c451cf-7b79-8075-89a5-f7fd08f21c1f" class="">ì—¬ê¸°ì„œ ì•„ë¼ë¹„ì•„ìˆ«ì 2 ê°™ì´ ìƒê¸´ê±´, indicator function (ì§€ì‹œ í•¨ìˆ˜)ë¥¼ ì˜ë¯¸í•œë‹¤.</p><p id="22c451cf-7b79-80dc-8467-f48d4cc2e5d6" class="">ì¦‰, ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ <code>1</code>, ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ <code>0</code>ì´ ë˜ëŠ” <strong>ë¶ˆì—°ì† í•¨ìˆ˜</strong></p><p id="22c451cf-7b79-809c-861a-dd2af8f766e5" class=""> </p><p id="22b451cf-7b79-8000-aebb-c031cf1589e6" class=""> </p><p id="22b451cf-7b79-8018-b849-d33839c764d4" class=""><strong>íš¨ê³¼</strong></p><ul id="22b451cf-7b79-80b5-b634-d475be485bc7" class="bulleted-list"><li style="list-style-type:disc">ë¶ˆí•„ìš”í•œ ìƒ˜í”Œ ì—…ë°ì´íŠ¸ë¥¼ ì¤„ì—¬ <strong>ê³„ì‚°ëŸ‰ ê°ì†Œ</strong></li></ul><ul id="22b451cf-7b79-80bb-9d5b-d69a1614058d" class="bulleted-list"><li style="list-style-type:disc">ë” informativeí•œ ìƒ˜í”Œë¡œë§Œ ì—…ë°ì´íŠ¸í•´ì„œ <strong>ì„±ëŠ¥ í–¥ìƒ</strong></li></ul><p id="22b451cf-7b79-8085-b569-c0aaa414d180" class=""> </p><p id="22b451cf-7b79-80b0-b0c9-d96ccdd7b53a" class=""> </p><hr id="22b451cf-7b79-80f5-afa7-dde5edf2c716"/><p id="22b451cf-7b79-805f-8a98-ce2bb3e01437" class=""> </p><h2 id="22b451cf-7b79-8076-b30d-e659baf153f4" class="">4.3 Modulating Parameters for Test-Time Learning</h2><p id="22b451cf-7b79-80e7-99b3-d197ce57271e" class=""> </p><div id="22b451cf-7b79-8058-879c-fabc5f27b061" class="column-list"><div id="22b451cf-7b79-8061-a316-c76db6c9cdd0" style="width:37.5%" class="column"><figure id="22b451cf-7b79-80c7-ad5a-d193dd6e0ab0" class="image"><a href="/files/2025-07-14-ttl-llm/image%203.webp"><img style="width:384px" src="/files/2025-07-14-ttl-llm/image%203.webp"/></a></figure></div><div id="22b451cf-7b79-80f4-81b3-cd120d1b174d" style="width:62.5%" class="column"><p id="22b451cf-7b79-804a-a5a2-e7bd244d4a44" class="">LoRA(Low-Rank Adaptation)ëŠ” ì¼ë¶€ linear layerì— ì‘ì€ ë­í¬ì˜ ë³´ì¡° í–‰ë ¬ A, Bë¥¼ ì¶”ê°€í•´ì„œ ì—…ë°ì´íŠ¸í•¨</p><p id="22b451cf-7b79-808e-9310-fd8c334f1770" class="">â†’ LoRAë¡œë§Œ ì—…ë°ì´íŠ¸í•œ ê²½ìš°, full-param updateë³´ë‹¤ original ì„±ëŠ¥ ìœ ì§€ë ¥ì´ í›¨ì”¬ ì¢‹ìŒ</p><p id="22b451cf-7b79-80ea-a2cc-cab53efecf78" class="">ë„ë©”ì¸ ì ì‘ ì¤‘ì—ë„ task ì„±ëŠ¥ ìœ ì§€ â†’ <strong>forgetting ì–µì œ</strong></p><p id="22b451cf-7b79-80d1-b0b3-dc82c626f69b" class=""> </p></div></div><figure id="230451cf-7b79-80cd-b778-da016b47b2d2" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mover accent="true"><mi mathvariant="normal">Î˜</mi><mo>~</mo></mover></munder><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mover accent="true"><mi mathvariant="normal">Î˜</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mrow><mi mathvariant="normal">Î”</mi><mi mathvariant="normal">Î˜</mi></mrow></munder><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo>+</mo><mi mathvariant="normal">Î”</mi><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min_{\tilde{\Theta}} S(x)\mathcal{P}(x; \tilde{\Theta}) = \min_{\Delta\Theta} S(x)\mathcal{P}(x; \Theta + \Delta\Theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8303em;vertical-align:-0.9101em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.1899em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight">Î˜</span></span><span style="top:-3.3023em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mtight">~</span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9101em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">Î˜</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4943em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î”Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î”Î˜</span><span class="mclose">)</span></span></span></span></span></div></figure><p id="22b451cf-7b79-80e9-9330-e11f33f34a22" class="">LoRAë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ì‹ì´ ë¨</p><p id="22b451cf-7b79-80eb-af86-d6f29188262e" class=""> </p><p id="22b451cf-7b79-8043-9202-fe27643a3084" class=""> </p><hr id="22b451cf-7b79-801c-92c6-c0f157df1135"/><p id="22b451cf-7b79-8067-9e46-d2839d65f719" class=""> </p><h2 id="22b451cf-7b79-803c-b447-d379191c4e1c" class="">5.1. Experimental Settings</h2><h3 id="22b451cf-7b79-806f-bc4b-c17fec07bb04" class="">Benchmark: AdaptEval</h3><ul id="22b451cf-7b79-80c0-8a47-f33d0d9d22f4" class="bulleted-list"><li style="list-style-type:disc">ë…¼ë¬¸ì—ì„œ ë§Œë“  ìƒˆë¡œìš´ í‰ê°€ ë²¤ì¹˜ë§ˆí¬</li></ul><ul id="22b451cf-7b79-8033-95e6-f705c912a85e" class="bulleted-list"><li style="list-style-type:disc">ë‹¤ì–‘í•œ ë„ë©”ì¸ê³¼ ê³¼ì œ ìœ í˜•ì„ í¬í•¨í•˜ì—¬ <strong>LLMì˜ ì ì‘ ëŠ¥ë ¥</strong>ì„ ë‹¤ê°ë„ë¡œ í‰ê°€</li></ul><table id="22b451cf-7b79-806f-a184-fd148ff700c1" class="simple-table"><thead class="simple-table-header"><tr id="22b451cf-7b79-80b9-8216-e09179b828b6"><th id="x;wa" class="simple-table-header-color simple-table-header">Bench</th><th id="@QS^" class="simple-table-header-color simple-table-header">ëª©ì </th><th id="hGn_" class="simple-table-header-color simple-table-header" style="width:415px">í¬í•¨ëœ ë°ì´í„°ì…‹</th></tr></thead><tbody><tr id="22b451cf-7b79-8050-a97e-c598c4582ad8"><td id="x;wa" class=""><strong>DomainBench</strong></td><td id="@QS^" class="">ë„ë©”ì¸ ì§€ì‹ ì ì‘</td><td id="hGn_" class="" style="width:415px">Geography, Agriculture, Medicine, Finance</td></tr><tr id="22b451cf-7b79-805f-805b-e0366f300f74"><td id="x;wa" class=""><strong>InstructionBench</strong></td><td id="@QS^" class="">ì§€ì‹œ ë”°ë¥´ê¸°</td><td id="hGn_" class="" style="width:415px">Alpaca-GPT4, Dolly, InstructionWild</td></tr><tr id="22b451cf-7b79-80c5-90d5-c7153b21311d"><td id="x;wa" class=""><strong>ReasoningBench</strong></td><td id="@QS^" class="">ë…¼ë¦¬ ì¶”ë¡ </td><td id="hGn_" class="" style="width:415px">GSM8K, MetaMath, Logiqa</td></tr></tbody></table><h3 id="22b451cf-7b79-8090-9837-cfacb0eb138e" class="">í‰ê°€ ì§€í‘œ (Metrics)</h3><ul id="22b451cf-7b79-8094-b75e-d4b62e6aa1ee" class="bulleted-list"><li style="list-style-type:disc"><strong>DomainBench, InstructionBench</strong> â†’ <em>ROUGE-Lsum (R-Lsum)</em></li></ul><ul id="22b451cf-7b79-80ab-a5ec-ed82c42d59d8" class="bulleted-list"><li style="list-style-type:disc"><strong>ReasoningBench</strong> â†’ <em>Exact Match (EM)</em></li></ul><blockquote id="22b451cf-7b79-8061-9fca-ce8d9a499ab1" class="">ê°ê°ì˜ task íŠ¹ì„±ì— ë§ëŠ” ëŒ€í‘œ ì§€í‘œë¥¼ ì‚¬ìš©í•¨</blockquote><h3 id="22b451cf-7b79-805d-bab5-dfdfea8b94c6" class="">LLM ëª¨ë¸</h3><ul id="22b451cf-7b79-80ac-b3f9-d8e91dad9bf2" class="bulleted-list"><li style="list-style-type:disc">Llama3.2-3B-Instruct</li></ul><ul id="22b451cf-7b79-80f5-a54a-e1c0a2a1d13c" class="bulleted-list"><li style="list-style-type:disc">Llama3-8B-Instruct</li></ul><ul id="22b451cf-7b79-803c-9b29-f44aa645dd24" class="bulleted-list"><li style="list-style-type:disc">Llama2-13B-Chat</li></ul><ul id="22b451cf-7b79-80d0-a3c1-dcbc2cf29e75" class="bulleted-list"><li style="list-style-type:disc">Qwen2.5-7B-Instruct</li></ul><h3 id="22b451cf-7b79-80c8-b489-ce4448fda412" class="">Baselines</h3><ul id="22b451cf-7b79-80a1-baaa-ee7655df6b69" class="bulleted-list"><li style="list-style-type:disc"><strong>Tent</strong> (Entropy minimization ê¸°ë°˜ TTA)</li></ul><ul id="22b451cf-7b79-807e-9947-d0564e2fe18e" class="bulleted-list"><li style="list-style-type:disc"><strong>EATA</strong> (low-entropy ìƒ˜í”Œ ì„ íƒ ê¸°ë°˜ TTA)</li></ul><ul id="22b451cf-7b79-8009-9cae-d1e144d7d670" class="bulleted-list"><li style="list-style-type:disc"><strong>COME</strong> (ë³´ìˆ˜ì  entropy ìµœì†Œí™” ë°©ì‹)</li></ul><p id="22b451cf-7b79-8076-8d13-e8c387243eab" class="">â†’ ëª¨ë‘ <strong>unlabeled test dataë§Œ ì‚¬ìš©í•˜ëŠ” ìµœì‹  TTA ê¸°ë²•</strong></p><p id="22b451cf-7b79-8081-9c09-ecd77960708f" class="">â†’ ê³µì •í•œ ë¹„êµë¥¼ ìœ„í•´ ëª¨ë‘ offline ì„¤ì •ì— ë§ì¶° ì¬êµ¬í˜„</p><h3 id="22b451cf-7b79-805a-9328-e1f29ea7be44" class="">êµ¬í˜„ ì„¸íŒ…</h3><ul id="22b451cf-7b79-802f-b0de-c3583499666f" class="bulleted-list"><li style="list-style-type:disc">Optimizer: Adam</li></ul><ul id="22b451cf-7b79-8016-8e4b-ce9dcdcc0978" class="bulleted-list"><li style="list-style-type:disc">Learning rate:<ul id="22b451cf-7b79-8060-9337-e2c7c430cf0f" class="bulleted-list"><li style="list-style-type:circle">DomainBench: 5e-5</li></ul><ul id="22b451cf-7b79-802a-81da-ca917a92c5e2" class="bulleted-list"><li style="list-style-type:circle">InstructionBench: 5e-5</li></ul><ul id="22b451cf-7b79-80e0-8016-d590e3baaf5e" class="bulleted-list"><li style="list-style-type:circle">ReasoningBench: 1e-6</li></ul></li></ul><ul id="22b451cf-7b79-80ee-9d82-d120beee772f" class="bulleted-list"><li style="list-style-type:disc">Batch size: 1</li></ul><ul id="22b451cf-7b79-8027-8f35-fb97f233b585" class="bulleted-list"><li style="list-style-type:disc">Decoding: Greedy, temperature = 0</li></ul><ul id="22b451cf-7b79-8031-b115-c59335bdf603" class="bulleted-list"><li style="list-style-type:disc">Î» = 0.1, Pâ‚€ = eÂ³ (ìƒ˜í”Œ ì„ íƒ threshold)</li></ul><p id="22b451cf-7b79-80dc-9b7c-da98efb9a160" class=""> </p><p id="22b451cf-7b79-80b5-a45f-ddf3d45f3929" class=""> </p><hr id="22b451cf-7b79-808d-bce7-c662edcbe5c3"/><p id="22b451cf-7b79-80ba-b772-e77544948d0c" class=""> </p><h2 id="22b451cf-7b79-8047-986b-c2b7453a279c" class="">5.2 Comparison Experiments</h2><figure id="22b451cf-7b79-8071-9b5b-f4e8f38666b7" class="image"><a href="/files/2025-07-14-ttl-llm/image%204.webp"><img style="width:709.984375px" src="/files/2025-07-14-ttl-llm/image%204.webp"/></a></figure><p id="22b451cf-7b79-8014-bec8-e0ad209884aa" class="">TLMì€ ëª¨ë“  task categoryì—ì„œ baseline ëŒ€ë¹„ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë‹¬ì„±</p><ul id="22b451cf-7b79-8055-a1b4-d52799f4ea97" class="bulleted-list"><li style="list-style-type:disc"><strong>DomainBench</strong>: ì „ë¬¸ ìš©ì–´, ë„ë©”ì¸-specific í‘œí˜„ë“¤ (ì˜ˆ: ì˜ë£Œ, ê¸ˆìœµ ìš©ì–´)</li></ul><ul id="22b451cf-7b79-80d4-912b-d118f0b91abe" class="bulleted-list"><li style="list-style-type:disc"><strong>InstructionBench</strong>: ì§€ì‹œë¬¸ì˜ í‘œí˜„ ë°©ì‹, ë§íˆ¬, ìš”ì²­ ìŠ¤íƒ€ì¼ ì ì‘</li></ul><p id="22b451cf-7b79-80db-948f-c5d2407fc9f7" class="">â†’ ì´ëŸ° ê³¼ì œë“¤ì€ ëª¨ë¸ì´ ìƒˆë¡œìš´ ìš©ì–´, ë¬¸ì¥ íŒ¨í„´ì—ë§Œ ì ì‘í•˜ë©´ ì„±ëŠ¥ì´ ì˜¬ë¼ê°</p><p id="22b451cf-7b79-8009-9831-dbbbcd270c21" class="">â†’ ê·¸ë¦¬ê³  TLMì€ ì…ë ¥ perplexity ìµœì†Œí™” â†’ ë¬¸ì¥ í‘œí˜„ì— ëŒ€í•œ ì´í•´ ê°•í™”</p><p id="22b451cf-7b79-804e-b07b-db22d1e7ffb7" class="">â†’ ì¦‰, perplexity ê¸°ë°˜ self-supervised ì ì‘ì´ ì§ì ‘ì ìœ¼ë¡œ íš¨ê³¼ì ì„</p><p id="22b451cf-7b79-80c6-8dae-e60e4a58a3d9" class=""> </p><div id="22b451cf-7b79-802b-8b42-e84e1fdf880e" class="column-list"><div id="22b451cf-7b79-80f3-a7d1-ce15107538ce" style="width:50%" class="column"><figure id="22b451cf-7b79-802c-ab67-d7e14075ab15" class="image"><a href="/files/2025-07-14-ttl-llm/image%205.webp"><img style="width:332px" src="/files/2025-07-14-ttl-llm/image%205.webp"/></a></figure></div><div id="22b451cf-7b79-8020-b29a-f75e3ae39b95" style="width:50%" class="column"><p id="22b451cf-7b79-80d0-b6f1-d2b5e55d3055" class="">ì´ í‘œë§Œ ê°’ì´ <strong>Exact Match (EM)</strong>ì„. </p><p id="22b451cf-7b79-8070-8751-d791e5cc2360" class="">â†’ ì •í™•íˆ ë‹µì„ ì–¼ë§ˆë‚˜ ë§ì·„ëŠ”ê°€</p><p id="22b451cf-7b79-8045-ba19-e62087ea1ce1" class=""> </p><p id="22b451cf-7b79-8062-b589-e807433cfba0" class="">ReasoningBenchë„ ì¢‹ì•„ì§€ê¸´ í–ˆì§€ë§Œ, ë…¼ë¦¬ êµ¬ì¡°ê°€ í•µì‹¬ì´ë¼ <strong>chain-of-thought reasoning</strong>ì´ ì¤‘ìš”í•¨</p><p id="22b451cf-7b79-80c9-8a38-eca49092ba34" class="">â†’ test-timeì— ì…ë ¥ë§Œ ë³´ê³  ëª¨ë¸ì„ ê°œì„ í•˜ëŠ” ê±´ <strong>ì œí•œì ì¸ íš¨ê³¼ë§Œ ìˆìŒ</strong></p><p id="22b451cf-7b79-8055-9b99-c162ef3317b4" class="">â†’ íŠ¹íˆ reasoning ëŠ¥ë ¥ì€ ì´ë¯¸ pretraining + fine-tuning ë‹¨ê³„ì—ì„œ ê¹Šê²Œ í•™ìŠµë˜ì–´ì•¼ í•¨</p><p id="22b451cf-7b79-8027-887d-cd7fdea3b5d2" class=""> </p></div></div><p id="22b451cf-7b79-80ee-8934-e5ec6d344e1e" class=""> </p><hr id="22b451cf-7b79-8084-a678-c310067f1f3b"/><p id="22b451cf-7b79-80be-89b2-fe7c9f69ac65" class=""> </p><h2 id="22b451cf-7b79-8097-b262-c86e66f48e2e" class="">5.3 Ablation Studies</h2><table id="22b451cf-7b79-806b-931f-fd565d6cc30d" class="simple-table"><thead class="simple-table-header"><tr id="22b451cf-7b79-803e-9848-cebd00c9c859"><th id="NdW_" class="simple-table-header-color simple-table-header">ë²„ì „</th><th id="PZJ&gt;" class="simple-table-header-color simple-table-header" style="width:523px">ì„¤ëª…</th></tr></thead><tbody><tr id="22b451cf-7b79-80c7-bade-f4bc54bb1c7b"><td id="NdW_" class=""><strong>Original LLM</strong></td><td id="PZJ&gt;" class="" style="width:523px">ì•„ë¬´ëŸ° TTL ì ìš© ì•ˆ í•œ ì›ë³¸</td></tr><tr id="22b451cf-7b79-80e8-8158-cd3c3d8cff56"><td id="NdW_" class=""><strong>Ours (w/o SEL)</strong></td><td id="PZJ&gt;" class="" style="width:523px">ìƒ˜í”Œ ì„ íƒ ì—†ì´ input perplexityë§Œ ìµœì†Œí™”</td></tr><tr id="22b451cf-7b79-80e4-b87b-c06ec7a799eb"><td id="NdW_" class=""><strong>Ours</strong></td><td id="PZJ&gt;" class="" style="width:523px">full TLM = SEL + LoRA + perplexity minimization</td></tr></tbody></table><figure id="22b451cf-7b79-80ab-9b48-c17d2424ec6a" class="image"><a href="/files/2025-07-14-ttl-llm/image%206.webp"><img style="width:576px" src="/files/2025-07-14-ttl-llm/image%206.webp"/></a></figure><h3 id="22b451cf-7b79-80fb-9c8c-e7d4bd2eaad7" class="">Input Perplexity Minimization</h3><p id="22b451cf-7b79-8029-b8de-e1a8b28f738d" class="">â†’ ì„±ëŠ¥ í–¥ìƒì˜ <strong>ì£¼ëœ ì›ì¸</strong></p><p id="22b451cf-7b79-80b8-808b-ca69ab929e32" class="">â†’ SEL ì—†ì´ë„ 30~80% í–¥ìƒ</p><h3 id="22b451cf-7b79-8086-b230-e7af2025574a" class="">Sample Efficient Learning (SEL)</h3><p id="22b451cf-7b79-8099-9864-e7f4dfc2e941" class="">â†’ ì¶”ê°€ í–¥ìƒì€ ì ì§€ë§Œ,</p><p id="22b451cf-7b79-804c-a8d6-f4845c0e603d" class="">â†’ <strong>ê³„ì‚°ëŸ‰ ì¤„ì´ë©´ì„œ ì„±ëŠ¥ ìœ ì§€</strong></p><div id="22b451cf-7b79-809d-8569-f3df818b2e44" class="column-list"><div id="22b451cf-7b79-80bf-a45e-cf6cc6af559e" style="width:56.25%" class="column"><h3 id="22b451cf-7b79-8023-af92-d6a7bb1cd8ff" class="">Threshold P0 (perplexity margin)</h3><p id="22b451cf-7b79-806e-901b-da0bf4f8adfa" class=""> </p><figure id="22b451cf-7b79-80db-bf16-c2473e09b4fc" class="image"><a href="/files/2025-07-14-ttl-llm/image%207.webp"><img style="width:373.484375px" src="/files/2025-07-14-ttl-llm/image%207.webp"/></a></figure><p id="22b451cf-7b79-8072-9c17-e88475d100ed" class="">â†’ë‹¤ì–‘í•œ P0âˆˆ{e2,e3,...,e6} ì‹¤í—˜</p><p id="22b451cf-7b79-80ce-8792-f6ec7579ecbd" class="">â†’ P0=e3 ì¼ ë•Œ ê°€ì¥ ì•ˆì •ì ì´ê³  ì¢‹ì€ ì„±ëŠ¥</p><p id="22b451cf-7b79-8063-8075-f0624658fb82" class=""> </p></div><div id="22b451cf-7b79-80ae-b03b-eeb3f837d635" style="width:43.74999999999999%" class="column"><figure id="22b451cf-7b79-80d9-853b-ecad71c1ec0d" class="image"><a href="/files/2025-07-14-ttl-llm/image%208.webp"><img style="width:709.9921875px" src="/files/2025-07-14-ttl-llm/image%208.webp"/></a></figure></div></div><p id="22b451cf-7b79-8077-9eaa-c2b74ba1f05b" class=""> </p><hr id="22b451cf-7b79-8014-a1a4-c578275d97ef"/><p id="22b451cf-7b79-8065-8aad-eca5739e6a76" class=""> </p><h2 id="22b451cf-7b79-8026-a58c-c72686281227" class="">5.4 More Discussions</h2><p id="22b451cf-7b79-801d-8028-eeabc1ef7394" class=""> </p><figure id="22b451cf-7b79-806b-bef5-f038dc0278bf" class="image"><a href="/files/2025-07-14-ttl-llm/image%209.webp"><img style="width:624px" src="/files/2025-07-14-ttl-llm/image%209.webp"/></a></figure><h3 id="22b451cf-7b79-80c0-b561-de8aac31ab2d" class="">Online Test-Time Experiments</h3><p id="22b451cf-7b79-8063-bbb0-c3bfb4bddf82" class="">test-timeì— <strong>ìƒ˜í”Œ í•˜ë‚˜ì”©</strong> ë“¤ì–´ì˜¤ëŠ” ìƒí™©ì—ì„œë„ TLMì´ ì˜ ì‘ë™í•˜ëŠ”ê°€?</p><ul id="22b451cf-7b79-80db-a63b-fb81d7cc63c2" class="bulleted-list"><li style="list-style-type:disc">ì²˜ìŒì—ëŠ” high-perplexity ìƒ˜í”Œì´ ë§ì•„ì„œ ì—…ë°ì´íŠ¸ ë§ì´ í•˜ë‹¤ê°€</li></ul><ul id="22b451cf-7b79-805e-829b-d91ff8857edd" class="bulleted-list"><li style="list-style-type:disc">ì ì  ëª¨ë¸ì´ ì ì‘í•˜ë©´ì„œ low-perplexity ìƒ˜í”Œì´ ëŠ˜ì–´ë‚¨ â†’ <strong>ìë™ìœ¼ë¡œ í•™ìŠµ ì¤‘ë‹¨ë¨</strong></li></ul><p id="22b451cf-7b79-8056-8755-dd63887d439d" class=""> </p><h3 id="22b451cf-7b79-80ae-b304-d83d4b3931ed" class="">Experiments on Quantized LLM</h3><p id="22b451cf-7b79-8003-a5b1-c3b0ca13f8e3" class="">TLMì€ quantized ëª¨ë¸ì—ì„œë„ ì„±ëŠ¥ í–¥ìƒ ìœ ì§€</p><p id="22b451cf-7b79-8014-a026-c3ee7936bbad" class="">â†’ ë©”ëª¨ë¦¬ ì œí•œ í™˜ê²½ì—ì„œë„ ì‹¤ìš©ì </p><p id="22b451cf-7b79-8032-9711-d6eacef7c389" class=""> </p><p id="22b451cf-7b79-80d0-bf9f-c8340887a299" class=""> </p><hr id="22b451cf-7b79-80b4-af8d-fddd20b9d7a9"/><p id="22b451cf-7b79-808f-a576-e94a6c1e04c1" class=""> </p><h2 id="22b451cf-7b79-8024-8585-c06378b78970" class="">Limitation</h2><p id="22b451cf-7b79-80cc-a7ad-e5cb7d214552" class="">ë”°ë¡œ ì–¸ê¸‰ì€ ì—†ì§€ë§Œ êµ³ì´ ë½‘ìë©´,</p><p id="22b451cf-7b79-807d-aff7-e9be1eb8b9e3" class=""> </p><p id="22b451cf-7b79-8061-ac6a-ec4fe2338fa2" class="">1. <strong>No Backprop-Free Variant (ì‹¤ì œ inference í™˜ê²½ ì œí•œ)</strong></p><p id="22b451cf-7b79-801a-a70d-e70ab1b2476e" class="">TLMì€ backpropì´ í•„ìš”í•¨ â†’ ëŒ€ë¶€ë¶„ì˜ ì‹¤ì œ LLM ë°°í¬ í™˜ê²½(API, closed-weight)ì—ì„œëŠ” ì ìš© ë¶ˆê°€</p><p id="22b451cf-7b79-8010-8c09-ea6f99cf8c7b" class="">Future Work: Backprop-free TTL, e.g. prompt-based or derivative-free adaptation </p><hr id="22b451cf-7b79-80ef-8610-eee13e4f5759"/><p id="230451cf-7b79-80bd-9469-cad5f1ab3af1" class="">2. <strong>Limited Effect on Reasoning Tasks</strong></p><p id="22b451cf-7b79-801c-bf47-e819df3b61c2" class="">GSM8K, MetaMath ë“± reasoning benchmarkì—ì„œ ì„±ëŠ¥ í–¥ìƒí­ì´ ì‘ìŒ</p><p id="22b451cf-7b79-8057-9db1-c26367f71d32" class="">â†’ Perplexity minimizationì´ <strong>í‘œí˜„ ì ì‘ì—ëŠ” ê°•í•˜ì§€ë§Œ</strong>, ë…¼ë¦¬ì  ì¶”ë¡ ì—” ì•½í•¨</p><p id="22b451cf-7b79-8045-abde-c184a730af21" class="">Future Work: TTL for logic and chain-of-thought reasoning</p><hr id="22b451cf-7b79-8061-be94-f6a8d0aa5e3d"/><p id="230451cf-7b79-80ff-bd68-d2d1d133383a" class="">3. <strong>Domain-Specific Overfitting / Forgetting Risk</strong></p><p id="22b451cf-7b79-80e1-8430-df635544aa78" class="">LoRA ì‚¬ìš©í•´ë„, ì¥ê¸°ì ìœ¼ë¡œ íŠ¹ì • ë„ë©”ì¸ì— ë°˜ë³µ ì ì‘ ì‹œ ì›ë˜ ëŠ¥ë ¥(logic, general knowledge) ì €í•˜ ê°€ëŠ¥ì„± ì¡´ì¬</p><p id="22b451cf-7b79-802c-b267-e8113cf7ab42" class="">Future Work: Continual TTL with forgetting mitigation</p><hr id="22b451cf-7b79-801e-8900-f3cce05e1fa8"/><p id="230451cf-7b79-8011-830a-c80f01a8af6c" class="">4. <strong>Hyperparameter Sensitivity (e.g., Pâ‚€ threshold)</strong></p><p id="22b451cf-7b79-802a-a474-c092c4db4445" class="">ìƒ˜í”Œ ì„ íƒ ê¸°ì¤€(Pâ‚€ = eÂ³)ì´ë‚˜ Î» ê°’ì— ë¯¼ê°</p><p id="230451cf-7b79-8077-aaf6-fae5bd1418d7" class="">ë„ë©”ì¸/ëª¨ë¸ì— ë”°ë¼ íŠœë‹ í•„ìš” â†’ ì‹¤ìš©í™”ì— ë°©í•´ë  ìˆ˜ ìˆìŒ</p><p id="22b451cf-7b79-80c1-b26a-c51bbb57ab09" class="">Future Work: Auto-tuning or adaptive sampling strategies</p><hr id="22b451cf-7b79-8085-9049-e5f8611f5805"/><p id="230451cf-7b79-8037-addd-fbbff997106a" class="">5. <strong>Session-Aware / Multi-Turn TTL ë¯¸ì§€ì›</strong></p><p id="22b451cf-7b79-806f-b626-fa65321375a9" class="">í˜„ì¬ëŠ” ì…ë ¥ ë‹¨ìœ„ë¡œë§Œ TTL ì‘ë™. ëŒ€í™”í˜• ì‹œìŠ¤í…œì²˜ëŸ¼ <strong>contextê°€ ëˆ„ì ë˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì ìš©ë˜ì§€ ì•ŠìŒ</strong></p><p id="22b451cf-7b79-80dc-8bb6-fdaeb04f56d0" class="">Future Work: Session-level TTL for conversational agents</p><p id="230451cf-7b79-80f4-90b0-fc7273a41ff8" class=""> </p><p id="230451cf-7b79-8002-8927-c3435e22ea58" class=""> </p><p id="230451cf-7b79-8049-a185-ef40d63c6b8c" class=""> </p><hr id="22b451cf-7b79-809e-a702-ea435479b5be"/><p id="230451cf-7b79-801a-9064-dc7c30596476" class=""> </p><h2 id="230451cf-7b79-80f1-bade-d457742be4e9" class="">Q&amp;A</h2><p id="22b451cf-7b79-8006-93bf-d8f97157577e" class=""> </p><p id="22b451cf-7b79-80bb-8ace-c2b9af40ab26" class="">Q. LLMì—ì„œ Test-Time í•™ìŠµ ìµœì´ˆì¸ê°€?</p><p id="22b451cf-7b79-8038-b5d1-fcb3a2c24df3" class=""> </p><p id="22b451cf-7b79-8017-9a07-f4114b25afe3" class="">ë‹¤ìŒê³¼ ê°™ì€ ë…¼ë¬¸ë“¤ì€ ìˆì—ˆìŒ.</p><p id="22b451cf-7b79-80d2-bf20-e18ba785dfd6" class=""><a href="https://arxiv.org/abs/2410.08020">https://arxiv.org/abs/2410.08020</a></p><p id="22b451cf-7b79-8019-b73d-e36ccebfc17b" class="">LLMì„ í…ŒìŠ¤íŠ¸ ì‹œì ì— promptâ€‘specific fineâ€‘tuning í•˜ëŠ” ë°©ë²•ì„ ì œì•ˆí–ˆê³ ,</p><p id="22b451cf-7b79-8029-be9d-c9a9010a2429" class="">ì‹¤í—˜ì„ í†µí•´ testâ€‘timeì—ë„ LLMì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ë³´ì—¬ì¤Œ</p><p id="22b451cf-7b79-8099-ae26-ea066315f9b4" class="">ë‹¤ë§Œ, ì†ë„ê°€ ëŠë¦¬ê³  ê³„ì‚° ë¹„ìš©ì´ í¬ë‹¤ëŠ” ë‹¨ì </p><p id="22b451cf-7b79-80b0-867a-eab05a0f2907" class="">â†’ ê°€ëŠ¥ì€ í–ˆì§€ë§Œ ì‹¤ìš©ì—ì„œ ë©€ì—ˆìŒ</p><p id="22b451cf-7b79-8000-ac31-d0b200a731de" class=""> </p><p id="22b451cf-7b79-80b9-882a-d2fdc8380ad3" class=""><strong>Prompt tuning ë¹¼ë©´ TLMì´ LLMì—ì„œ Test-Time í•™ìŠµì„ ìµœì´ˆë¡œ ì‹¤ìš©í™”í•œ ë…¼ë¬¸</strong></p><p id="22b451cf-7b79-8003-bdf3-c7d201fe01ab" class="">ìœ„ Table 5 ë¥¼ ë³´ë©´ ì´ë¯¸ Tentë‚˜ EATAë„ í•œê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì˜¤íˆë ¤ ê¸°ì¡´ LLMì„ íŒŒê´´í•œ ì„±ëŠ¥ì´ ë‚˜ì˜´.</p><p id="230451cf-7b79-80c5-99c3-d03b60476406" class=""> </p><hr id="230451cf-7b79-804e-9e16-e8fe0becd8cb"/><p id="230451cf-7b79-80a7-a779-ccbb58d50e54" class=""> </p><p id="230451cf-7b79-8098-81b2-c60f771eab4f" class=""> </p><p id="230451cf-7b79-80da-a175-f7047a6a9596" class="">Q. Output ë‚´ê¸° ì „ì— í•™ìŠµí•˜ëŠ” ê²ƒì¸ê°€?</p><p id="230451cf-7b79-809b-8d00-d606399e66eb" class="">P(y|x)ì„ ê¸°ì¤€ìœ¼ë¡œ í•™ìŠµ ëª»í•œë‹¤ê³  í–ˆëŠ”ë°, ì™œ? ì–´ì°¨í”¼ outputì€ ë‚˜ì˜¤ëŠ”ê±° ì•„ë‹Œê°€?</p><p id="230451cf-7b79-8073-8e65-ec54ae8191d1" class=""> </p><h3 id="230451cf-7b79-805a-ba5f-e3659752912e" class="">ì™œ yë¥¼ ì•ˆì“°ëŠ”ê°€?</h3><p id="230451cf-7b79-801b-8108-d24201269250" class="">ëª¨ë¸ì´ ìƒì„±í•œ yÌ‚ëŠ” <strong>ì •ë‹µì´ ì•„ë‹˜</strong> â†’ ground truth ì—†ìŒ</p><p id="230451cf-7b79-805f-a491-f1e51ecd48c4" class=""><code>P(Å· | x)</code>ë¥¼ ì¤„ì´ë©´ <strong>ì˜ëª»ëœ ì¶œë ¥ì„ ë” í™•ì‹ í•˜ê²Œ ë§Œë“œëŠ” ê²°ê³¼</strong>ê°€ ë  ìˆ˜ ìˆìŒ</p><p id="230451cf-7b79-80f6-b176-e5f66e58d963" class=""> </p><p id="230451cf-7b79-80fd-9c1f-dd45cc1ed5a1" class=""><strong>ì˜ˆì‹œ</strong></p><ul id="230451cf-7b79-8099-a5ce-cb0443e06efd" class="bulleted-list"><li style="list-style-type:disc">â€œì‚¬ê³¼ëŠ” ë¹¨ê°›ë‹¤â€ê°€ ì •ë‹µì¸ë°</li></ul><ul id="230451cf-7b79-8040-ae7b-f177df2daf6b" class="bulleted-list"><li style="list-style-type:disc">ëª¨ë¸ì´ â€œì‚¬ê³¼ëŠ” ë°”ë‚˜ë‚˜ë‹¤â€ë¼ê³  ì¶œë ¥í–ˆì„ ê²½ìš°</li></ul><ul id="230451cf-7b79-80fe-8ad2-fd310b7a9636" class="bulleted-list"><li style="list-style-type:disc">ì´ê±¸ ê¸°ì¤€ìœ¼ë¡œ lossë¥¼ ì¤„ì´ë©´ ì˜¤íˆë ¤ <strong>í‹€ë¦° ì¶œë ¥ì— ë” í™•ì‹ ì„ ì£¼ê²Œ ë¨</strong></li></ul><p id="230451cf-7b79-8094-8080-dc17938a73a4" class=""> </p><h3 id="230451cf-7b79-805d-888c-c4b7e857d057" class="">ìˆœì„œ</h3><ol type="1" id="230451cf-7b79-8071-8b2d-f9acc0fb3404" class="numbered-list" start="1"><li>ì…ë ¥ <code>x</code> ë“¤ì–´ì˜´</li></ol><ol type="1" id="230451cf-7b79-8049-baf8-f6fe476ec6e9" class="numbered-list" start="2"><li>ëª¨ë¸ì´ í˜„ì¬ íŒŒë¼ë¯¸í„°(Î¸ + Î”Î¸)ë¡œ ì¶œë ¥ <code>Å·</code> ìƒì„±</li></ol><ol type="1" id="230451cf-7b79-80e6-8bcf-d566bb9946e5" class="numbered-list" start="3"><li><code>x</code>ì— ëŒ€í•œ perplexity ê³„ì‚°</li></ol><ol type="1" id="230451cf-7b79-807f-9ac5-e296656e5cd1" class="numbered-list" start="4"><li><code>P(x)</code>ê°€ ê¸°ì¤€ë³´ë‹¤ í¬ë©´ â†’ backpropìœ¼ë¡œ LoRA íŒŒë¼ë¯¸í„° ì—…ë°ì´íŠ¸</li></ol><ol type="1" id="230451cf-7b79-8067-8f0d-d00b0eb46fae" class="numbered-list" start="5"><li>â†’ ì´ ì—…ë°ì´íŠ¸ëŠ” ë‹¤ìŒ ì…ë ¥ë¶€í„° ë°˜ì˜ë¨</li></ol><p id="230451cf-7b79-80fb-949c-e5d30286f50a" class=""> </p><h3 id="230451cf-7b79-807d-9797-c6d03aa4c71f" class="">ì •ë¦¬</h3><blockquote id="230451cf-7b79-80c6-a7f1-e44b27506cf6" class="">Although the true target y is unavailable at test time, we show that minimizing P(x) leads to update directions that are often aligned with those from minimizing P(y|x).</blockquote><p id="230451cf-7b79-80d3-aacb-cdfe780593cc" class="">Test-timeì— label <code>y</code>ê°€ ì—†ì–´ì„œ ê·¸ ìƒ˜í”Œì˜ ì„±ëŠ¥ì„ ì§ì ‘ í‰ê°€í•  ìˆ˜ ì—†ìŒ</p><p id="230451cf-7b79-8055-9b38-f57ddc2d5922" class="">â†’ ëŒ€ì‹ , ê·¸ ìƒ˜í”Œì„ ê¸°ë°˜ìœ¼ë¡œ ì „ì²´ íŒŒë¼ë¯¸í„°ë¥¼ ì—…ë°ì´íŠ¸í•´ì„œ ë¯¸ë˜ì˜ ì˜ˆì¸¡ë ¥ì„ ë†’ì„</p><p id="230451cf-7b79-801a-8e52-da346235fef3" class="">â†’ TLMì€ <strong><span style="border-bottom:0.05em solid">online self-supervised continual learning</span></strong>ì— ê°€ê¹Œì›€</p><p id="230451cf-7b79-80a3-85b2-f46450230e1f" class=""> </p></div>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2505.20633Project PageGithub CodeğŸ’¡Key DifferentiatorPerplexity Minimizationê¸°ì¡´ TTA (ex. Tent, EATA, COME)ëŠ” ì „ë¶€ entropy minimization ê¸°ë°˜â†’ ì¶œë ¥ ë¶„í¬ì˜ ë¶ˆí™•ì‹¤ì„±ì„ ë‚®ì¶”ëŠ” ë°©í–¥í•˜ì§€ë§Œ ì´ ë…¼ë¬¸ì€ LLMì˜ autoregressive êµ¬ì¡°ë¥¼ ê³ ë ¤í•´â†’ ì¶œë ¥ entropyê°€ ì•„ë‹ˆë¼ ì…ë ¥ perplexityë¥¼ ìµœì†Œí™”í•˜ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ objectiveë¥¼ ì œì•ˆ 2. Related Workê¸°ì¡´ ë°©ë²•ë“¤ì˜ íŠ¹ì§•ê³¼ LLMì—ì„œì˜ í•œê³„ Fine-tuning: ë¼ë²¨ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ íŒŒë¼ë¯¸í„°ë¥¼ ì—…ë°ì´íŠ¸â†’ ë¼ë²¨ë§ ë¹„ìš©ì´ í¬ê³ , í˜„ì‹¤ì—ì„œ ê³„ì†í•´ì„œ ë¼ë²¨ëœ ë°ì´í„°ë¥¼ êµ¬í•˜ê¸° í˜ë“¦ RAG (Retrieval-Augmented Generation): ì™¸ë¶€ ì§€ì‹ ë² ì´ìŠ¤ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ ì°¾ì•„ì™€ ì‘ë‹µì— ë°˜ì˜â†’ ê²€ìƒ‰ í’ˆì§ˆì— ì˜ì¡´ + ê²€ìƒ‰ ë¹„ìš© ìˆìŒ TTT (Test-Time Training): í›ˆë ¨ ë°ì´í„°ë‚˜ knowledge baseì—ì„œ ìœ ì‚¬í•œ ë°ì´í„°ë¥¼ ì°¾ì•„ì„œ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •â†’ í›ˆë ¨ ë°ì´í„° ì ‘ê·¼ í•„ìš” + ê²€ìƒ‰ ê³¼ì •ì´ ëŠë¦¼ TTA (Test-Time Adaptation): ë¼ë²¨ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ì´ìš©í•´ ëª¨ë¸ì„ ì ì‘ì‹œí‚´ â†’ ëŒ€ë¶€ë¶„ entropy minimization (ì¶œë ¥ì˜ í™•ë¥  ë¶„í¬ë¥¼ ë‹¨ì¼í•˜ê²Œ ë§Œë“œëŠ” ë°©ì‹)ì„ ì‚¬ìš©â†’ LLMì€ autoregressive êµ¬ì¡°ì¸ë°, ì´ êµ¬ì¡°ë¥¼ ë¬´ì‹œí•˜ê³  entropyë§Œ ìµœì†Œí™”í•˜ë©´ íš¨ê³¼ê°€ ë–¨ì–´ì§ ê¸°ì¡´ LLM TTAê°€ ë¶ˆê°€ëŠ¥í•œ ì´ìœ ê¸°ì¡´ TTAëŠ” ì£¼ë¡œ BatchNorm í†µê³„(mean/var)ë¥¼ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ì ì‘ê·¸ëŸ°ë° LLMì—ëŠ” BatchNormì´ ì—†ê³  ëŒ€ì‹  LayerNormì„ ì“°ê³ ,LayerNormì€ test-timeì—ì„œ ì—…ë°ì´íŠ¸í•  ê²Œ ì—†ìŒ â†’ ê¸°ì¡´ ë°©ì‹ ì ìš© ë¶ˆê°€ ê·¸ëŸ¼ LLMì—ì„œëŠ” ì–´ë–¤ test-time ì‹ í˜¸ê°€ ìˆëŠ”ê°€?â†’ ì…ë ¥ perplexityë¥¼ ì´ìš©í•´ì„œâ†’ backprop ê°€ëŠ¥í•œ self-supervised objectiveë¥¼ ì„¤ê³„í•¨ Why Entropy Minimization Doesnâ€™t Work Well for LLMs? Entropyë€?entropy = uncertainty[0.5, 0.5] â†’ high entropy[0.99, 0.01] â†’ less entropyAutoregressiveí•œ LLMì€?Predict tokens one by oneEach prediction depends on previous tokensErrors accumulate over timeë¬¸ì œì  Ignores token dependenciesOptimizes locally, not globallyEarly mistakes â†’ later tokens collapse 4.1 Perplexity Minimization for Test-Time LearningEntropy ê¸°ë°˜ì˜ ë¬¸ì œì  í•´ê²°ì±…perplexity: A metric that measures how confidently a language model predicts a given sequenceì–¸ì–´ ëª¨ë¸ì´ ì£¼ì–´ì§„ ì‹œí€€ìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ â€œìì‹  ìˆê²Œâ€ ì˜ˆì¸¡í–ˆëŠ”ê°€ë¥¼ ì¸¡ì •í•˜ëŠ” ì§€í‘œminâ¡Î˜P(yâˆ£x;Î˜)=minâ¡Î˜e(âˆ’1Tâˆ‘t=1Tlogâ¡p(ytâˆ£x,y1:tâˆ’1;Î˜))\min_{\Theta} \mathcal{P}(y \mid x; \Theta) = \min_{\Theta} e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(y_t \mid x, y_{1:t-1}; \Theta) \right)}Î˜minâ€‹P(yâˆ£x;Î˜)=Î˜minâ€‹e(âˆ’T1â€‹âˆ‘t=1Tâ€‹logp(ytâ€‹âˆ£x,y1:tâˆ’1â€‹;Î˜))log probabilityê°€ í´ìˆ˜ë¡ â†’ ì˜ˆì¸¡ ì˜í•¨ â†’ perplexity ë‚®ìŒí™•ë¥  ì˜ˆì¸¡ì´ ë‚®ê³  ë¶ˆí™•ì‹¤í• ìˆ˜ë¡ â†’ perplexity ë†’ìŒ TTAì—ì„œì˜ ë¬¸ì œì ì„ í•´ê²°entropyëŠ” [pâ‚, pâ‚‚, ..., p_T] ê° í† í°ì— ëŒ€í•´ ê°œë³„ì ìœ¼ë¡œ í™•ë¥  ë¶„í¬ë¥¼ ë§Œë“¤ì–´ì„œ í† í°ê°„ì˜ ê´€ê³„ë³´ë‹¤ëŠ”, ê° ìœ„ì¹˜ì—ì„œ ë‹¨ì¼ ì •ë‹µì„ ê°•í•˜ê²Œ ë§Œë“¤ë ¤ê³  í•¨. â†’ í† í° ê°„ dependency ë¬´ì‹œâ†’ ì‹œê·¸ë§ˆë¡œ ì „ì²´ ì‹œí€€ìŠ¤ì— ëŒ€í•œ joint probabilityì˜ log lossë¥¼ êµ¬í•˜ê¸° ë•Œë¬¸ì— í† í° ê°„ ì˜ì¡´ì„±ì„ ì™„ì „íˆ ë°˜ì˜í•¨â†’ ì „ì²´ ë¬¸ì¥ì„ ì–¼ë§ˆë‚˜ ì˜ ì˜ˆì¸¡í–ˆëŠ”ê°€? ê¸°ì¤€ìœ¼ë¡œ loss ì¤Œâ†’ ê¸€ë¡œë²Œí•œ ê´€ì ì—ì„œ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸ ë¬¸ì œì í…ŒìŠ¤íŠ¸ ì‹œì—” ground truthê°€ ì—†ìŒ â†’ output perplexityë¥¼ ëª» ì”€x = input / y=outputLLM ì„±ëŠ¥ì„ ì˜¬ë¦¬ë ¤ë©´ ë‹¹ì—°íˆ P(y | x) ë¥¼ ì¤„ì´ëŠ” ê²Œ ë§ìŒí•˜ì§€ë§Œ test-timeì—ëŠ” yë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ìœ„ì˜ ì‹ì„ ì§ì ‘ ì“¸ ìˆ˜ ì—†ë‹¤. â†’ ë°œê²¬ P(y | x)ë¥¼ ì¤„ì´ëŠ” ëŒ€ì‹  P(x)ë¥¼ ì¤„ì´ëŠ” ê²ƒë„ íš¨ê³¼ê°€ ìˆë‹¤ëŠ” ê²ƒ &quot;The trend of LLMâ€™s perplexity to the input P(x; Î˜) and perplexity to the output P(y|x; Î˜) is the same.â€ ì™¼ìª½ ê·¸ë˜í”„ë¥¼ ë³´ë©´, input/output perplexityë¥¼ ì¸¡ì •í–ˆì„ë•Œ ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë³´ì¸ë‹¤. â†’ ì…ë ¥ perplexityë¥¼ ì¤„ì´ë©´ ì¶œë ¥ë„ ê°™ì´ ì¢‹ì•„ì§minâ¡Î˜P(yâˆ£x;Î˜)=minâ¡Î˜e(âˆ’1Tâˆ‘t=1Tlogâ¡p(ytâˆ£x,y1:tâˆ’1;Î˜))\min_{\Theta} \mathcal{P}(y \mid x; \Theta) = \min_{\Theta} e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(y_t \mid x, y_{1:t-1}; \Theta) \right)}Î˜minâ€‹P(yâˆ£x;Î˜)=Î˜minâ€‹e(âˆ’T1â€‹âˆ‘t=1Tâ€‹logp(ytâ€‹âˆ£x,y1:tâˆ’1â€‹;Î˜))ì—ì„œ yë¥¼ ì“°ì§€ ì•ŠëŠ” ë‹¤ìŒìœ¼ë¡œ ë³€ê²½P({x1,x2,â€¦,xT})=e(âˆ’1Tâˆ‘t=1Tlogâ¡p(xtâˆ£x1:tâˆ’1;Î˜))\mathcal{P}(\{x_1, x_2, \ldots, x_T\}) = e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(x_t \mid x_{1:t-1}; \Theta) \right)}P({x1â€‹,x2â€‹,â€¦,xTâ€‹})=e(âˆ’T1â€‹âˆ‘t=1Tâ€‹logp(xtâ€‹âˆ£x1:tâˆ’1â€‹;Î˜)) 4.2 Sample Efficient Learning Strategy TTLì—ì„œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ìƒ˜í”Œì„ ë‹¤ ì‚¬ìš©í•´ì„œ ì—…ë°ì´íŠ¸í•˜ë©´:ê³„ì‚°ëŸ‰ ë‚­ë¹„íš¨ê³¼ ì—†ëŠ” ìƒ˜í”Œì— ëª¨ë¸ì´ ì˜¤íˆë ¤ í”ë“¤ë¦´ ìˆ˜ ìˆìŒ â†’ ë°œê²¬high-perplexity ìƒ˜í”Œë¡œ í•™ìŠµí•˜ë©´ ë” ë†’ì€ ROUGE ì„±ëŠ¥low-perplexity ìƒ˜í”Œë§Œ ì“°ë©´ ì„±ëŠ¥ ì˜¤íˆë ¤ ë–¨ì–´ì§Low-perplexity inputì€ ì´ë¯¸ ì˜ ë§ì¶”ëŠ” ê²ƒì´ë¼ ì •ë³´ ê±°ì˜ ì—†ê¸° ë•Œë¬¸. ROUGE(Recall-Oriented Understudy for Gisting Evaluation):ìì—°ì–´ ìƒì„± ê²°ê³¼ë¥¼ reference ë¬¸ì¥ê³¼ ë¹„êµí•´ ì–¼ë§ˆë‚˜ ì˜ ì¼ì¹˜í•˜ëŠ”ì§€ í‰ê°€í•˜ROUGE-L : Longest Common Subsequence (LCS) ê¸°ë°˜ìœ¼ë¡œ ê³µí†µ ë¶€ë¶„ë¬¸ìì—´ minâ¡Î˜Ë‰S(x)P(x;Î˜)\min_{\bar{\Theta}} S(x) \mathcal{P}(x; \Theta)minÎ˜Ë‰â€‹S(x)P(x;Î˜)ï»¿ â†’ informativeí•œ ìƒ˜í”Œë§Œ ê³¨ë¼ ì“°ìê° ìƒ˜í”Œë§ˆë‹¤ perplexityë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ìˆ˜ S(x) ë¥¼ ë§¤ê¸°ê³ S(x)ê°€ ë†’ì€ ìƒ˜í”Œë§Œ backpropagationì— ì‚¬ìš©S(x)=Î»â‹…elogâ¡P(x;Î˜)âˆ’logâ¡P0â‹…I{P(x;Î˜)&gt;P0}(x)S(x) = \lambda \cdot e^{\log \mathcal{P}(x; \Theta) - \log P_0} \cdot \mathbb{I}_{\{ \mathcal{P}(x; \Theta) &gt; P_0 \}}(\mathbf{x})S(x)=Î»â‹…elogP(x;Î˜)âˆ’logP0â€‹â‹…I{P(x;Î˜)&gt;P0â€‹}â€‹(x)Low-perplexity ìƒ˜í”Œì€ ì œì™¸í•˜ê³ , High-perplexity ìƒ˜í”Œì€ ë¹„ì¤‘ì„ í¬ê²Œ ë¶€ì—¬í•´ì„œ í•™ìŠµì— ë°˜ì˜ì—¬ê¸°ì„œ ì•„ë¼ë¹„ì•„ìˆ«ì 2 ê°™ì´ ìƒê¸´ê±´, indicator function (ì§€ì‹œ í•¨ìˆ˜)ë¥¼ ì˜ë¯¸í•œë‹¤.ì¦‰, ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ 1, ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ 0ì´ ë˜ëŠ” ë¶ˆì—°ì† í•¨ìˆ˜ íš¨ê³¼ë¶ˆí•„ìš”í•œ ìƒ˜í”Œ ì—…ë°ì´íŠ¸ë¥¼ ì¤„ì—¬ ê³„ì‚°ëŸ‰ ê°ì†Œë” informativeí•œ ìƒ˜í”Œë¡œë§Œ ì—…ë°ì´íŠ¸í•´ì„œ ì„±ëŠ¥ í–¥ìƒ 4.3 Modulating Parameters for Test-Time Learning LoRA(Low-Rank Adaptation)ëŠ” ì¼ë¶€ linear layerì— ì‘ì€ ë­í¬ì˜ ë³´ì¡° í–‰ë ¬ A, Bë¥¼ ì¶”ê°€í•´ì„œ ì—…ë°ì´íŠ¸í•¨â†’ LoRAë¡œë§Œ ì—…ë°ì´íŠ¸í•œ ê²½ìš°, full-param updateë³´ë‹¤ original ì„±ëŠ¥ ìœ ì§€ë ¥ì´ í›¨ì”¬ ì¢‹ìŒë„ë©”ì¸ ì ì‘ ì¤‘ì—ë„ task ì„±ëŠ¥ ìœ ì§€ â†’ forgetting ì–µì œ minâ¡Î˜~S(x)P(x;Î˜~)=minâ¡Î”Î˜S(x)P(x;Î˜+Î”Î˜)\min_{\tilde{\Theta}} S(x)\mathcal{P}(x; \tilde{\Theta}) = \min_{\Delta\Theta} S(x)\mathcal{P}(x; \Theta + \Delta\Theta)Î˜~minâ€‹S(x)P(x;Î˜~)=Î”Î˜minâ€‹S(x)P(x;Î˜+Î”Î˜)LoRAë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ì‹ì´ ë¨ 5.1. Experimental SettingsBenchmark: AdaptEvalë…¼ë¬¸ì—ì„œ ë§Œë“  ìƒˆë¡œìš´ í‰ê°€ ë²¤ì¹˜ë§ˆí¬ë‹¤ì–‘í•œ ë„ë©”ì¸ê³¼ ê³¼ì œ ìœ í˜•ì„ í¬í•¨í•˜ì—¬ LLMì˜ ì ì‘ ëŠ¥ë ¥ì„ ë‹¤ê°ë„ë¡œ í‰ê°€Benchëª©ì í¬í•¨ëœ ë°ì´í„°ì…‹DomainBenchë„ë©”ì¸ ì§€ì‹ ì ì‘Geography, Agriculture, Medicine, FinanceInstructionBenchì§€ì‹œ ë”°ë¥´ê¸°Alpaca-GPT4, Dolly, InstructionWildReasoningBenchë…¼ë¦¬ ì¶”ë¡ GSM8K, MetaMath, Logiqaí‰ê°€ ì§€í‘œ (Metrics)DomainBench, InstructionBench â†’ ROUGE-Lsum (R-Lsum)ReasoningBench â†’ Exact Match (EM)ê°ê°ì˜ task íŠ¹ì„±ì— ë§ëŠ” ëŒ€í‘œ ì§€í‘œë¥¼ ì‚¬ìš©í•¨LLM ëª¨ë¸Llama3.2-3B-InstructLlama3-8B-InstructLlama2-13B-ChatQwen2.5-7B-InstructBaselinesTent (Entropy minimization ê¸°ë°˜ TTA)EATA (low-entropy ìƒ˜í”Œ ì„ íƒ ê¸°ë°˜ TTA)COME (ë³´ìˆ˜ì  entropy ìµœì†Œí™” ë°©ì‹)â†’ ëª¨ë‘ unlabeled test dataë§Œ ì‚¬ìš©í•˜ëŠ” ìµœì‹  TTA ê¸°ë²•â†’ ê³µì •í•œ ë¹„êµë¥¼ ìœ„í•´ ëª¨ë‘ offline ì„¤ì •ì— ë§ì¶° ì¬êµ¬í˜„êµ¬í˜„ ì„¸íŒ…Optimizer: AdamLearning rate:DomainBench: 5e-5InstructionBench: 5e-5ReasoningBench: 1e-6Batch size: 1Decoding: Greedy, temperature=0Î» = 0.1, Pâ‚€ = eÂ³ (ìƒ˜í”Œ ì„ íƒ threshold) 5.2 Comparison ExperimentsTLMì€ ëª¨ë“  task categoryì—ì„œ baseline ëŒ€ë¹„ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë‹¬ì„±DomainBench: ì „ë¬¸ ìš©ì–´, ë„ë©”ì¸-specific í‘œí˜„ë“¤ (ì˜ˆ: ì˜ë£Œ, ê¸ˆìœµ ìš©ì–´)InstructionBench: ì§€ì‹œë¬¸ì˜ í‘œí˜„ ë°©ì‹, ë§íˆ¬, ìš”ì²­ ìŠ¤íƒ€ì¼ ì ì‘â†’ ì´ëŸ° ê³¼ì œë“¤ì€ ëª¨ë¸ì´ ìƒˆë¡œìš´ ìš©ì–´, ë¬¸ì¥ íŒ¨í„´ì—ë§Œ ì ì‘í•˜ë©´ ì„±ëŠ¥ì´ ì˜¬ë¼ê°â†’ ê·¸ë¦¬ê³  TLMì€ ì…ë ¥ perplexity ìµœì†Œí™” â†’ ë¬¸ì¥ í‘œí˜„ì— ëŒ€í•œ ì´í•´ ê°•í™”â†’ ì¦‰, perplexity ê¸°ë°˜ self-supervised ì ì‘ì´ ì§ì ‘ì ìœ¼ë¡œ íš¨ê³¼ì ì„ ì´ í‘œë§Œ ê°’ì´ Exact Match (EM)ì„. â†’ ì •í™•íˆ ë‹µì„ ì–¼ë§ˆë‚˜ ë§ì·„ëŠ”ê°€ ReasoningBenchë„ ì¢‹ì•„ì§€ê¸´ í–ˆì§€ë§Œ, ë…¼ë¦¬ êµ¬ì¡°ê°€ í•µì‹¬ì´ë¼ chain-of-thought reasoningì´ ì¤‘ìš”í•¨â†’ test-timeì— ì…ë ¥ë§Œ ë³´ê³  ëª¨ë¸ì„ ê°œì„ í•˜ëŠ” ê±´ ì œí•œì ì¸ íš¨ê³¼ë§Œ ìˆìŒâ†’ íŠ¹íˆ reasoning ëŠ¥ë ¥ì€ ì´ë¯¸ pretraining + fine-tuning ë‹¨ê³„ì—ì„œ ê¹Šê²Œ í•™ìŠµë˜ì–´ì•¼ í•¨ 5.3 Ablation Studiesë²„ì „ì„¤ëª…Original LLMì•„ë¬´ëŸ° TTL ì ìš© ì•ˆ í•œ ì›ë³¸Ours (w/o SEL)ìƒ˜í”Œ ì„ íƒ ì—†ì´ input perplexityë§Œ ìµœì†Œí™”Oursfull TLM=SEL + LoRA + perplexity minimizationInput Perplexity Minimizationâ†’ ì„±ëŠ¥ í–¥ìƒì˜ ì£¼ëœ ì›ì¸â†’ SEL ì—†ì´ë„ 30~80% í–¥ìƒSample Efficient Learning (SEL)â†’ ì¶”ê°€ í–¥ìƒì€ ì ì§€ë§Œ,â†’ ê³„ì‚°ëŸ‰ ì¤„ì´ë©´ì„œ ì„±ëŠ¥ ìœ ì§€Threshold P0 (perplexity margin) â†’ë‹¤ì–‘í•œ P0âˆˆ{e2,e3,...,e6} ì‹¤í—˜â†’ P0=e3 ì¼ ë•Œ ê°€ì¥ ì•ˆì •ì ì´ê³  ì¢‹ì€ ì„±ëŠ¥ 5.4 More Discussions Online Test-Time Experimentstest-timeì— ìƒ˜í”Œ í•˜ë‚˜ì”© ë“¤ì–´ì˜¤ëŠ” ìƒí™©ì—ì„œë„ TLMì´ ì˜ ì‘ë™í•˜ëŠ”ê°€?ì²˜ìŒì—ëŠ” high-perplexity ìƒ˜í”Œì´ ë§ì•„ì„œ ì—…ë°ì´íŠ¸ ë§ì´ í•˜ë‹¤ê°€ì ì  ëª¨ë¸ì´ ì ì‘í•˜ë©´ì„œ low-perplexity ìƒ˜í”Œì´ ëŠ˜ì–´ë‚¨ â†’ ìë™ìœ¼ë¡œ í•™ìŠµ ì¤‘ë‹¨ë¨ Experiments on Quantized LLMTLMì€ quantized ëª¨ë¸ì—ì„œë„ ì„±ëŠ¥ í–¥ìƒ ìœ ì§€â†’ ë©”ëª¨ë¦¬ ì œí•œ í™˜ê²½ì—ì„œë„ ì‹¤ìš©ì  Limitationë”°ë¡œ ì–¸ê¸‰ì€ ì—†ì§€ë§Œ êµ³ì´ ë½‘ìë©´, 1. No Backprop-Free Variant (ì‹¤ì œ inference í™˜ê²½ ì œí•œ)TLMì€ backpropì´ í•„ìš”í•¨ â†’ ëŒ€ë¶€ë¶„ì˜ ì‹¤ì œ LLM ë°°í¬ í™˜ê²½(API, closed-weight)ì—ì„œëŠ” ì ìš© ë¶ˆê°€Future Work: Backprop-free TTL, e.g. prompt-based or derivative-free adaptation 2. Limited Effect on Reasoning TasksGSM8K, MetaMath ë“± reasoning benchmarkì—ì„œ ì„±ëŠ¥ í–¥ìƒí­ì´ ì‘ìŒâ†’ Perplexity minimizationì´ í‘œí˜„ ì ì‘ì—ëŠ” ê°•í•˜ì§€ë§Œ, ë…¼ë¦¬ì  ì¶”ë¡ ì—” ì•½í•¨Future Work: TTL for logic and chain-of-thought reasoning3. Domain-Specific Overfitting / Forgetting RiskLoRA ì‚¬ìš©í•´ë„, ì¥ê¸°ì ìœ¼ë¡œ íŠ¹ì • ë„ë©”ì¸ì— ë°˜ë³µ ì ì‘ ì‹œ ì›ë˜ ëŠ¥ë ¥(logic, general knowledge) ì €í•˜ ê°€ëŠ¥ì„± ì¡´ì¬Future Work: Continual TTL with forgetting mitigation4. Hyperparameter Sensitivity (e.g., Pâ‚€ threshold)ìƒ˜í”Œ ì„ íƒ ê¸°ì¤€(Pâ‚€ = eÂ³)ì´ë‚˜ Î» ê°’ì— ë¯¼ê°ë„ë©”ì¸/ëª¨ë¸ì— ë”°ë¼ íŠœë‹ í•„ìš” â†’ ì‹¤ìš©í™”ì— ë°©í•´ë  ìˆ˜ ìˆìŒFuture Work: Auto-tuning or adaptive sampling strategies5. Session-Aware / Multi-Turn TTL ë¯¸ì§€ì›í˜„ì¬ëŠ” ì…ë ¥ ë‹¨ìœ„ë¡œë§Œ TTL ì‘ë™. ëŒ€í™”í˜• ì‹œìŠ¤í…œì²˜ëŸ¼ contextê°€ ëˆ„ì ë˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì ìš©ë˜ì§€ ì•ŠìŒFuture Work: Session-level TTL for conversational agents Q&amp;A Q. LLMì—ì„œ Test-Time í•™ìŠµ ìµœì´ˆì¸ê°€? ë‹¤ìŒê³¼ ê°™ì€ ë…¼ë¬¸ë“¤ì€ ìˆì—ˆìŒ.https://arxiv.org/abs/2410.08020LLMì„ í…ŒìŠ¤íŠ¸ ì‹œì ì— promptâ€‘specific fineâ€‘tuning í•˜ëŠ” ë°©ë²•ì„ ì œì•ˆí–ˆê³ ,ì‹¤í—˜ì„ í†µí•´ testâ€‘timeì—ë„ LLMì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ë³´ì—¬ì¤Œë‹¤ë§Œ, ì†ë„ê°€ ëŠë¦¬ê³  ê³„ì‚° ë¹„ìš©ì´ í¬ë‹¤ëŠ” ë‹¨ì â†’ ê°€ëŠ¥ì€ í–ˆì§€ë§Œ ì‹¤ìš©ì—ì„œ ë©€ì—ˆìŒ Prompt tuning ë¹¼ë©´ TLMì´ LLMì—ì„œ Test-Time í•™ìŠµì„ ìµœì´ˆë¡œ ì‹¤ìš©í™”í•œ ë…¼ë¬¸ìœ„ Table 5 ë¥¼ ë³´ë©´ ì´ë¯¸ Tentë‚˜ EATAë„ í•œê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì˜¤íˆë ¤ ê¸°ì¡´ LLMì„ íŒŒê´´í•œ ì„±ëŠ¥ì´ ë‚˜ì˜´. Q. Output ë‚´ê¸° ì „ì— í•™ìŠµí•˜ëŠ” ê²ƒì¸ê°€?P(y|x)ì„ ê¸°ì¤€ìœ¼ë¡œ í•™ìŠµ ëª»í•œë‹¤ê³  í–ˆëŠ”ë°, ì™œ? ì–´ì°¨í”¼ outputì€ ë‚˜ì˜¤ëŠ”ê±° ì•„ë‹Œê°€? ì™œ yë¥¼ ì•ˆì“°ëŠ”ê°€?ëª¨ë¸ì´ ìƒì„±í•œ yÌ‚ëŠ” ì •ë‹µì´ ì•„ë‹˜ â†’ ground truth ì—†ìŒP(Å· | x)ë¥¼ ì¤„ì´ë©´ ì˜ëª»ëœ ì¶œë ¥ì„ ë” í™•ì‹ í•˜ê²Œ ë§Œë“œëŠ” ê²°ê³¼ê°€ ë  ìˆ˜ ìˆìŒ ì˜ˆì‹œâ€œì‚¬ê³¼ëŠ” ë¹¨ê°›ë‹¤â€ê°€ ì •ë‹µì¸ë°ëª¨ë¸ì´ â€œì‚¬ê³¼ëŠ” ë°”ë‚˜ë‚˜ë‹¤â€ë¼ê³  ì¶œë ¥í–ˆì„ ê²½ìš°ì´ê±¸ ê¸°ì¤€ìœ¼ë¡œ lossë¥¼ ì¤„ì´ë©´ ì˜¤íˆë ¤ í‹€ë¦° ì¶œë ¥ì— ë” í™•ì‹ ì„ ì£¼ê²Œ ë¨ ìˆœì„œì…ë ¥ x ë“¤ì–´ì˜´ëª¨ë¸ì´ í˜„ì¬ íŒŒë¼ë¯¸í„°(Î¸ + Î”Î¸)ë¡œ ì¶œë ¥ Å· ìƒì„±xì— ëŒ€í•œ perplexity ê³„ì‚°P(x)ê°€ ê¸°ì¤€ë³´ë‹¤ í¬ë©´ â†’ backpropìœ¼ë¡œ LoRA íŒŒë¼ë¯¸í„° ì—…ë°ì´íŠ¸â†’ ì´ ì—…ë°ì´íŠ¸ëŠ” ë‹¤ìŒ ì…ë ¥ë¶€í„° ë°˜ì˜ë¨ ì •ë¦¬Although the true target y is unavailable at test time, we show that minimizing P(x) leads to update directions that are often aligned with those from minimizing P(y|x).Test-timeì— label yê°€ ì—†ì–´ì„œ ê·¸ ìƒ˜í”Œì˜ ì„±ëŠ¥ì„ ì§ì ‘ í‰ê°€í•  ìˆ˜ ì—†ìŒâ†’ ëŒ€ì‹ , ê·¸ ìƒ˜í”Œì„ ê¸°ë°˜ìœ¼ë¡œ ì „ì²´ íŒŒë¼ë¯¸í„°ë¥¼ ì—…ë°ì´íŠ¸í•´ì„œ ë¯¸ë˜ì˜ ì˜ˆì¸¡ë ¥ì„ ë†’ì„â†’ TLMì€ online self-supervised continual learningì— ê°€ê¹Œì›€]]></summary></entry><entry><title type="html">Various techniques in al-folio</title><link href="https://hoonably.github.io/blog/al-folio-tech/" rel="alternate" type="text/html" title="Various techniques in al-folio"/><published>2025-06-28T06:32:13+00:00</published><updated>2025-06-28T06:32:13+00:00</updated><id>https://hoonably.github.io/blog/al-folio-tech</id><content type="html" xml:base="https://hoonably.github.io/blog/al-folio-tech/"><![CDATA[<p>al-folioë¡œ ë¸”ë¡œê·¸ë¥¼ ë°”ê¾¼ í›„ ì‹ ê¸°í•œ ê¸°ëŠ¥ë“¤ì´ ë§ì•„ì„œ ì •ë¦¬ë¥¼ í•´ë³´ê³ ì <a href="https://alshedivat.github.io/al-folio/blog/">https://alshedivat.github.io/al-folio/blog/</a>ì— ìˆëŠ” ê¸°ëŠ¥ë“¤ì„ ëª¨ì•„ë´¤ë‹¤.</p> <h2 id="detail-box">detail box</h2> <details><summary>Click here to know more</summary> <p>Additional details, where math \(2x - 1\) and <code class="language-plaintext highlighter-rouge">code</code> is rendered correctly.</p> </details> <hr/> <h2 id="custom-blockquotes">custom blockquotes</h2> <blockquote class="block-tip"> <p><strong>TIP</strong></p> <p>A tip can be used when you want to give advice related to a certain content.</p> </blockquote> <blockquote class="block-warning"> <p><strong>WARNING</strong></p> <p>This is a warning, and thus should be used when you want to warn the user</p> </blockquote> <blockquote class="block-danger"> <p><strong>DANGER</strong></p> <p>This is a danger zone, and thus should be used carefully</p> </blockquote> <hr/> <h2 id="tabs">tabs</h2> <ul id="log" class="tab" data-tab="5cdb4240-8d18-48a9-a6f0-b5f8ace6a68d" data-name="log"> <li class="active" id="log-php"> <a href="#">php </a> </li> <li id="log-js"> <a href="#">js </a> </li> <li id="log-ruby"> <a href="#">ruby </a> </li> </ul> <ul class="tab-content" id="5cdb4240-8d18-48a9-a6f0-b5f8ace6a68d" data-name="log"> <li class="active"> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">var_dump</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">pputs</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
</code></pre></div></div> </li> </ul> <hr/> <h2 id="pseudocode">pseudocode</h2> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">pseudocode</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <pre><code class="language-pseudocode">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}
</code></pre> <hr/> <h2 id="image-video-audio">Image, Video, Audio</h2> <h3 id="single-image">single image</h3> <figure> <picture> <img src="/assets/img/logo/UNIST_logo.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h3 id="multiple-image">multiple image</h3> <p>2~3ê°œì˜ ì´ë¯¸ì§€ë¥¼ ê°™ì€ ì¤„ì— ë„£ê¸°</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/logo/UNIST_logo.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/logo/UAI_logo2.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <hr/> <h3 id="swiper-container">swiper-container</h3> <p>ì´ë¯¸ì§€ ì—¬ëŸ¬ì¥ ì˜†ìœ¼ë¡œ ë„˜ê¸°ë©´ì„œ ë³´ê¸°</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">images</span><span class="pi">:</span>
  <span class="na">slider</span><span class="pi">:</span> <span class="kc">true</span>  <span class="c1"># ì´ë¯¸ì§€ ì—¬ëŸ¬ì¥ ì˜†ìœ¼ë¡œ ë„˜ê¸°ë©´ì„œ ë³´ê¸°</span>
</code></pre></div></div> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <img src="/assets/img/logo/UAI_logo2.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <img src="/assets/img/logo/UNIST_logo.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <img src="/assets/img/logo/Topmath.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> </swiper-container> <h3 id="img-comparison-slider">img-comparison-slider</h3> <p>ì¢Œìš°ë¡œ ìŠ¬ë¼ì´ë”ë¡œ ë¹„êµ</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">images</span><span class="pi">:</span>
  <span class="na">compare</span><span class="pi">:</span> <span class="kc">true</span>  <span class="c1"># ì¢Œìš°ë¡œ ìŠ¬ë¼ì´ë“œí•˜ë©´ì„œ í‘ë°± ë³€ê²½ê°™ì€ê±°</span>
</code></pre></div></div> <img-comparison-slider> <figure slot="first"> <picture> <img src="/assets/img/logo/UNIST_logo.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure slot="second"> <picture> <img src="/assets/img/logo/UAI_logo2.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </img-comparison-slider> <hr/> <h3 id="video">video</h3> <p>ìœ íŠœë¸Œ ë§í¬ë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¬ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ embed ë§í¬ë¡œ ë³€í™˜í•´ì¤˜ì•¼í•¨</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://youtu.be/kCc8FmEb1nY â†’ https://www.youtube.com/embed/kCc8FmEb1nY
</code></pre></div></div> <figure> <div style="position: relative; width: 100%; padding-bottom: 56.25%; height: 0;"> <iframe src="https://www.youtube.com/embed/kCc8FmEb1nY" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" class="img-fluid rounded z-depth-1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe> </div> </figure> <hr/> <h3 id="audio">audio</h3> <figure> <audio src="https://cdn.pixabay.com/download/audio/2022/06/25/audio_69a61cd6d6.mp3" controls=""/> </figure> <hr/> <h2 id="code_diff">code_diff</h2> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">code_diff</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <ul> <li>diff ì‚¬ìš© <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")
</span></code></pre></div> </div> </li> <li>diff2html ì‚¬ìš© <pre><code class="language-diff2html">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
--- a/sample.js
+++ b/sample.js
@@ -1 +1 @@
-console.log("Hello World!")
+console.log("Hello from Diff2Html!")
</code></pre> </li> </ul> <hr/> <h2 id="typograms">typograms</h2> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">typograms</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <pre><code class="language-typograms">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.
</code></pre> <hr/> <h2 id="chart">Chart</h2> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">chart</span><span class="pi">:</span>
  <span class="na">echarts</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">chartjs</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">plotly</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">vega_lite</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <h3 id="echarts">echarts</h3> <pre><code class="language-echarts">{
  "title": {
    "text": "ECharts Getting Started Example"
  },
  "responsive": true,
  "tooltip": {},
  "legend": {
    "top": "30px",
    "data": ["sales"]
  },
  "xAxis": {
    "data": ["Shirts", "Cardigans", "Chiffons", "Pants", "Heels", "Socks"]
  },
  "yAxis": {},
  "series": [
    {
      "name": "sales",
      "type": "bar",
      "data": [5, 20, 36, 10, 10, 20]
    }
  ]
}
</code></pre> <h3 id="chartjs">chartjs</h3> <pre><code class="language-chartjs">{
  "type": "line",
  "data": {
    "labels": [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July"
    ],
    "datasets": [
      {
        "label": "# of bugs",
        "fill": false,
        "lineTension": 0.1,
        "backgroundColor": "rgba(75,192,192,0.4)",
        "borderColor": "rgba(75,192,192,1)",
        "borderCapStyle": "butt",
        "borderDash": [],
        "borderDashOffset": 0,
        "borderJoinStyle": "miter",
        "pointBorderColor": "rgba(75,192,192,1)",
        "pointBackgroundColor": "#fff",
        "pointBorderWidth": 1,
        "pointHoverRadius": 5,
        "pointHoverBackgroundColor": "rgba(75,192,192,1)",
        "pointHoverBorderColor": "rgba(220,220,220,1)",
        "pointHoverBorderWidth": 2,
        "pointRadius": 1,
        "pointHitRadius": 10,
        "data": [
          65,
          59,
          80,
          81,
          56,
          55,
          40
        ],
        "spanGaps": false
      }
    ]
  },
  "options": {}
}
</code></pre> <h3 id="plotly">plotly</h3> <pre><code class="language-plotly">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "mode": "markers"
    },
    {
      "x": [2, 3, 4, 5],
      "y": [16, 5, 11, 9],
      "mode": "lines"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [12, 9, 15, 12],
      "mode": "lines+markers"
    }
  ],
  "layout": {
    "title": {
      "text": "Line and Scatter Plot"
    }
  }
}
</code></pre> <h3 id="vega_lite">vega_lite</h3> <pre><code class="language-vega_lite">{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A dot plot showing each movie in the database, and the difference from the average movie rating. The display is sorted by year to visualize everything in sequential order. The graph is for all Movies before 2019.",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega/main/docs/data/movies.json"
  },
  "transform": [
    {"filter": "datum['IMDB Rating'] != null"},
    {"filter": {"timeUnit": "year", "field": "Release Date", "range": [null, 2019]}},
    {
      "joinaggregate": [{
        "op": "mean",
        "field": "IMDB Rating",
        "as": "AverageRating"
      }]
    },
    {
      "calculate": "datum['IMDB Rating'] - datum.AverageRating",
      "as": "RatingDelta"
    }
  ],
  "mark": "point",
  "encoding": {
    "x": {
      "field": "Release Date",
      "type": "temporal"
    },
    "y": {
      "field": "RatingDelta",
      "type": "quantitative",
      "title": "Rating Delta"
    },
    "color": {
      "field": "RatingDelta",
      "type": "quantitative",
      "scale": {"domainMid": 0},
      "title": "Rating Delta"
    }
  }
}
</code></pre> <hr/> <h2 id="mermaid-diagrams">mermaid (diagrams)</h2> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">mermaid</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">zoomable</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <pre><code class="language-mermaid">sequenceDiagram
    participant John
    participant Alice
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!
</code></pre> <pre><code class="language-mermaid">gantt
    dateFormat  YYYY-MM-DD
    title A Gantt Diagram

    section Section
    Task A           :a1, 2025-01-01, 30d
    Task B           :after a1, 20d
    Task C           :2025-01-10, 12d
</code></pre> <hr/> <h2 id="detail-codeblock">detail codeblock</h2> <p>lineosë¥¼ í†µí•´ ì¤„ë²ˆí˜¸ ì…ë ¥ ê°€ëŠ¥í•˜ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">pretty_table: true</code> í•´ì£¼ë©´ ì„ ì´ ë³´ì—¬ì„œ ë³„ë¡œì„</p> <figure class="highlight"><pre><code class="language-c--" data-lang="c++"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span> <span class="err">\</span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
<span class="n">string</span> <span class="n">myString</span><span class="p">;</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"input a string: "</span><span class="p">;</span>
    <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">myString</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">length</span><span class="p">();</span>

    <span class="kt">char</span> <span class="n">charArray</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span> <span class="o">*</span> <span class="p">[</span><span class="n">length</span><span class="p">];</span>

    <span class="n">charArray</span> <span class="o">=</span> <span class="n">myString</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">){</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">charArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure> <hr/> <h2 id="toc">toc</h2> <p>ëª©ì°¨ë¥¼ ì–´ë–»ê²Œ ì“¸ê±´ì§€ì„</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">toc</span><span class="pi">:</span>
  <span class="na">beginning</span><span class="pi">:</span> <span class="kc">true</span>  <span class="c1"># ë§¨ ì•ì— ëª©ì°¨</span>
  <span class="na">sidebar</span><span class="pi">:</span> <span class="s">left</span>  <span class="c1"># ëª©ì°¨ê°€ ì‚¬ì´ë“œë°” ì™¼ìª½ì— ë¶™ì–´ìˆìŒ</span>
</code></pre></div></div> <hr/> <h2 id="jupyter-notebook">jupyter notebook</h2> <div class="jupyter-notebook" style="position: relative; width: 100%; margin: 0 auto;"> <div class="jupyter-notebook-iframe-container"> <iframe src="/assets/jupyter/blog.ipynb.html" style="position: absolute; top: 0; left: 0; border-style: none;" width="100%" height="100%" onload="this.parentElement.style.paddingBottom = (this.contentWindow.document.documentElement.scrollHeight + 10) + 'px'"></iframe> </div> </div> <hr/> <h2 id="pretty_table">pretty_table</h2> <p>ì´ê±¸ í•´ì•¼ í‘œì— ì„ ì´ ìƒê¹€</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">pretty_table</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <table> <thead> <tr> <th style="text-align: left">Left aligned</th> <th style="text-align: center">Center aligned</th> <th style="text-align: right">Right aligned</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">Left 1</td> <td style="text-align: center">center 1</td> <td style="text-align: right">right 1</td> </tr> <tr> <td style="text-align: left">Left 2</td> <td style="text-align: center">center 2</td> <td style="text-align: right">right 2</td> </tr> <tr> <td style="text-align: left">Left 3</td> <td style="text-align: center">center 3</td> <td style="text-align: right">right 3</td> </tr> </tbody> </table> <table data-click-to-select="true" data-height="460" data-pagination="true" data-search="true" data-toggle="table" data-url="/assets/json/table_data.json"> <thead> <tr> <th data-checkbox="true"></th> <th data-field="id" data-halign="left" data-align="center" data-sortable="true">ID</th> <th data-field="name" data-halign="center" data-align="right" data-sortable="true">Item Name</th> <th data-field="price" data-halign="right" data-align="left" data-sortable="true">Item Price</th> </tr> </thead> </table> <hr/> <h2 id="redirect">Redirect</h2> <p>ì´ëŸ° ì‹ìœ¼ë¡œ ì“°ë©´ ê¸€ ëˆŒë €ì„ ë•Œ ë°”ë¡œ ê·¸ ê²½ë¡œë¡œ ê°€ì§</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">redirect</span><span class="pi">:</span> <span class="s">/assets/pdf/example_pdf.pdf</span>
</code></pre></div></div> <h2 id="citation">Citation</h2> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">citation</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div> <p>ì´ ì•„ë˜ ë‚´ìš©ì€ ë‚´ê°€ ì•ˆì“´ê±´ë° â€œì´ ì‚¬ì´íŠ¸ê°€ ìœ ìš©í–ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì¸ìš©í•´ì£¼ì„¸ìš”~â€ ë¼ê³  í•´ì¤Œ<br/> ğŸ‘‡ğŸ‘‡ğŸ‘‡</p>]]></content><author><name></name></author><category term="Else"/><summary type="html"><![CDATA[al-folioë¡œ ë¸”ë¡œê·¸ë¥¼ ë°”ê¾¼ í›„ ì‹ ê¸°í•œ ê¸°ëŠ¥ë“¤ì´ ë§ì•„ì„œ ì •ë¦¬ë¥¼ í•´ë³´ê³ ì https://alshedivat.github.io/al-folio/blog/ì— ìˆëŠ” ê¸°ëŠ¥ë“¤ì„ ëª¨ì•„ë´¤ë‹¤.]]></summary></entry><entry><title type="html">SANA: Efficient High-Resolution Image Synthesis with Linear Diffusion Transformers</title><link href="https://hoonably.github.io/blog/sana/" rel="alternate" type="text/html" title="SANA: Efficient High-Resolution Image Synthesis with Linear Diffusion Transformers"/><published>2025-05-12T14:16:12+00:00</published><updated>2025-05-12T14:16:12+00:00</updated><id>https://hoonably.github.io/blog/sana</id><content type="html" xml:base="https://hoonably.github.io/blog/sana/"><![CDATA[<div class="page-body"><table id="1b2451cf-7b79-80ff-ab8a-f57c4f2f327b" class="simple-table"><tbody><tr id="1b2451cf-7b79-8083-bf78-d343f537ecac"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">ArXiv</th><td id="L|H:" class="" style="width:580.5px"><a href="https://arxiv.org/abs/2410.10629">https://arxiv.org/abs/2410.10629</a></td></tr><tr id="1b2451cf-7b79-801e-935d-e0aa93b0292b"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Project Page</th><td id="L|H:" class="" style="width:580.5px"><a href="https://nvlabs.github.io/Sana/">https://nvlabs.github.io/Sana/</a></td></tr><tr id="1b2451cf-7b79-806b-b5fa-da2d3db4b742"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Github Code</th><td id="L|H:" class="" style="width:580.5px"><a href="https://github.com/NVlabs/Sana">https://github.com/NVlabs/Sana</a></td></tr></tbody></table><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="1f1451cf-7b79-80e5-8185-cf1698a2fcae"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%"><strong>Key Differentiator</strong><ol type="1" id="1f1451cf-7b79-80d3-b805-edbbf636523d" class="numbered-list" start="1"><li>Efficient Linear DiT designReLU ê¸°ë°˜ Linear Attention ë„ì…<br/>Mix-FFN Block</li></ol><ol type="1" id="1f1451cf-7b79-8027-8574-dea4713ff7e4" class="numbered-list" start="2"><li>Deep Compression Autoencoderâ†’ ì´ë¡œ ì¸í•œ 32ë°° ì••ì¶• ê°€ëŠ¥ìœ¼ë¡œ ì—°ì‚°ë„ ë¹¨ë¼ì§</li></ol></div></figure><p id="230451cf-7b79-80e5-a367-fa118f4679a6" class=""> </p><figure id="1c0451cf-7b79-8009-b100-e7fde0ee7305" class="image"><a href="/files/2025-05-12-sana/image.webp"><img style="width:336px" src="/files/2025-05-12-sana/image.webp"/></a></figure><p id="1e1451cf-7b79-8065-ba44-fffe93414c27" class=""> </p><p id="1e1451cf-7b79-8017-b604-d5ac7746ae95" class="">ì´ë²ˆì—ëŠ” SVDQuantì˜ ì €ìì¸ Song Hanì´ ë˜ ì¼ì„ ëƒˆë‹¤.</p><p id="1e1451cf-7b79-80cd-8a35-c29149cbc47a" class="">SANA ë¼ëŠ” Diffusion ëª¨ë¸ì„ NVIDIAì—ì„œ ì œì‘í–ˆëŠ”ë°, ì—­ëŒ€ê¸‰ì´ë‹¤.</p><p id="1e1451cf-7b79-80d2-9a60-efd89be7917b" class="">ë‚´ê°€ í•˜ë ¤ë˜ On-device 4K Diffusion ì—°êµ¬ì—ë„ í¬ê²Œ ë„ì›€ë  ê²ƒ ê°™ì•„ì„œ ì½ì–´ë³´ì•˜ë‹¤.</p><p id="1e1451cf-7b79-8068-a57d-cdded33b9d3f" class=""> </p><p id="1e1451cf-7b79-809c-8b6e-e89ac9a566b4" class=""> </p><h1 id="1b9451cf-7b79-80c6-9476-ccc63742e7c3" class="">1. Introduction</h1><p id="1b9451cf-7b79-80b6-bbc6-f714e85ebac1" class="">ì§€ë‚œ 1ë…„ë™ì•ˆ Diffusion ëª¨ë¸ì€ text-to-image ì—°êµ¬ì—ì„œ ìƒë‹¹í•œ ì§„ì „ì„ ë³´ì„.</p><p id="1b9451cf-7b79-800c-801e-cf59e063ce7f" class="">í•˜ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì´ ìƒì—… ëª¨ë¸ì€ íŒŒë¼ë¯¸í„°ê°€ ë§¤ìš° ì»¤ì§ â†’ ë†’ì€ í•™ìŠµ ë° ì¶”ë¡  ë¹„ìš©ì„ ì´ˆë˜í•˜ì—¬ ë¹„ìš©ì´ ë§ì´ ë“¤ìŒ.</p><blockquote id="1b9451cf-7b79-80c6-9a00-d8a6af96f4da" class="">Industry models are becoming increasingly large, with parameter counts escalating from PixArtâ€™s 0.6B parameters to SD3 at 8B, LiDiT at 10B, Flux at 12B, and Playground v3 at 24B.</blockquote><p id="1b9451cf-7b79-80c2-919a-f454fca1b6e7" class=""> cloud ë¿ë§Œ ì•„ë‹ˆë¼ edge devicesì—ì„œë„ ë¹ ë¥´ê²Œ ì‹¤í–‰ë˜ëŠ” ê³ í•´ìƒë„ image generatorë¥¼ ê°œë°œí•  ìˆ˜ ì—†ì„ê¹Œ?</p><p id="1b9451cf-7b79-8074-ac62-cf738cb861d3" class=""> </p><figure id="1b9451cf-7b79-8055-beb8-cf3ac6c01b58" class="image"><a href="/files/2025-05-12-sana/image%201.webp"><img style="width:709.9921875px" src="/files/2025-05-12-sana/image%201.webp"/></a></figure><p id="1b9451cf-7b79-802d-8047-f54d18790de3" class="">ì´ ë…¼ë¬¸ì€ 1024 Ã— 1024 ~ 4096 Ã— 4096 ë²”ìœ„ì˜ í•´ìƒë„ì—ì„œ ì´ë¯¸ì§€ë¥¼ íš¨ìœ¨ì ì´ê³  ë¹„ìš© íš¨ìœ¨ì ìœ¼ë¡œ í›ˆë ¨í•˜ê³  í•©ì„±í•˜ë„ë¡ ì„¤ê³„ëœ íŒŒì´í”„ ë¼ì¸ ì¸ SANAë¥¼ ì œì•ˆ</p><p id="1b9451cf-7b79-8003-909f-fd18695a1fc9" class="block-color-orange_background">Pixart-Ïƒ (Chen et al., 2024a)ë¥¼ ì œì™¸í•˜ê³ ëŠ” 4K í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„±ì„ ì§ì ‘ íƒìƒ‰í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Pixart-ÏƒëŠ” 4K í•´ìƒë„ì— ê°€ê¹Œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ì œí•œë˜ë©° (3840 Ã— 2160) ì´ëŸ¬í•œ ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ìƒì„± í•  ë•Œ ë¹„êµì  ëŠë¦½ë‹ˆë‹¤. ì´ ì•¼ì‹¬ ì°¬ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ í•µì‹¬ ë””ìì¸ì„ ì œì•ˆí•©ë‹ˆë‹¤.</p><p id="1b9451cf-7b79-80bc-adeb-e4e3551f01c6" class=""> </p><h1 id="1b9451cf-7b79-8047-8f49-d17177f41bab" class="">2. METHODS</h1><h2 id="1bb451cf-7b79-8048-82a5-e0315876b9de" class="">2.1 DEEP COMPRESSION AUTOENCODER</h2><h3 id="1bb451cf-7b79-80cb-ad09-f5479498ed54" class="">2.1.1 PRELIMINARY</h3><p id="1bb451cf-7b79-804a-ac0a-eebc5d2259cb" class="">ì›ë˜ diffusion ëª¨ë¸ì€ ì´ë¯¸ì§€ í”½ì…€ ê³µê°„ (pixel space) ìœ„ì—ì„œ ì§ì ‘ ì‘ë™ â†’ í›ˆë ¨, ì¶”ë¡  ë‘˜ë‹¤ ë„ˆë¬´ ëŠë¦¬ê³  ë¬´ê±°ì›€</p><p id="1e1451cf-7b79-80ad-aac2-cd93e0a517c4" class=""> </p><p id="1e1451cf-7b79-8038-9550-f5738fafe434" class=""><strong>Latent Diffusion Models</strong></p><p id="1e1451cf-7b79-8093-bf1a-f9ff909ebe01" class="">Autoencoderë¡œ ì´ë¯¸ì§€ ì••ì¶• í›„ ì••ì¶•ëœ latent ê³µê°„ ìœ„ì—ì„œ diffusionì„ ëŒë¦¬ì!</p><p id="1e1451cf-7b79-80cb-9425-d0d88bebca42" class="">â†’ 8ë°° ì••ì¶• ì‚¬ìš©</p><ul id="230451cf-7b79-808d-b914-c3b9b0fb9b6f" class="bulleted-list"><li style="list-style-type:disc">Pixel space: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mrow><mi>H</mi><mo>Ã—</mo><mi>W</mi><mo>Ã—</mo><mn>3</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^{H \times W \times 3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ul><ul id="230451cf-7b79-80d3-a2c0-c2efef7d071c" class="bulleted-list"><li style="list-style-type:disc">Latent space: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mrow><mfrac><mi>H</mi><mn>8</mn></mfrac><mo>Ã—</mo><mfrac><mi>W</mi><mn>8</mn></mfrac><mo>Ã—</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^{\frac{H}{8} \times \frac{W}{8} \times C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9735em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9735em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8721em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">Ã—</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8721em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span><br/>ì—¬ê¸°ì„œ <br/><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span><span>ï»¿</span></span>ëŠ” latent ì±„ë„ ìˆ˜</li></ul><p id="1e1451cf-7b79-8025-89a9-f25430858d86" class=""> </p><p id="1e1451cf-7b79-80ff-9148-cfcd4f64f67e" class=""><strong>Diffusion Transformer (DiT)</strong></p><p id="1e1451cf-7b79-80f1-9e7d-d4ab130b2381" class="">ì¶”ê°€ë¡œ latent featureë¥¼ Patch ë‹¨ìœ„ë¡œ ë˜ ë‚˜ëˆ ì„œ ì²˜ë¦¬</p><p id="1b9451cf-7b79-8098-9193-e586022348f2" class="">íŒ¨ì¹˜í¬ê¸°ê°€ PxP ë¼ë©´ ìµœì¢…ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” í† í° ê°œìˆ˜ëŠ” </p><figure id="230451cf-7b79-80d0-8c41-d7c0591f8341" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mi>H</mi><mrow><mi>P</mi><mi>F</mi></mrow></mfrac><mo>Ã—</mo><mfrac><mi>W</mi><mrow><mi>P</mi><mi>F</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{H}{PF} \times \frac{W}{PF}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">PF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">PF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></figure><p id="1e1451cf-7b79-80c0-8075-cc5ee94161f7" class="">ê¸°ì¡´ latent diffusion ëª¨ë¸ë“¤(PixArt, SD3, Flux ë“±)ì€ ë³´í†µ ë‹¤ìŒ ì„¸íŒ…ì„ ì”€</p><ul id="1e1451cf-7b79-80c4-a8f3-c6df52d2fd09" class="bulleted-list"><li style="list-style-type:disc"><strong>AE-F8C4P2</strong> ë˜ëŠ” <strong>AE-F8C16P2</strong><ul id="1e1451cf-7b79-80a9-9429-f1cf0d2d2330" class="bulleted-list"><li style="list-style-type:circle"><strong>F8</strong>: Autoencoderê°€ 8ë°° ì••ì¶•</li></ul><ul id="1e1451cf-7b79-8001-bad1-c21f042864fc" class="bulleted-list"><li style="list-style-type:circle"><strong>C4</strong> ë˜ëŠ” <strong>C16</strong>: latent ì±„ë„ ìˆ˜ (4ê°œë‚˜ 16ê°œ)</li></ul><ul id="1e1451cf-7b79-807d-96f5-e8117ce8331e" class="bulleted-list"><li style="list-style-type:circle"><strong>P2</strong>: Patch í¬ê¸° 2Ã—2ë¡œ ë¬¶ê¸°</li></ul></li></ul><p id="1b9451cf-7b79-8061-b473-ca4c6cebf9ec" class=""> </p><p id="1e1451cf-7b79-80c9-8b47-c9263e77a942" class="">ê¸°ì¡´ì²˜ëŸ¼ 8ë°° ì••ì¶•ë§Œ í•˜ë©´ ê³„ì‚°ëŸ‰ì´ ì—¬ì „íˆ ë„ˆë¬´ ë§ìŒ</p><p id="1e1451cf-7b79-80fb-ba54-e86186ec4dea" class="">ê·¸ë˜ì„œ SANAëŠ” ê³¼ê°í•˜ê²Œ <strong>32ë°° ì••ì¶•(AE-F32)</strong>í•˜ê³ , íŒ¨ì¹˜ë¡œëŠ” ë¬¶ì§€ ì•ŠìŒ.</p><p id="1e1451cf-7b79-80f8-a5b4-ccb66a1d1e24" class=""> </p><h3 id="1e1451cf-7b79-8085-acf1-c48b62023c68" class="">2.1.2 AUTOENCODER DESIGN PHILOSOPHY</h3><table id="1e1451cf-7b79-80c4-bc4e-e1bc262ed3ab" class="simple-table"><tbody><tr id="1e1451cf-7b79-80e3-83ee-dffd0bf9e6d2"><td id="`J=h" class="" style="width:230px">êµ¬ë¶„</td><td id="`bRS" class="" style="width:230px">ê¸°ì¡´ (PixArt, Flux)</td><td id="Ir}k" class="" style="width:230px">SANA</td></tr><tr id="1e1451cf-7b79-80e2-a661-de1049a8f47a"><td id="`J=h" class="" style="width:230px">AE ì••ì¶•ë¹„</td><td id="`bRS" class="" style="width:230px">8ë°° (F=8)</td><td id="Ir}k" class="" style="width:230px">32ë°° (F=32)</td></tr><tr id="1e1451cf-7b79-80f2-92b8-ee193e976609"><td id="`J=h" class="" style="width:230px">Patchify (P=2)</td><td id="`bRS" class="" style="width:230px">O (íŒ¨ì¹˜ë¡œ ë¬¶ìŒ)</td><td id="Ir}k" class="" style="width:230px">âœ–ï¸ (íŒ¨ì¹˜ ì•ˆ ë¬¶ìŒ)</td></tr><tr id="1e1451cf-7b79-8049-9e56-e39dfbc57552"><td id="`J=h" class="" style="width:230px">ìµœì¢… Token ìˆ˜</td><td id="`bRS" class="" style="width:230px">ì¤„ì˜€ì§€ë§Œ ì•„ì§ ë§ìŒ</td><td id="Ir}k" class="" style="width:230px">í›¨ì”¬ ì ìŒ (16ë°° ê°ì†Œ)</td></tr></tbody></table><figure id="1e1451cf-7b79-8045-a540-cda5274fd13c" class="image"><a href="/files/2025-05-12-sana/image%202.webp"><img style="width:432px" src="/files/2025-05-12-sana/image%202.webp"/></a></figure><p id="1e1451cf-7b79-80b0-ad98-dffcd03267c4" class="">ìœ„ì˜ í‘œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ 32ë°° ì••ì¶•í•˜ë”ë¼ë„ ì ìˆ˜ê°€ í¬ê²Œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ëª¨ìŠµì„ ë³´ì„</p><p id="1e1451cf-7b79-8081-b043-db7b043be64a" class=""> </p><h3 id="1e1451cf-7b79-8092-8255-d8e0b073f06d" class="">2.1.3 ABLATION OF AUTOENCODER DESIGNS</h3><ul id="1e1451cf-7b79-805c-baa3-e78917da4b2b" class="bulleted-list"><li style="list-style-type:disc"><strong>ì–´ë””ì„œ ì••ì¶•ì„ ë” í•˜ëŠ” ê²Œ ì¢‹ì€ê°€? (AE vs DiT)</strong></li></ul><div id="1e1451cf-7b79-80cd-8673-ca56ffeba583" class="column-list"><div id="1e1451cf-7b79-8040-9327-e9af8f5fa806" style="width:50%" class="column"><figure id="1e1451cf-7b79-8013-9275-e07b37b17ec6" class="image"><a href="/files/2025-05-12-sana/image%203.webp"><img style="width:384px" src="/files/2025-05-12-sana/image%203.webp"/></a></figure></div><div id="1e1451cf-7b79-800b-a3e1-d9b700437cab" style="width:50%" class="column"><table id="1e1451cf-7b79-8065-800d-c5144119a97c" class="simple-table"><tbody><tr id="1e1451cf-7b79-801c-9ad0-ca35952be937"><td id="G`wd" class="" style="width:125px">ì„¤ì •</td><td id="GEiu" class="" style="width:252px">ì„¤ëª…</td></tr><tr id="1e1451cf-7b79-806f-bf4c-ce61d69ce563"><td id="G`wd" class="" style="width:125px">AE-F8C16P4</td><td id="GEiu" class="" style="width:252px">8ë°° ì••ì¶• + íŒ¨ì¹˜ í¬ê¸° 4</td></tr><tr id="1e1451cf-7b79-8076-9db3-e52d727bc6c6"><td id="G`wd" class="" style="width:125px">AE-F16C32P2</td><td id="GEiu" class="" style="width:252px">16ë°° ì••ì¶• + íŒ¨ì¹˜ í¬ê¸° 2</td></tr><tr id="1e1451cf-7b79-80c5-af81-e6bf4a0e97af"><td id="G`wd" class="" style="width:125px">AE-F32C32P1</td><td id="GEiu" class="" style="width:252px">32ë°° ì••ì¶• + íŒ¨ì¹˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (SANA)</td></tr></tbody></table></div></div><p id="1e1451cf-7b79-804d-883e-cbead4e38a14" class="">AE-F32C32P1 ì„¤ì •ì´ ê°€ì¥ ë›°ì–´ë‚œ ì„±ëŠ¥(FID, CLIP Score)ì„ ê¸°ë¡</p><p id="1e1451cf-7b79-8076-a4e1-dd378d999616" class="">Autoencoderê°€ ì••ì¶•ì„ ì „ì ìœ¼ë¡œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ë° í›ˆë ¨ ì•ˆì •ì„± ëª¨ë‘ì—ì„œ ê°€ì¥ ìš°ìˆ˜</p><p id="1e1451cf-7b79-80c1-8a75-c172c62ee7c6" class=""> </p><ul id="1e1451cf-7b79-80ce-8275-e836b7364d37" class="bulleted-list"><li style="list-style-type:disc"><strong>Autoencoder latent ì±„ë„ ìˆ˜ë¥¼ ëª‡ ê°œë¡œ í•˜ëŠ” ê²Œ ì¢‹ì€ê°€?</strong></li></ul><div id="1e1451cf-7b79-808a-ba25-e8ce8eb7085a" class="column-list"><div id="1e1451cf-7b79-800a-85f2-e521ccbcff47" style="width:50%" class="column"><figure id="1e1451cf-7b79-80c7-a890-ddb81f6586fc" class="image"><a href="/files/2025-05-12-sana/image%204.webp"><img style="width:709.9921875px" src="/files/2025-05-12-sana/image%204.webp"/></a></figure></div><div id="1e1451cf-7b79-80eb-837c-c09fe3a2a8c6" style="width:50%" class="column"><ul id="1e1451cf-7b79-80d3-9f0b-db0256b9b34b" class="bulleted-list"><li style="list-style-type:disc">C=16, C=32, C=64 ì‹¤í—˜ ìˆ˜í–‰</li></ul><ul id="1e1451cf-7b79-802c-8481-e09e4bc919b6" class="bulleted-list"><li style="list-style-type:disc">C=16ì€ ì •ë³´ ì†ì‹¤ë¡œ ì¸í•´ í’ˆì§ˆ ì €í•˜ ë°œìƒ</li></ul><ul id="1e1451cf-7b79-80ff-a1cc-cbca8878281f" class="bulleted-list"><li style="list-style-type:disc">C=64ëŠ” ë³µì› í’ˆì§ˆì€ ì¢‹ì•˜ìœ¼ë‚˜ ëª¨ë¸ ë³µì¡ë„ê°€ ê¸‰ê²©íˆ ì¦ê°€í•˜ì—¬ ë¹„íš¨ìœ¨ì ì„</li></ul><ul id="1e1451cf-7b79-808b-8721-d12f9578fa35" class="bulleted-list"><li style="list-style-type:disc">C=32ê°€ ì„±ëŠ¥ê³¼ íš¨ìœ¨ ì‚¬ì´ì—ì„œ ìµœì  ê· í˜•ì„ ë‹¬ì„±í•¨</li></ul><p id="1e1451cf-7b79-80cf-92a7-eae55efd12c9" class=""> </p></div></div><p id="1e1451cf-7b79-8077-8e8b-da06c8fd118a" class=""> </p><h2 id="1e1451cf-7b79-8005-9906-fe8ee9f67931" class="">2.2 EFFICIENT LINEAR DIT DESIGN</h2><ul id="1e1451cf-7b79-807b-9f8c-db81db50d72e" class="bulleted-list"><li style="list-style-type:disc">ê¸°ì¡´ diffusion transformer(ì˜ˆ: DiT) êµ¬ì¡°ëŠ” <strong>Self-Attention</strong>ì„ ì‚¬ìš©í•¨.</li></ul><ul id="1e1451cf-7b79-80a9-8648-d54890f987bb" class="bulleted-list"><li style="list-style-type:disc">Self-Attentionì˜ ì—°ì‚°ëŸ‰ì€ <strong>O(NÂ²)</strong> ì— ë¹„ë¡€í•¨.<ul id="1e1451cf-7b79-80a5-9397-cbd64ebb1b21" class="bulleted-list"><li style="list-style-type:circle">NNNì€ ì…ë ¥ í† í° ìˆ˜</li></ul><ul id="1e1451cf-7b79-8036-b868-d42c93c4bc54" class="bulleted-list"><li style="list-style-type:circle">í† í° ìˆ˜ê°€ ë§ì•„ì§€ë©´ ì—°ì‚°ëŸ‰ì´ ê¸‰ê²©íˆ ì»¤ì§</li></ul></li></ul><ul id="1e1451cf-7b79-80b3-a080-e264150bd729" class="bulleted-list"><li style="list-style-type:disc">4K í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ë ¤ë©´, latent token ìˆ˜ê°€ ë§ì•„ì§ˆ ìˆ˜ë°–ì— ì—†ìŒ.</li></ul><p id="1e1451cf-7b79-80bb-9674-ec05fe71520b" class="">â†’ ì´ë•Œ, ê¸°ì¡´ ì—°êµ¬ë“¤ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•´ìƒë„ ë‚®ì¶”ê±°ë‚˜ Token ìˆ˜ë¥¼ ì¤„ì˜€ìŒ.</p><p id="1e1451cf-7b79-806c-a8f4-da4c638adbc7" class=""> </p><p id="1e1451cf-7b79-808e-aed5-dee3bacf859a" class=""> </p><h3 id="1e1451cf-7b79-8005-bbf9-ca3630372b5f" class="">ReLU ê¸°ë°˜ Linear Attention ë„ì…</h3><p id="1e1451cf-7b79-80a5-bd1f-fe258c3e21d3" class="">ê¸°ì¡´ Softmax ê¸°ë°˜ Attentionì„ ì œê±°í•˜ê³ , <strong>ReLUë¥¼ ì´ìš©í•œ Linear Attention</strong>ì„ ì±„íƒ</p><figure id="230451cf-7b79-8016-b5cb-d5462c27e05d" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="normal">A</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi></mrow><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">x</mi></mrow><mo stretchy="false">(</mo><mi>Q</mi><msup><mi>K</mi><mi mathvariant="normal">âŠ¤</mi></msup><mo stretchy="false">)</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">\mathrm{Attention}(Q, K, V) = \mathrm{softmax}(QK^\top) V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">Attention</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1491em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">softmax</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span></div></figure><p id="1e1451cf-7b79-804e-b8d2-cd2ce2a7b811" class="">SoftmaxëŠ” ëª¨ë“  Query-Token ì¡°í•©ì„ ë‹¤ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì— O(NÂ²) ë³µì¡ë„ê°€ ë°œìƒ</p><p id="1e1451cf-7b79-80ef-a096-fe7b18a64df7" class=""> </p><div id="1e1451cf-7b79-8037-ab88-f625c0cce9d4" class="column-list"><div id="1e1451cf-7b79-8087-91f2-eda7b8ba45ee" style="width:31.25%" class="column"><figure id="1e1451cf-7b79-809b-b6ba-d5b13e8c53f3" class="image"><a href="/files/2025-05-12-sana/image%205.webp"><img style="width:331.9921875px" src="/files/2025-05-12-sana/image%205.webp"/></a></figure></div><div id="1e1451cf-7b79-80c8-a5f7-e54f713aa754" style="width:68.75%" class="column"><ul id="1e1451cf-7b79-80c7-8c3e-d602057e8287" class="bulleted-list"><li style="list-style-type:disc">SANAì—ì„œëŠ” ë‹¤ìŒì²˜ëŸ¼ ê³„ì‚° êµ¬ì¡°ë¥¼ ë³€ê²½:<ol type="1" id="1e1451cf-7b79-8075-939d-fdd44b7c9e75" class="numbered-list" start="1"><li>ê° Keyì— ReLUë¥¼ ì ìš©í•¨: <strong>ReLU(K)</strong></li></ol><ol type="1" id="1e1451cf-7b79-8090-8371-e394e722bbc9" class="numbered-list" start="2"><li>ë‘ ê°€ì§€ ê³µìœ  termì„ ë¯¸ë¦¬ ê³„ì‚°<ul id="230451cf-7b79-80be-82fe-da8d1dd4ad4b" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">L</mi><mi mathvariant="normal">U</mi></mrow><mo stretchy="false">(</mo><msub><mi>K</mi><mi>j</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup><msub><mi>V</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^N \mathrm{ReLU}(K_j)^T V_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.417em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">ReLU</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (dxd matrix)</li></ul><ul id="230451cf-7b79-8036-a974-d9288ac7762f" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">L</mi><mi mathvariant="normal">U</mi></mrow><mo stretchy="false">(</mo><msub><mi>K</mi><mi>j</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\sum_{j=1}^N \mathrm{ReLU}(K_j)^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.417em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">ReLU</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (dÃ—1 vector)</li></ul></li></ol><ol type="1" id="1e1451cf-7b79-808e-b95f-c187fb75f285" class="numbered-list" start="3"><li>ì´í›„, ê° Queryì— ëŒ€í•´ ì´ pre-computed shared termì„ ì¬ì‚¬ìš©í•˜ì—¬ Attentionì„ ê³„ì‚°</li></ol></li></ul><ul id="1e1451cf-7b79-8045-a00d-d03540686623" class="bulleted-list"><li style="list-style-type:disc">ì´ ë°©ì‹ì€ Queryë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ ì—°ì‚°í•  í•„ìš”ê°€ ì—†ì–´ì„œ, ì „ì²´ Attention ê³„ì‚°ì´ <strong>O(N)</strong> ìœ¼ë¡œ ì¤„ì–´ë“¦.</li></ul><p id="1e1451cf-7b79-801f-b21f-f85a6a1000cf" class=""> </p></div></div><p id="1e1451cf-7b79-808f-b019-c49c74b52e7e" class=""> </p><p id="1e1451cf-7b79-80e2-9406-f12f81268cad" class=""><strong>PixArtë„ Linearì´ë¬ëŠ”ë° ë‹¤ë¥¸ì ì€?</strong></p><p id="1e1451cf-7b79-8062-8136-e2c8084383eb" class="">PixArtì—ì„œëŠ” Keyì™€ Value í† í°ì„ ì••ì¶•í•˜ì—¬ ì—°ì‚°ëŸ‰ì„ ì¤„ì—¬ì„œ Engineering Optimizationìœ¼ë¡œ O(N)ê³¼ ë¹„ìŠ·í•˜ê²Œ í•˜ëŠ” ë°©ì‹, SANAì—ì„œëŠ” ì•„ì˜ˆ ìˆ˜í•™ì ìœ¼ë¡œ ê³„ì‚°ëŸ‰ì´ O(N)</p><p id="1e1451cf-7b79-8017-a3ee-f319d05ef866" class=""> </p><p id="1e1451cf-7b79-80df-931b-ed23d48991ef" class=""> </p><p id="1e1451cf-7b79-8064-a4e3-e31fc8cd4e4b" class=""> </p><p id="1e1451cf-7b79-80ef-a40f-fde33951f7cf" class=""> </p><h3 id="1e1451cf-7b79-8094-bd3c-c9de943dfcfa" class="">Mix-FFN Block</h3><div id="1e1451cf-7b79-8014-8b6b-e9dc846abe4b" class="column-list"><div id="1e1451cf-7b79-8057-94ea-e74d67472b3d" style="width:18.75%" class="column"><figure id="1e1451cf-7b79-80e5-9d1d-e73d7e7f40e8" class="image"><a href="/files/2025-05-12-sana/image%206.webp"><img style="width:331.9921875px" src="/files/2025-05-12-sana/image%206.webp"/></a></figure></div><div id="1e1451cf-7b79-80ab-a302-fe2daa822bdd" style="width:81.25%" class="column"><p id="1e1451cf-7b79-80a1-aa08-cea58de6dd01" class="">ê¸°ì¡´ Transformerì˜ FFN (Feed-Forward Network)ì€ ë‹¨ìˆœíˆ 2ê°œì˜ Linear Layerë¡œ êµ¬ì„±ë˜ì–´ ìˆì—ˆìŒ.</p><p id="1e1451cf-7b79-80ef-b509-cc0b50e0f1c8" class="">FFNì€ ì „ì—­ì ì¸ ì •ë³´ëŠ” ì˜ ì²˜ë¦¬í•˜ì§€ë§Œ, <strong>ì§€ì—­ì ì¸(local) ë””í…Œì¼</strong> ë³µì›ì—ëŠ” ì•½í–ˆìŒ.</p><p id="1e1451cf-7b79-805d-9466-db4c3916938c" class=""> </p><p id="1e1451cf-7b79-80ec-9f84-df19eb48f269" class="">SANAì˜ í•´ê²°ì±…:</p><ul id="1e1451cf-7b79-80ff-93f1-db24e31feb9b" class="bulleted-list"><li style="list-style-type:disc">ê¸°ì¡´ MLP ì‚¬ì´ì— <strong>3Ã—3 Depthwise Convolution</strong>ì„ ì‚½ì…</li></ul><ul id="1e1451cf-7b79-80de-ab5f-e1435a44ed76" class="bulleted-list"><li style="list-style-type:disc">ì´ë¥¼ í†µí•´ ì§€ì—­ êµ¬ì¡°(local structure) í•™ìŠµì„ ê°•í™”</li></ul><ul id="1e1451cf-7b79-80d0-b379-dd9435bfdda7" class="bulleted-list"><li style="list-style-type:disc">ê²°ê³¼ì ìœ¼ë¡œ <strong>í…ìŠ¤ì²˜, ê²½ê³„ì„ </strong>, ì´ëŸ° ì„¸ë°€í•œ ë¶€ë¶„ ë³µì›ì— ìœ ë¦¬</li></ul><p id="1e1451cf-7b79-80c4-9e77-e9cabd2af50d" class=""> </p></div></div><p id="1e1451cf-7b79-80b8-bb4c-e665e1580398" class=""> </p><p id="1e1451cf-7b79-8006-a4dd-fe63c5ab7754" class=""> </p><p id="1e1451cf-7b79-8044-ac8d-e8338b9be66e" class=""> </p><h3 id="1e1451cf-7b79-80bb-890c-f14842ca751b" class="">DiT without Positional Encoding (NoPE)</h3><p id="1e1451cf-7b79-80ce-891a-fb72b793fcff" class="">ê¸°ì¡´ Transformer êµ¬ì¡°ëŠ” ì…ë ¥ ìˆœì„œë¥¼ ì¸ì‹í•˜ë„ë¡ <strong>Positional Encoding</strong>ì„ ì‚¬ìš©í–ˆìŒ.</p><p id="1e1451cf-7b79-8013-b598-c862c600b300" class="">ì™œëƒë©´ TransformerëŠ” ì…ë ¥ ìˆœì„œë¥¼ êµ¬ë³„í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì—â€¦</p><p id="1e1451cf-7b79-8049-a242-d023119ca191" class=""> </p><p id="1e1451cf-7b79-8042-923b-c825f3c64f69" class="">í•˜ì§€ë§Œ 4K ê³ í•´ìƒë„ latentì²˜ëŸ¼ í† í° ìˆ˜ê°€ ë§ì„ ë•Œ, Positional Encodingì„ ê³„ì‚°í•˜ê³  ì €ì¥í•˜ëŠ” ë°ë„ ë¹„ìš©ì´ í¼.</p><p id="1e1451cf-7b79-8089-b32d-e572fc9e9972" class=""> </p><p id="1e1451cf-7b79-80d5-970e-fe47244c21e5" class="">SANAì—ì„œëŠ” ì•„ì˜ˆ Positional Encodingì„ ì œê±°í•¨</p><ul id="1e1451cf-7b79-8036-9c4b-e494430f2233" class="bulleted-list"><li style="list-style-type:disc"><strong>3Ã—3 Depthwise Convolution</strong>ì´ Mix-FFNì— ì¶”ê°€ë˜ì–´ì„œ ì§€ì—­ì  ìœ„ì¹˜ ê´€ê³„ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŒ.</li></ul><ul id="1e1451cf-7b79-80d1-8933-e737d1bd3c1b" class="bulleted-list"><li style="list-style-type:disc">Linear Attentionì€ <strong>ì „ì—­ ê´€ê³„</strong>ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í¬ì°©í•  ìˆ˜ ìˆìŒ.<p id="1e1451cf-7b79-809e-bddb-d0eaf31cdb41" class="">â†’ ë³„ë„ë¡œ ìœ„ì¹˜ ì •ë³´ë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šì•„ë„ ì¶©ë¶„íˆ íŒ¨í„´ê³¼ êµ¬ì¡°ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŒ.</p></li></ul><p id="1e1451cf-7b79-8026-909d-cdad368961c3" class=""> </p><p id="1e1451cf-7b79-8019-8111-ce9a849dcee8" class="">ê²°ê³¼ì ìœ¼ë¡œ í’ˆì§ˆì´ ìœ ì§€ë˜ë©´ì„œ êµ¬ì¡°ê°€ ê°„ë‹¨í•´ì§€ê³  ë©”ëª¨ë¦¬ ì—°ì‚°ëŸ‰ì´ ê°ì†Œí•¨</p><figure id="1e1451cf-7b79-8004-a692-db239ce26b72" class="image"><a href="/files/2025-05-12-sana/image%207.webp"><img style="width:528px" src="/files/2025-05-12-sana/image%207.webp"/></a></figure><p id="1e1451cf-7b79-8012-a554-e3dfe57ade45" class=""> </p><p id="1e1451cf-7b79-8081-90cc-f566df8cef16" class=""> </p><p id="1e1451cf-7b79-8099-beb2-e34547481389" class=""> </p><h3 id="1e1451cf-7b79-8065-8dc2-eb244c9483b7" class="">Triton Acceleration Training/Inference</h3><p id="1e1451cf-7b79-8009-8882-f72f1b0fb367" class="">Appendixì— ì¶”ê°€í•œë‹¤ê³  ë˜ì–´ìˆëŠ”ë° ì•„ì§ ê´€ë ¨ ë‚´ìš© ì—†ìŒ.</p><p id="1e1451cf-7b79-80f2-a05f-d5ba351d6134" class=""> </p><p id="1e1451cf-7b79-80a7-b828-dff44b07f9e3" class="">GPTê°€ ì•Œë ¤ì¤€ ë‚´ìš©</p><ul id="1e1451cf-7b79-8033-b1b7-e2d695b7ab99" class="bulleted-list"><li style="list-style-type:disc">Linear Attentionì„ êµ¬í˜„í•  ë•Œ, ë‹¨ìˆœíˆ ì•Œê³ ë¦¬ì¦˜ë§Œ ê°œì„ í•˜ëŠ” ê²ƒìœ¼ë¡œëŠ” ë¶€ì¡±í•¨.</li></ul><ul id="1e1451cf-7b79-8077-a87e-c1336991bb9b" class="bulleted-list"><li style="list-style-type:disc">ì‹¤ì œ ì—°ì‚° íš¨ìœ¨ê¹Œì§€ ê·¹ëŒ€í™”í•˜ë ¤ë©´, <strong>GPU kernel ë ˆë²¨ ìµœì í™”</strong>ê°€ í•„ìš”í•¨.</li></ul><ul id="1e1451cf-7b79-803f-b28b-d781da695eb2" class="bulleted-list"><li style="list-style-type:disc">SANAëŠ” <strong>Triton</strong>ì„ ì‚¬ìš©í•˜ì—¬ Linear Attention ì—°ì‚°ì„ ì§ì ‘ ìµœì í™”í•¨.<ul id="1e1451cf-7b79-80b3-a15c-f707cb08f596" class="bulleted-list"><li style="list-style-type:circle">Tritonì€ NVIDIAê°€ ì§€ì›í•˜ëŠ” <strong>ì»¤ìŠ¤í…€ GPU ì»¤ë„ í”„ë¡œê·¸ë˜ë° í”„ë ˆì„ì›Œí¬</strong>ì„.</li></ul><ul id="1e1451cf-7b79-80bc-82e3-f73e11445995" class="bulleted-list"><li style="list-style-type:circle">CUDAë³´ë‹¤ ë‹¨ìˆœí•œ ë¬¸ë²•ìœ¼ë¡œ, ê³ ì„±ëŠ¥ ì»¤ë„ì„ ì‘ì„±í•  ìˆ˜ ìˆìŒ.</li></ul></li></ul><p id="1e1451cf-7b79-80f5-9cf8-f5152a0df3ab" class=""> </p><p id="1e1451cf-7b79-8057-b111-cd1230ed2402" class="">Tritonìœ¼ë¡œ ìµœì í™”í•œ ê²°ê³¼:</p><ul id="1e1451cf-7b79-8018-a807-d3e7e3ca22d3" class="bulleted-list"><li style="list-style-type:disc">Matrix ê³± ì—°ì‚°(GEMM)ê³¼ Memory Accessë¥¼ ì¤„ì„.</li></ul><ul id="1e1451cf-7b79-80d4-9115-e14e7ee3c14e" class="bulleted-list"><li style="list-style-type:disc">ì‹¤ì œ latency(ì§€ì—° ì‹œê°„)ì™€ memory bandwidth ì†Œëª¨ë¥¼ í¬ê²Œ ê°œì„ </li></ul><p id="1e1451cf-7b79-8052-a8a6-d0f4815a7773" class=""> </p><p id="1e1451cf-7b79-8088-8972-d06b7bf80def" class=""> </p><p id="1e1451cf-7b79-808b-b041-d57e8f2a3049" class=""> </p><p id="1e1451cf-7b79-80b5-8104-cba39f710b69" class=""> </p><p id="1e1451cf-7b79-80c8-8171-c1fecf5a0d15" class=""> </p><h2 id="1e1451cf-7b79-80bc-b5d2-de21611ef5ae" class="">2.3 TEXT ENCODER DESIGN</h2><p id="1e1451cf-7b79-805e-9efe-c9aaa7c50acd" class=""> </p><h3 id="1e1451cf-7b79-8096-9973-ccc984b429fa" class=""><strong>ì™œ T5 ëŒ€ì‹  Decoder-only LLMì„ ì‚¬ìš©í•˜ëŠ”ê°€?</strong></h3><p id="1e1451cf-7b79-80c0-880e-e483b616aa44" class=""> </p><p id="1e1451cf-7b79-8004-b481-fb568212a13f" class="">SANAëŠ” Gemmaë¥¼ Text Encoderë¡œ ì‚¬ìš©í•˜ê¸°ë¡œ ì±„íƒ</p><table id="1e1451cf-7b79-8033-bb10-eb08e0e4727d" class="simple-table"><tbody><tr id="1e1451cf-7b79-8098-bd99-ca73ab8a0411"><td id="XfwJ" class="" style="width:230px">í•­ëª©</td><td id="sarK" class="" style="width:230px">ê¸°ì¡´ (T5)</td><td id="XAbw" class="" style="width:230px">SANA (Gemma-2)</td></tr><tr id="1e1451cf-7b79-808a-8fb8-f7e1898d4ba8"><td id="XfwJ" class="" style="width:230px">ëª¨ë¸ êµ¬ì¡°</td><td id="sarK" class="" style="width:230px">Encoder-Decoder</td><td id="XAbw" class="" style="width:230px">Decoder-only</td></tr><tr id="1e1451cf-7b79-801f-b975-c1b949f0870e"><td id="XfwJ" class="" style="width:230px">Reasoning ëŠ¥ë ¥</td><td id="sarK" class="" style="width:230px">ì œí•œì </td><td id="XAbw" class="" style="width:230px">ë§¤ìš° ê°•í•¨ (CoT, ICL ê°€ëŠ¥)</td></tr><tr id="1e1451cf-7b79-8026-9d08-f5268410c1d3"><td id="XfwJ" class="" style="width:230px">ì¶”ë¡  ì†ë„</td><td id="sarK" class="" style="width:230px">ëŠë¦¼ (T5-XXL)</td><td id="XAbw" class="" style="width:230px">6ë°° ë¹ ë¦„ (Gemma-2-2B)</td></tr></tbody></table><p id="1e1451cf-7b79-806c-9e64-eb2f6cbd4ea1" class=""> </p><figure id="1e1451cf-7b79-807b-a441-e7801ac0efe7" class="image"><a href="/files/2025-05-12-sana/image%208.webp"><img style="width:2054px" src="/files/2025-05-12-sana/image%208.webp"/></a></figure><p id="1e1451cf-7b79-8000-90b4-ec164b0bde2f" class="">â†’ ë¹ ë¥¸ë°ë„ ë¶ˆêµ¬í•˜ê³ , CLIP Scoreì™€ FID(ì´ë¯¸ì§€ í’ˆì§ˆ ì§€í‘œ)ì—ì„œëŠ” <strong>ì„±ëŠ¥ì´ ë¹„ìŠ·í•¨</strong></p><p id="1e1451cf-7b79-809e-bd16-dc436c081112" class=""> </p><p id="1e1451cf-7b79-809d-83d5-fde23e843e83" class=""> </p><h3 id="1e1451cf-7b79-8050-936f-f4ceb386076a" class="">Decoder-only LLMì„ Text Encoderë¡œ ì“°ë©´ì„œ ìƒê¸´ ë¬¸ì œ í•´ê²°</h3><p id="1e1451cf-7b79-80a5-9bd6-e070176ae4d8" class="">Decoder-only LLM (Gemma, Qwen ë“±)ì˜ í…ìŠ¤íŠ¸ ì„ë² ë”©ì€ Varianceê°€ í›¨ì”¬ í¼.</p><ul id="1e1451cf-7b79-8021-96ce-eee0265e24c2" class="bulleted-list"><li style="list-style-type:disc">í° ê°’ì´ í…ìŠ¤íŠ¸ ì„ë² ë”© ì•ˆì— ë§ì´ í¬í•¨ë˜ì–´ ìˆìŒ.</li></ul><ul id="1e1451cf-7b79-8026-9614-def1962fcd89" class="bulleted-list"><li style="list-style-type:disc">Cross-Attention ì—°ì‚° ì¤‘ ìˆ˜ì¹˜ í­ë°œ(NaN)ë¡œ ì´ì–´ì§.</li></ul><p id="1e1451cf-7b79-8031-b690-d300317ceda6" class=""> </p><p id="1e1451cf-7b79-804e-aef8-fdbb3efc4073" class=""> </p><p id="1e1451cf-7b79-8001-8fd1-f5cc9669c842" class=""><strong>ë°©ë²• 1: RMSNorm ì¶”ê°€</strong></p><p id="1e1451cf-7b79-80b4-98ad-fe26f1b6d0ac" class="">Gemma-2ì˜ í…ìŠ¤íŠ¸ ì„ë² ë”© ì¶œë ¥ì— <strong>RMSNorm</strong>ì„ ì ìš©</p><p id="1e1451cf-7b79-8078-9787-eafb501d7fb3" class="">RMSNorm?</p><ul id="1e1451cf-7b79-8012-a820-e765c9344d3f" class="bulleted-list"><li style="list-style-type:disc">ì…ë ¥ ë²¡í„°ì˜ Varianceë¥¼ 1.0ìœ¼ë¡œ ì •ê·œí™”</li></ul><ul id="1e1451cf-7b79-8076-ae1f-e8a87434b2f8" class="bulleted-list"><li style="list-style-type:disc">í° ê°’ì´ë‚˜ ì‘ì€ ê°’ë“¤ì„ ê· ì¼í•˜ê²Œ ë§Œë“¤ì–´ ìˆ˜ì¹˜ í­ë°œ ë°©ì§€</li></ul><p id="1e1451cf-7b79-80f0-b60a-c9e3b3af8af5" class=""> </p><p id="1e1451cf-7b79-8048-8d2e-c64c9ae9f503" class=""><strong>ë°©ë²• 2: Learnable Scale Factor ì¶”ê°€</strong></p><ul id="1e1451cf-7b79-809e-9925-db946a6f80b3" class="bulleted-list"><li style="list-style-type:disc">ì¶”ê°€ë¡œ, í…ìŠ¤íŠ¸ ì„ë² ë”©ì— <strong>í•™ìŠµ ê°€ëŠ¥í•œ ì‘ì€ ìŠ¤ì¼€ì¼ íŒŒë¼ë¯¸í„°</strong>ë¥¼ ê³±í•¨</li></ul><ul id="1e1451cf-7b79-806d-8abd-e1ae93b12c85" class="bulleted-list"><li style="list-style-type:disc">ì´ˆê¸° ê°’ì€ ë§¤ìš° ì‘ê²Œ ì„¤ì •í•¨ (ì˜ˆ: 0.01)</li></ul><ul id="1e1451cf-7b79-80bd-b0df-d8d9be4e1760" class="bulleted-list"><li style="list-style-type:disc">ì´ íŒŒë¼ë¯¸í„°ê°€ í•™ìŠµì„ í†µí•´ ì ì ˆí•œ í¬ê¸°ë¡œ ì¡°ì •ë˜ë©´ì„œ ëª¨ë¸ ìˆ˜ë ´ ì†ë„ê°€ ë¹¨ë¼ì§</li></ul><p id="1e1451cf-7b79-802e-a6b5-c1b025bb65b8" class=""> </p><p id="1e1451cf-7b79-804b-b578-d6cc57be261c" class="">â†’ í›ˆë ¨ ì•ˆì •ì„± í™•ë³´ + ìˆ˜ë ´ ì†ë„ í–¥ìƒ</p><figure id="1e1451cf-7b79-806c-bab4-dbe22b1d2d8a" class="image"><a href="/files/2025-05-12-sana/image%209.webp"><img style="width:432px" src="/files/2025-05-12-sana/image%209.webp"/></a></figure><p id="1e1451cf-7b79-80fa-b5f7-faf61ae8ad26" class=""> </p><p id="1e1451cf-7b79-80cf-a529-de6e32ac4680" class=""> </p><h3 id="1e1451cf-7b79-80cb-a7ce-cc817e85d83c" class="">Complex Human Instruction Improves Text-Image Alignment</h3><p id="1e1451cf-7b79-80cc-a519-d914d84ec1e2" class="">GemmaëŠ” ê°•ë ¥í•œ LLMì´ì§€ë§Œ, ì‚¬ìš©ìê°€ ì§§ê±°ë‚˜ ëª¨í˜¸í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ (ì˜ˆ: &quot;a cat&quot;)</p><p id="1e1451cf-7b79-808c-9e94-d9334e39607c" class="">LLMì´ ì´ˆì ì„ ìƒê³  ì—‰ëš±í•œ ë‹µë³€ì„ í•  ìˆ˜ë„ ìˆìŒ.</p><p id="1e1451cf-7b79-803f-bd4d-f77b3a1d6d15" class="">â†’ LLMì´ í”„ë¡¬í”„íŠ¸ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ ë§Œë“œëŠ” ì¶”ê°€ ì§€ì‹œë¬¸ì´ í•„ìš”í•¨.</p><p id="1e1451cf-7b79-8024-8c55-e16bff64d2de" class=""> </p><p id="1e1451cf-7b79-80df-a6a3-cbe872cf84aa" class=""><strong>CHIê°€ ê·¸ë˜ì„œ ë­”ë””?</strong></p><p id="1e1451cf-7b79-8099-bd13-cfd1ca105562" class="">LLMì˜ <strong>In-Context Learning</strong> ëŠ¥ë ¥ì„ í™œìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ì£¼ê¸° ì „ì—, </p><p id="1e1451cf-7b79-80cd-9d6b-d850e580600a" class="">LLMì—ê²Œ &quot;ìƒ‰ìƒ, í¬ê¸°, ìœ„ì¹˜ ê´€ê³„ ê°™ì€ ì„¸ë¶€ ë¬˜ì‚¬ë¥¼ ì¶”ê°€í•´ë¼&quot;ì™€ ê°™ì€ <strong>ë³µì¡í•œ ëª…ë ¹ ì„¸íŠ¸</strong>ë¥¼ í•¨ê»˜ ì œê³µí•˜ëŠ” ê²ƒ</p><p id="1e1451cf-7b79-80cd-a1cb-ee60c69e658e" class=""> </p><p id="1e1451cf-7b79-8040-85bf-ed8dd8f6f44a" class=""><strong>ê²°ê³¼ 1</strong></p><div id="1e1451cf-7b79-8097-9a43-cfbef9f6121b" class="column-list"><div id="1e1451cf-7b79-80fc-98ed-c84ac075c157" style="width:37.5%" class="column"><figure id="1e1451cf-7b79-80e0-81d6-e22d8fd2e0e3" class="image"><a href="/files/2025-05-12-sana/image%2010.webp"><img style="width:720px" src="/files/2025-05-12-sana/image%2010.webp"/></a></figure></div><div id="1e1451cf-7b79-8010-8392-f60964428dc6" style="width:62.5%" class="column"><p id="1e1451cf-7b79-80b5-93db-ed7bee07f91c" class="">CHIë¥¼ ì ìš©í–ˆì„ ë•Œ, í•™ìŠµì„ ì²˜ìŒë¶€í„° í•˜ë“ (fresh training)</p><p id="1e1451cf-7b79-805d-afd8-fe29ade9f100" class="">ì•„ë‹ˆë©´ ê¸°ì¡´ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •(fine-tuning)í•˜ë“ </p><p id="1e1451cf-7b79-807f-bbf4-ff9345eef635" class=""><strong>í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì„±ëŠ¥ì´ í–¥ìƒ</strong></p></div></div><p id="1e1451cf-7b79-8062-bd1b-eaaca4714b77" class=""> </p><p id="1e1451cf-7b79-8031-a545-d1b7666be5b2" class=""><strong>ê²°ê³¼ 2</strong></p><div id="1e1451cf-7b79-80e6-aca7-dc6e49816ca7" class="column-list"><div id="1e1451cf-7b79-8051-bb91-e4e5def3544c" style="width:50%" class="column"><figure id="1e1451cf-7b79-8024-8875-f8fdfcbb933a" class="image"><a href="/files/2025-05-12-sana/image%2011.webp"><img style="width:331.9921875px" src="/files/2025-05-12-sana/image%2011.webp"/></a></figure></div><div id="1e1451cf-7b79-8075-91ef-fee18cd122f8" style="width:50%" class="column"><p id="1e1451cf-7b79-80c8-90d4-cd4bd6126a58" class="">ì§§ì€ í”„ë¡¬í”„íŠ¸(ì˜ˆ: &quot;a cat&quot;)ë¥¼ ì…ë ¥í–ˆì„ ë•Œ,</p><p id="1e1451cf-7b79-80da-8423-d573e7a5d20f" class=""> </p><p id="1e1451cf-7b79-80a6-a3f1-c0989f4cb298" class="">CHIê°€ ì—†ìœ¼ë©´, ëª¨ë¸ì´ ì—‰ëš±í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê±°ë‚˜ í’ˆì§ˆì´ ë¶ˆì•ˆì •í•´ì§.</p><p id="1e1451cf-7b79-8069-8833-eec57a78702c" class=""> </p><p id="1e1451cf-7b79-8003-83a8-fa421069e30a" class="">CHIê°€ ìˆìœ¼ë©´, ëª¨ë¸ì´ <strong>í”„ë¡¬í”„íŠ¸ì— ì •í™•íˆ ë§ëŠ” ì•ˆì •ì ì¸ ì´ë¯¸ì§€</strong>ë¥¼ ìƒì„±</p><p id="1e1451cf-7b79-80a9-8a48-d16a12f6e9d7" class=""> </p></div></div><p id="1e1451cf-7b79-80c2-8eaa-d69f82999df9" class=""> </p><p id="1e1451cf-7b79-80cf-be9f-fd35f11fe6f8" class=""> </p><p id="1e1451cf-7b79-807d-93e8-dd3ef8b78aad" class=""> </p><p id="1e1451cf-7b79-8042-8caa-cbb23bed9adf" class=""> </p><p id="1e1451cf-7b79-80c0-b0b3-e6b1bae0e301" class=""> </p><h1 id="1e1451cf-7b79-800b-9684-f23c46215e94" class="">3 EFFICIENT TRAINING/INFERENCE</h1><h2 id="1e1451cf-7b79-80c9-a061-c5455d8655d4" class="">3.1 DATA CURATION AND BLENDING</h2><h3 id="1e1451cf-7b79-80a3-8afc-e633623249c6" class="">1. Multi-Caption Auto-labelling Pipeline</h3><p id="1e1451cf-7b79-8085-a059-cdd9d0d17de5" class=""> </p><p id="1e1451cf-7b79-80ca-939b-cd45e6a4ae32" class=""><strong>ì´ë¯¸ì§€ í•˜ë‚˜ë‹¹ 4ê°œì˜ VLM(Vision-Language Models) ì„ ì´ìš©í•´ ìº¡ì…˜ì„ ìƒì„±í•¨.</strong></p><ul id="1e1451cf-7b79-8062-89b4-e948bb033550" class="bulleted-list"><li style="list-style-type:disc"><strong>VILA-3B</strong></li></ul><ul id="1e1451cf-7b79-80e0-b89f-f929dcf8d63e" class="bulleted-list"><li style="list-style-type:disc"><strong>VILA-13B</strong></li></ul><ul id="1e1451cf-7b79-8023-b53a-ceeac0d89062" class="bulleted-list"><li style="list-style-type:disc"><strong>InternVL-28B</strong></li></ul><ul id="1e1451cf-7b79-8091-be5e-c960755a85f0" class="bulleted-list"><li style="list-style-type:disc"><strong>InternVL-26B</strong></li></ul><p id="1e1451cf-7b79-80b8-85c7-c591d1067a22" class=""> </p><p id="1e1451cf-7b79-804f-9bbe-c8bcb1f2c8e8" class=""><strong>â†’ ì •í™•í•œ ìº¡ì…˜</strong> ìƒì„± (í•˜ë‚˜ë§Œ ì“°ëŠ” ê²ƒë³´ë‹¤ ì˜¤ë¥˜ ì¤„ì„)</p><p id="1e1451cf-7b79-8027-8b9b-e6d1373614f5" class=""><strong>â†’ ë‹¤ì–‘í•œ í‘œí˜„</strong> í™•ë³´ (ê°™ì€ ì´ë¯¸ì§€ë¥¼ ì—¬ëŸ¬ ê´€ì ì—ì„œ ë¬˜ì‚¬ ê°€ëŠ¥)</p><hr id="1e1451cf-7b79-8045-bc0d-c14849aa4cea"/><h3 id="1e1451cf-7b79-806c-b075-cc590274effc" class="">2. CLIP-Score-based Caption Sampler</h3><p id="1e1451cf-7b79-8063-a310-d7dfdf81a3d6" class=""><strong>ë¬¸ì œ ìƒí™©</strong></p><ul id="1e1451cf-7b79-8068-a41a-d7a2c2d50e26" class="bulleted-list"><li style="list-style-type:disc">ìº¡ì…˜ì„ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì—ˆëŠ”ë°,<p id="1e1451cf-7b79-803c-9511-e555a8e2e77c" class="">í›ˆë ¨í•  ë•Œ ì–´ë–¤ ìº¡ì…˜ì„ ì„ íƒí• ì§€ê°€ ë¬¸ì œì„.</p></li></ul><ul id="1e1451cf-7b79-800c-a95f-d4a6c50ba213" class="bulleted-list"><li style="list-style-type:disc">ë¬´ì‘ìœ„ë¡œ(random) í•˜ë‚˜ ê³ ë¥´ë©´:<ul id="1e1451cf-7b79-80bb-9c08-f1ad75cc5f38" class="bulleted-list"><li style="list-style-type:circle">í’ˆì§ˆì´ ë‚®ì€ ë¬¸ì¥ì„ ë½‘ì„ ìœ„í—˜ì´ ìˆìŒ</li></ul><ul id="1e1451cf-7b79-8011-96df-ce2780c002d7" class="bulleted-list"><li style="list-style-type:circle">ê·¸ëŸ¬ë©´ í›ˆë ¨ì´ ëŠë ¤ì§€ê±°ë‚˜ ëª¨ë¸ í’ˆì§ˆì´ ë–¨ì–´ì§</li></ul></li></ul><p id="1e1451cf-7b79-8033-994d-c2063d8231da" class=""><strong>í•´ê²° ë°©ë²•</strong></p><ul id="1e1451cf-7b79-80c6-8aab-e8729a934b60" class="bulleted-list"><li style="list-style-type:disc"><strong>CLIP score</strong>ë¥¼ í™œìš©í•´ í’ˆì§ˆ ë†’ì€ ìº¡ì…˜ì„ ë½‘ëŠ” ë°©ì‹ ì‚¬ìš©<ul id="1e1451cf-7b79-8099-ac01-d3a9bfba0cb9" class="bulleted-list"><li style="list-style-type:circle">CLIPì€ ì´ë¯¸ì§€-í…ìŠ¤íŠ¸ ë§¤ì¹­ ì •ë„ë¥¼ ì ìˆ˜ë¡œ ê³„ì‚°í•´ì¤Œ.</li></ul></li></ul><ul id="1e1451cf-7b79-8026-98b1-e209bd2f3278" class="bulleted-list"><li style="list-style-type:disc">ê³¼ì •:<ol type="1" id="1e1451cf-7b79-8043-a7e4-f032f1e74436" class="numbered-list" start="1"><li>ì´ë¯¸ì§€ì— ëŒ€í•´ ìƒì„±ëœ ê° ìº¡ì…˜ì˜ CLIP ì ìˆ˜(cic_ici)ë¥¼ ê³„ì‚°</li></ol><ol type="1" id="1e1451cf-7b79-8025-b743-d57f63576136" class="numbered-list" start="2"><li>ì ìˆ˜ê°€ ë†’ì€ ìº¡ì…˜ì¼ìˆ˜ë¡ ë½‘í í™•ë¥ ì´ ë†’ê²Œ ì„¤ì •</li></ol><ol type="1" id="1e1451cf-7b79-8054-b3c3-f5be9f794345" class="numbered-list" start="3"><li>Sampling í™•ë¥  ê³µì‹:</li></ol><figure id="230451cf-7b79-80f7-aace-cf3753ca613c" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><msup><mi>e</mi><mrow><msub><mi>c</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>Ï„</mi></mrow></msup><mrow><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msup><mi>e</mi><mrow><msub><mi>c</mi><mi>j</mi></msub><mi mathvariant="normal">/</mi><mi>Ï„</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(c_i) = \frac{e^{c_i / \tau}}{\sum_{j=1}^N e^{c_j / \tau}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.872em;vertical-align:-1.307em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.1288em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8301em;"><span style="top:-3.0051em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">Ï„</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">Ï„</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.307em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></figure></li></ul><p id="1e1451cf-7b79-80aa-b764-e9b1e0adae90" class="">ì—¬ê¸°</p><ul id="1e1451cf-7b79-8047-b561-fab687ac56e7" class="bulleted-list"><li style="list-style-type:disc">Ï„ëŠ” &quot;temperature&quot;ë¼ëŠ” í•˜ì´í¼íŒŒë¼ë¯¸í„°ì„.</li></ul><ul id="1e1451cf-7b79-808f-a55e-e11f19d125ca" class="bulleted-list"><li style="list-style-type:disc"><strong>Temperature ì¡°ì •ìœ¼ë¡œ ë½‘ëŠ” ê°•ë„ë¥¼ ì¡°ì ˆ</strong>í•  ìˆ˜ ìˆìŒ:<ul id="1e1451cf-7b79-80c9-97fe-fb24dcc9a0a7" class="bulleted-list"><li style="list-style-type:circle">Ï„ê°€ ì‘ìœ¼ë©´: ì ìˆ˜ ê°€ì¥ ë†’ì€ ìº¡ì…˜ë§Œ ê±°ì˜ í•­ìƒ ì„ íƒ</li></ul><ul id="1e1451cf-7b79-80bb-99cf-f34168f406df" class="bulleted-list"><li style="list-style-type:circle">Ï„ê°€ í¬ë©´: ë‹¤ì–‘í•œ ìº¡ì…˜ì´ ê³ ë¥´ê²Œ ì„ íƒë¨</li></ul></li></ul><hr id="1e1451cf-7b79-808f-b710-c6a09165c830"/><h3 id="1e1451cf-7b79-8032-a178-e8ad6f17eeb0" class="">ì‹¤í—˜ ê²°ê³¼</h3><ul id="1e1451cf-7b79-80ee-b564-eeba1713eecc" class="bulleted-list"><li style="list-style-type:disc">Table 4 ê²°ê³¼ì— ë”°ë¥´ë©´:<ul id="1e1451cf-7b79-8096-8bc1-c68f3e949508" class="bulleted-list"><li style="list-style-type:circle">ìº¡ì…˜ì„ ë‹¤ì–‘í•˜ê²Œ ê³¨ë¼ë„ ì´ë¯¸ì§€ í’ˆì§ˆ(FID)ì€ ê±°ì˜ ë³€í•˜ì§€ ì•ŠìŒ</li></ul><ul id="1e1451cf-7b79-8054-9ec8-d80b4df23d74" class="bulleted-list"><li style="list-style-type:circle">í•˜ì§€ë§Œ <strong>í›ˆë ¨ ì¤‘ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬</strong>(semantic alignment)ì€ í›¨ì”¬ ì¢‹ì•„ì§</li></ul></li></ul><hr id="1e1451cf-7b79-80ed-9c5d-c6e329e8175d"/><h3 id="1e1451cf-7b79-804a-90b0-ea6fe1d64f93" class=""><strong>3. Cascade Resolution Training</strong></h3><h3 id="1e1451cf-7b79-803c-983b-fa1297a848b9" class="">ê¸°ì¡´ ë°©ì‹</h3><ul id="1e1451cf-7b79-8064-9ab0-c2358252adcf" class="bulleted-list"><li style="list-style-type:disc">ëŒ€ë¶€ë¶„ì˜ diffusion ëª¨ë¸ì€ í•´ìƒë„ 256pxì§œë¦¬ ì´ë¯¸ì§€ë¡œ ë¨¼ì € pre-trainingì„ í•¨.</li></ul><ul id="1e1451cf-7b79-80d6-aad7-ef76435bb2b1" class="bulleted-list"><li style="list-style-type:disc">ì´ìœ ëŠ” ì—°ì‚° ë¹„ìš©(cost)ì„ ì¤„ì´ê¸° ìœ„í•´ì„œì„.</li></ul><h3 id="1e1451cf-7b79-8058-8a3c-e9acdce89ac6" class="">ë¬¸ì œì </h3><ul id="1e1451cf-7b79-8082-adfe-df93bd3290b9" class="bulleted-list"><li style="list-style-type:disc">256px ì´ë¯¸ì§€ëŠ” ë””í…Œì¼(detail) ì†ì‹¤ì´ ì‹¬í•¨.</li></ul><ul id="1e1451cf-7b79-80c1-aa27-f326cb7e4958" class="bulleted-list"><li style="list-style-type:disc">ë”°ë¼ì„œ, ì‘ì€ í•´ìƒë„ì—ì„œ í•™ìŠµì„ ì‹œì‘í•˜ë©´:<ul id="1e1451cf-7b79-80f9-b6c5-e7b3fbcaadb5" class="bulleted-list"><li style="list-style-type:circle">ëª¨ë¸ì´ fineí•œ êµ¬ì¡°ë‚˜ í…ìŠ¤ì²˜ë¥¼ ë°°ìš°ê¸° ì–´ë ¤ì›€</li></ul><ul id="1e1451cf-7b79-80ee-93b8-faf3a2995a0f" class="bulleted-list"><li style="list-style-type:circle">ê²°êµ­ í° í•´ìƒë„ë¡œ ê°ˆ ë•Œ ë” ëŠë¦¬ê²Œ í•™ìŠµí•¨.</li></ul></li></ul><hr id="1e1451cf-7b79-8027-b3fb-ee5d3d187009"/><h3 id="1e1451cf-7b79-800a-b78e-f05f748bbfbc" class="">SANA ë°©ì‹</h3><ul id="1e1451cf-7b79-8046-b9fd-c61e3bc711a8" class="bulleted-list"><li style="list-style-type:disc">SANAëŠ” <strong>AE-F32C32P1 êµ¬ì¡°</strong>ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—<p id="1e1451cf-7b79-8073-8a98-ed24f26e3315" class="">latent ê³µê°„ì´ ë§¤ìš° ì‘ìŒ â†’ ì—°ì‚° ë¶€ë‹´ì´ ì ìŒ.</p></li></ul><ul id="1e1451cf-7b79-80dd-a408-e625b5d076f0" class="bulleted-list"><li style="list-style-type:disc">ê·¸ë˜ì„œ êµ³ì´ 256pxì—ì„œ ì‹œì‘í•  í•„ìš” ì—†ì´ ë°”ë¡œ <strong>512px</strong>ì—ì„œ í•™ìŠµ ì‹œì‘í•¨.</li></ul><ul id="1e1451cf-7b79-80bb-83e4-e5ad7ec945a0" class="bulleted-list"><li style="list-style-type:disc">í•™ìŠµ ìˆœì„œ:<ul id="1e1451cf-7b79-80c7-aa2d-c8fb100911dc" class="bulleted-list"><li style="list-style-type:circle">512px â†’ 1024px â†’ 2K â†’ 4K ìˆœì„œë¡œ ì ì§„ì (fine-tuning)ìœ¼ë¡œ í•´ìƒë„ë¥¼ ì˜¬ë¦¼.</li></ul></li></ul><p id="1e1451cf-7b79-80ca-b57e-d4c35d9bcd24" class=""> </p><p id="1e6451cf-7b79-80d0-b860-dab650825d1a" class=""> </p><p id="1e3451cf-7b79-8000-adb6-fc4a81565262" class=""> </p><h2 id="1e1451cf-7b79-804f-9d03-e62702ab06fa" class="">3.2 FLOW-BASED TRAINING / INFERENCE</h2><p id="1e1451cf-7b79-80fa-82f7-f963983f45e1" class=""> </p><h3 id="1e1451cf-7b79-80ab-be37-cb2192fcc930" class="">Flow-based Training</h3><p id="1e5451cf-7b79-804f-8779-d781983a6267" class="">ê¸°ì¡´ ë°©ì‹ : noise prediction</p><div id="230451cf-7b79-805a-ad56-fd46460b72cb" class="column-list"><div id="230451cf-7b79-80d4-8675-e0f238f1ee3a" style="width:50%" class="column"><figure id="230451cf-7b79-8042-995d-e22fb6ec73c1" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><msub><mi>Î±</mi><mi>t</mi></msub><msub><mi>x</mi><mn>0</mn></msub><mo>+</mo><msub><mi>Ïƒ</mi><mi>t</mi></msub><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">x_t = \alpha_t x_0 + \sigma_t \epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">Ïµ</span></span></span></span></span></div></figure></div><div id="230451cf-7b79-8012-915f-d7cb51353602" style="width:50%" class="column"><figure id="230451cf-7b79-8026-879c-c822e5e2faee" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Ïµ</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon_\theta(x_t, t) = \epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Ïµ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Ïµ</span></span></span></span></span></div></figure></div></div><ul id="230451cf-7b79-80e5-9f3f-e02e7b3a4dd6" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>: ì›ë³¸ ì´ë¯¸ì§€</li></ul><ul id="230451cf-7b79-80c5-82d3-f9aef5c22752" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Ïµ</span></span></span></span></span><span>ï»¿</span></span>: ëœë¤ ë…¸ì´ì¦ˆ</li></ul><ul id="230451cf-7b79-8058-955d-f5279306e6cf" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î±</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_t, \sigma_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>: diffusion ê³¼ì •ì˜ í•˜ì´í¼íŒŒë¼ë¯¸í„°</li></ul><p id="230451cf-7b79-8021-ab57-c5538df22571" class=""> </p><p id="1e5451cf-7b79-80b0-898e-db75c71747be" class="">â†’ ë…¸ì´ì¦ˆë¥¼ ë§ì¶”ëŠ” ê²ƒì´ í•™ìŠµ ëª©í‘œ</p><p id="1e5451cf-7b79-804c-82b1-ffb745ac961d" class=""> </p><p id="1e5451cf-7b79-80ab-9f70-c8a0439c09cb" class="">ë¬¸ì œì  : tê°€ ì»¤ì§€ë©´ (Diffusion ë§ˆì§€ë§‰ ë‹¨ê³„ì— ê°€ê¹Œìš°ë©´) ë…¸ì´ì¦ˆê°€ ì»¤ì ¸ì„œ ì˜ˆì¸¡ ë¶ˆì•ˆì •</p><p id="1e5451cf-7b79-80cb-8a6b-df9d90b66f35" class=""> </p><p id="1e5451cf-7b79-803f-bf2e-f524126a0398" class="">ìƒˆ ë°©ì‹ : EDM ,RF</p><p id="1e5451cf-7b79-80c6-9622-c597c20dfde8" class="">noise ëŒ€ì‹  dataë‚˜ velocity(ë…¸ì´ì¦ˆì™€ ì›ë³¸ ì´ë¯¸ì§€ ì°¨ì´) ì˜ˆì¸¡</p><p id="230451cf-7b79-80e8-aeff-f4e12bdcff9e" class="">EDM : <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_\theta(x_t, t) = x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (ì›ë³¸ ë°ì´í„° ì˜ˆì¸¡)</p><p id="230451cf-7b79-80ce-ae27-f7f21a6ec58f" class="">RF : <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïµ</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">v_\theta(x_t, t) = \epsilon - x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">Ïµ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (velocity ì˜ˆì¸¡)</p><p id="230451cf-7b79-80a0-bb37-e68463f48935" class=""> </p><figure id="230451cf-7b79-805e-839a-e10cfc11b775" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>v</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïµ</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">v_\theta(x_t, t) = \epsilon - x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">Ïµ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></div></figure><figure id="230451cf-7b79-80e5-9d14-e9e3b00ec272" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>=</mo><msub><mi>x</mi><mi>T</mi></msub><mo>âˆ’</mo><msub><mi>Ïƒ</mi><mi>T</mi></msub><mo>â‹…</mo><msub><mi>v</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>T</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>T</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_0 = x_T - \sigma_T \cdot v_\theta(x_T, t_T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div></figure><p id="1e5451cf-7b79-80af-97b5-d73c0e96d93b" class="">ê²°êµ­ RFë¥¼ ì‚¬ìš©í•˜ì—¬ cumulative(ëˆ„ì ) errorë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ</p><p id="1e6451cf-7b79-807e-a4ea-f65080c9559c" class=""> </p><p id="1e6451cf-7b79-80b2-bef3-c2194b8546c9" class=""> </p><p id="1e5451cf-7b79-806c-870d-c391be81758d" class=""> </p><h3 id="1e5451cf-7b79-8036-ba46-cbbfa2cd97b2" class="">Flow-based Inference</h3><p id="1e5451cf-7b79-8017-a15d-d2b8eff3bc51" class="">ê¸°ì¡´ : DPM-Solver++</p><p id="1e6451cf-7b79-803f-b892-f7f4c4a2208b" class="">â†’ required 28-50 steps for high-quality samples</p><p id="1e6451cf-7b79-806e-8a45-d018707854fc" class=""> </p><p id="1e6451cf-7b79-8015-a23d-d46d8851693a" class=""> í˜„ì¬ : <strong>Flow-DPM-Solver</strong></p><p id="1e6451cf-7b79-8011-88e9-d7e4bc9bfb8c" class="">1.Not predict original data, but velocity</p><p id="1e6451cf-7b79-8094-ae9d-f9050732e663" class="">2.substituting the scaling factor Î±t with 1 âˆ’ Ïƒt</p><p id="1e6451cf-7b79-801a-8033-fde7491c65f8" class="">3.time-steps are redefined over the range [0, 1] instead of [1, 1000]</p><p id="1e6451cf-7b79-80cb-8be1-e320f8d3b905" class="">â†’Generate high-quality samples in 14-20 steps</p><p id="1e5451cf-7b79-806a-bd87-e21ae51b6fa9" class=""> </p><p id="1e5451cf-7b79-80e0-bd0f-f95736d6ae1c" class=""> </p><p id="1e5451cf-7b79-80a0-9e03-d6cb39962f0d" class=""> </p><h1 id="1e6451cf-7b79-80a9-9d46-f7c599357922" class="">5. Experiments</h1><h2 id="1e6451cf-7b79-8054-85ef-e51382a8fb29" class="">1. Model Details</h2><h3 id="1e6451cf-7b79-8019-aa5f-cb30db3bba2c" class="">Sana-0.6B</h3><ul id="1e6451cf-7b79-808b-afff-eb63079ea9b0" class="bulleted-list"><li style="list-style-type:disc">íŒŒë¼ë¯¸í„° ìˆ˜: <strong>590M</strong></li></ul><ul id="1e6451cf-7b79-8041-a813-d1a89556a651" class="bulleted-list"><li style="list-style-type:disc">êµ¬ì¡°: <strong>DiT-XL</strong> ë° <strong>PixArt-Î£</strong>ì™€ ê±°ì˜ ë™ì¼í•œ ë ˆì´ì–´ ìˆ˜ì™€ ì±„ë„ ìˆ˜ ì‚¬ìš©</li></ul><ul id="1e6451cf-7b79-8088-9ba7-ec6d7e252ee6" class="bulleted-list"><li style="list-style-type:disc">ëª©ì : ì†Œí˜• ëª¨ë¸ë¡œë„ íš¨ìœ¨ì„±ê³¼ í’ˆì§ˆì„ ë™ì‹œì— í™•ë³´</li></ul><h3 id="1e6451cf-7b79-8099-ac27-c712a80f2758" class="">Sana-1.6B</h3><ul id="1e6451cf-7b79-808f-90e4-fab4e5cb3141" class="bulleted-list"><li style="list-style-type:disc">íŒŒë¼ë¯¸í„° ìˆ˜: <strong>1.6B</strong></li></ul><ul id="1e6451cf-7b79-808c-989e-e89142f38f89" class="bulleted-list"><li style="list-style-type:disc">êµ¬ì¡°:<ul id="1e6451cf-7b79-80d5-a49a-e7df7c1b77b7" class="bulleted-list"><li style="list-style-type:circle"><strong>20ê°œì˜ Transformer ë ˆì´ì–´</strong></li></ul><ul id="1e6451cf-7b79-8084-84e9-e6d56759f224" class="bulleted-list"><li style="list-style-type:circle">ê° ë ˆì´ì–´ë§ˆë‹¤ <strong>2240ê°œì˜ ì±„ë„</strong></li></ul><ul id="1e6451cf-7b79-80a3-afb8-e9c0e9dc135d" class="bulleted-list"><li style="list-style-type:circle">FFN ë‚´ë¶€ ì±„ë„ ìˆ˜ëŠ” <strong>5600</strong></li></ul></li></ul><ul id="1e6451cf-7b79-8038-a2f0-ca2cd8588ffd" class="bulleted-list"><li style="list-style-type:disc">ì´ êµ¬ì„±ì€ í•™ìŠµ íš¨ìœ¨ì„±ê³¼ ìƒì„± í’ˆì§ˆ ì‚¬ì´ì˜ ê· í˜•ì„ ê³ ë ¤í•œ ê²ƒì„</li></ul><p id="1e6451cf-7b79-80a1-9bdc-c7840f63e9df" class=""> </p><h2 id="1e6451cf-7b79-80eb-94d0-db1f98b81984" class="">2. Evaluation Details</h2><p id="1e6451cf-7b79-8048-9a9a-cf8bd861ea15" class="">SANAëŠ” ì´ <strong>5ê°€ì§€ ëŒ€í‘œì ì¸ í‰ê°€ ì§€í‘œ</strong>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ í‰ê°€í•¨.</p><table id="1e6451cf-7b79-80b0-8b7a-c4f3b4a27170" class="simple-table"><tbody><tr id="1e6451cf-7b79-8082-8e8b-ef3a667a8a5d"><td id="Mhcv" class="" style="width:266px">ì§€í‘œ</td><td id="wmxf" class="" style="width:415px">ì„¤ëª…</td></tr><tr id="1e6451cf-7b79-80cc-92aa-d4be06f0c402"><td id="Mhcv" class="" style="width:266px"><strong>FID (FrÃ©chet Inception Distance)</strong></td><td id="wmxf" class="" style="width:415px">ì´ë¯¸ì§€ í’ˆì§ˆì„ ìˆ˜ì¹˜ë¡œ ì¸¡ì •. ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</td></tr><tr id="1e6451cf-7b79-807b-87e1-dfe7d1e388d7"><td id="Mhcv" class="" style="width:266px"><strong>CLIP Score</strong></td><td id="wmxf" class="" style="width:415px">ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ê°„ ì˜ë¯¸ì  ì •ë ¬ ì •ë„ í‰ê°€. ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ</td></tr><tr id="1e6451cf-7b79-803d-8b45-c1d540707549"><td id="Mhcv" class="" style="width:266px"><strong>GenEval</strong> (Ghosh et al., 2024)</td><td id="wmxf" class="" style="width:415px">í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ í‰ê°€. ì´ 533ê°œì˜ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©</td></tr><tr id="1e6451cf-7b79-804e-a3dd-fb860ac5b556"><td id="Mhcv" class="" style="width:266px"><strong>DPG-Bench</strong> (Hu et al., 2024)</td><td id="wmxf" class="" style="width:415px">í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì •ë°€ë„ í…ŒìŠ¤íŠ¸. 1065ê°œì˜ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©</td></tr><tr id="1e6451cf-7b79-80ba-861c-ec42cb02e2bf"><td id="Mhcv" class="" style="width:266px"><strong>ImageReward</strong> (Xu et al., 2024)</td><td id="wmxf" class="" style="width:415px">ì¸ê°„ì˜ ì£¼ê´€ì  ì„ í˜¸ë„ë¥¼ ë°˜ì˜í•œ ì ìˆ˜. 100ê°œ í”„ë¡¬í”„íŠ¸ë¡œ ì¸¡ì •</td></tr></tbody></table><h2 id="1e6451cf-7b79-8055-96ff-f1858372d0d3" class="">3. í‰ê°€ ë°ì´í„°ì…‹</h2><ul id="1e6451cf-7b79-8019-9207-e3baac39b740" class="bulleted-list"><li style="list-style-type:disc"><strong>MJHQ-30K (Li et al., 2024a)</strong><ul id="1e6451cf-7b79-8003-b51c-dd5a5e658d0a" class="bulleted-list"><li style="list-style-type:circle">Midjourneyì—ì„œ ìˆ˜ì§‘í•œ <strong>30,000ê°œ ê³ í’ˆì§ˆ ì´ë¯¸ì§€</strong> í¬í•¨</li></ul><ul id="1e6451cf-7b79-8087-bd99-c7658039857e" class="bulleted-list"><li style="list-style-type:circle">FID, CLIP Score ì¸¡ì •ì— ì‚¬ìš©ë¨</li></ul></li></ul><p id="1e6451cf-7b79-8013-9261-c400f8d75156" class=""> </p><p id="1e6451cf-7b79-807e-bffa-c3bd8d38d021" class=""> </p><p id="1e6451cf-7b79-8073-97b9-e661905a16b8" class=""> </p><figure id="1e6451cf-7b79-80a1-ab7f-debea7e735cc" class="image"><a href="/files/2025-05-12-sana/image%2012.webp"><img style="width:2106px" src="/files/2025-05-12-sana/image%2012.webp"/></a></figure><p id="1e6451cf-7b79-803a-aabd-d0693c398975" class=""> </p><figure id="1e6451cf-7b79-8068-b7bf-e8694a7eef26" class="image"><a href="/files/2025-05-12-sana/image%2013.webp"><img style="width:2066px" src="/files/2025-05-12-sana/image%2013.webp"/></a></figure><p id="1e5451cf-7b79-80d7-b735-cf98c5cf027c" class=""> </p><h1 id="1b2451cf-7b79-80c7-9286-cdd226e72d91" class="">Limitation </h1><div id="1b4451cf-7b79-8041-9a12-e857f944912f" class="column-list"><div id="1b4451cf-7b79-8086-b547-df4cad250355" style="width:50%" class="column"><figure id="1b4451cf-7b79-80df-8ac8-e6b0c048fdef" class="image"><a href="/files/2025-05-12-sana/image%2014.webp"><img style="width:384px" src="/files/2025-05-12-sana/image%2014.webp"/></a></figure></div><div id="1b4451cf-7b79-8029-a1b0-e5670ac40c91" style="width:50%" class="column"><p id="1b4451cf-7b79-8091-be4f-e77e937baefd" class=""><a href="https://x.com/cloneofsimo/status/1864309440356470894?s=46">https://x.com/cloneofsimo/status/1864309440356470894?s=46</a></p><p id="1b4451cf-7b79-80ea-80cf-def1f0eca2b0" class="">ì½”ë“œê°€ ì „ë°˜ì ìœ¼ë¡œ NVIDIAì¹©ë§Œì„ ìœ„í•´ ì„¤ê³„ë˜ì–´</p><p id="1b4451cf-7b79-80d5-86d5-e8b9b61541b8" class="">ë‹¤ë¥¸ GPU ì¥ë¹„ëŠ” ë¬¼ë¡ ì´ê³ ,</p><p id="1b4451cf-7b79-8017-b4b9-f4b9b6596a9e" class="">Mobile Deviceì—ì„œëŠ” ë‹¹ì—°íˆ ë¶ˆê°€ëŠ¥í•¨.</p><p id="1e1451cf-7b79-8060-991b-d4e643bec45e" class=""> </p><p id="1e1451cf-7b79-806a-9a6e-d51a61ba56ab" class="">ì•„ë¬´ë˜ë„ NVIDIAì—ì„œ ë‚¸ ë…¼ë¬¸ì´ê¸° ë•Œë¬¸ì— Blackwell chip í™ë³´ ê²¸ NVIDIA chipì—ì„œë§Œ ê°€ëŠ¥í•˜ë„ë¡ í•œë“¯.</p><p id="1b4451cf-7b79-8027-a7db-c8f0b55f4d83" class=""> </p></div></div><p id="1e6451cf-7b79-80a2-b6c4-c6e8aa0fa870" class=""> </p><p id="1e6451cf-7b79-80ea-aa53-c9c054e1998c" class=""> </p></div>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2410.10629Project Pagehttps://nvlabs.github.io/Sana/Github Codehttps://github.com/NVlabs/SanağŸ’¡Key DifferentiatorEfficient Linear DiT designReLU ê¸°ë°˜ Linear Attention ë„ì…Mix-FFN BlockDeep Compression Autoencoderâ†’ ì´ë¡œ ì¸í•œ 32ë°° ì••ì¶• ê°€ëŠ¥ìœ¼ë¡œ ì—°ì‚°ë„ ë¹¨ë¼ì§ ì´ë²ˆì—ëŠ” SVDQuantì˜ ì €ìì¸ Song Hanì´ ë˜ ì¼ì„ ëƒˆë‹¤.SANA ë¼ëŠ” Diffusion ëª¨ë¸ì„ NVIDIAì—ì„œ ì œì‘í–ˆëŠ”ë°, ì—­ëŒ€ê¸‰ì´ë‹¤.ë‚´ê°€ í•˜ë ¤ë˜ On-device 4K Diffusion ì—°êµ¬ì—ë„ í¬ê²Œ ë„ì›€ë  ê²ƒ ê°™ì•„ì„œ ì½ì–´ë³´ì•˜ë‹¤. 1. Introductionì§€ë‚œ 1ë…„ë™ì•ˆ Diffusion ëª¨ë¸ì€ text-to-image ì—°êµ¬ì—ì„œ ìƒë‹¹í•œ ì§„ì „ì„ ë³´ì„.í•˜ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì´ ìƒì—… ëª¨ë¸ì€ íŒŒë¼ë¯¸í„°ê°€ ë§¤ìš° ì»¤ì§ â†’ ë†’ì€ í•™ìŠµ ë° ì¶”ë¡  ë¹„ìš©ì„ ì´ˆë˜í•˜ì—¬ ë¹„ìš©ì´ ë§ì´ ë“¤ìŒ.Industry models are becoming increasingly large, with parameter counts escalating from PixArtâ€™s 0.6B parameters to SD3 at 8B, LiDiT at 10B, Flux at 12B, and Playground v3 at 24B. cloud ë¿ë§Œ ì•„ë‹ˆë¼ edge devicesì—ì„œë„ ë¹ ë¥´ê²Œ ì‹¤í–‰ë˜ëŠ” ê³ í•´ìƒë„ image generatorë¥¼ ê°œë°œí•  ìˆ˜ ì—†ì„ê¹Œ? ì´ ë…¼ë¬¸ì€ 1024 Ã— 1024 ~ 4096 Ã— 4096 ë²”ìœ„ì˜ í•´ìƒë„ì—ì„œ ì´ë¯¸ì§€ë¥¼ íš¨ìœ¨ì ì´ê³  ë¹„ìš© íš¨ìœ¨ì ìœ¼ë¡œ í›ˆë ¨í•˜ê³  í•©ì„±í•˜ë„ë¡ ì„¤ê³„ëœ íŒŒì´í”„ ë¼ì¸ ì¸ SANAë¥¼ ì œì•ˆPixart-Ïƒ (Chen et al., 2024a)ë¥¼ ì œì™¸í•˜ê³ ëŠ” 4K í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„±ì„ ì§ì ‘ íƒìƒ‰í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Pixart-ÏƒëŠ” 4K í•´ìƒë„ì— ê°€ê¹Œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ì œí•œë˜ë©° (3840 Ã— 2160) ì´ëŸ¬í•œ ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ìƒì„± í•  ë•Œ ë¹„êµì  ëŠë¦½ë‹ˆë‹¤. ì´ ì•¼ì‹¬ ì°¬ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ í•µì‹¬ ë””ìì¸ì„ ì œì•ˆí•©ë‹ˆë‹¤. 2. METHODS2.1 DEEP COMPRESSION AUTOENCODER2.1.1 PRELIMINARYì›ë˜ diffusion ëª¨ë¸ì€ ì´ë¯¸ì§€ í”½ì…€ ê³µê°„ (pixel space) ìœ„ì—ì„œ ì§ì ‘ ì‘ë™ â†’ í›ˆë ¨, ì¶”ë¡  ë‘˜ë‹¤ ë„ˆë¬´ ëŠë¦¬ê³  ë¬´ê±°ì›€ Latent Diffusion ModelsAutoencoderë¡œ ì´ë¯¸ì§€ ì••ì¶• í›„ ì••ì¶•ëœ latent ê³µê°„ ìœ„ì—ì„œ diffusionì„ ëŒë¦¬ì!â†’ 8ë°° ì••ì¶• ì‚¬ìš©Pixel space: RHÃ—WÃ—3\mathbb{R}^{H \times W \times 3}RHÃ—WÃ—3ï»¿Latent space: RH8Ã—W8Ã—C\mathbb{R}^{\frac{H}{8} \times \frac{W}{8} \times C}R8Hâ€‹Ã—8Wâ€‹Ã—Cï»¿ì—¬ê¸°ì„œ CCCï»¿ëŠ” latent ì±„ë„ ìˆ˜ Diffusion Transformer (DiT)ì¶”ê°€ë¡œ latent featureë¥¼ Patch ë‹¨ìœ„ë¡œ ë˜ ë‚˜ëˆ ì„œ ì²˜ë¦¬íŒ¨ì¹˜í¬ê¸°ê°€ PxP ë¼ë©´ ìµœì¢…ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” í† í° ê°œìˆ˜ëŠ” HPFÃ—WPF\frac{H}{PF} \times \frac{W}{PF}PFHâ€‹Ã—PFWâ€‹ê¸°ì¡´ latent diffusion ëª¨ë¸ë“¤(PixArt, SD3, Flux ë“±)ì€ ë³´í†µ ë‹¤ìŒ ì„¸íŒ…ì„ ì”€AE-F8C4P2 ë˜ëŠ” AE-F8C16P2F8: Autoencoderê°€ 8ë°° ì••ì¶•C4 ë˜ëŠ” C16: latent ì±„ë„ ìˆ˜ (4ê°œë‚˜ 16ê°œ)P2: Patch í¬ê¸° 2Ã—2ë¡œ ë¬¶ê¸° ê¸°ì¡´ì²˜ëŸ¼ 8ë°° ì••ì¶•ë§Œ í•˜ë©´ ê³„ì‚°ëŸ‰ì´ ì—¬ì „íˆ ë„ˆë¬´ ë§ìŒê·¸ë˜ì„œ SANAëŠ” ê³¼ê°í•˜ê²Œ 32ë°° ì••ì¶•(AE-F32)í•˜ê³ , íŒ¨ì¹˜ë¡œëŠ” ë¬¶ì§€ ì•ŠìŒ. 2.1.2 AUTOENCODER DESIGN PHILOSOPHYêµ¬ë¶„ê¸°ì¡´ (PixArt, Flux)SANAAE ì••ì¶•ë¹„8ë°° (F=8)32ë°° (F=32)Patchify (P=2)O (íŒ¨ì¹˜ë¡œ ë¬¶ìŒ)âœ–ï¸ (íŒ¨ì¹˜ ì•ˆ ë¬¶ìŒ)ìµœì¢… Token ìˆ˜ì¤„ì˜€ì§€ë§Œ ì•„ì§ ë§ìŒí›¨ì”¬ ì ìŒ (16ë°° ê°ì†Œ)ìœ„ì˜ í‘œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ 32ë°° ì••ì¶•í•˜ë”ë¼ë„ ì ìˆ˜ê°€ í¬ê²Œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ëª¨ìŠµì„ ë³´ì„ 2.1.3 ABLATION OF AUTOENCODER DESIGNSì–´ë””ì„œ ì••ì¶•ì„ ë” í•˜ëŠ” ê²Œ ì¢‹ì€ê°€? (AE vs DiT)ì„¤ì •ì„¤ëª…AE-F8C16P48ë°° ì••ì¶• + íŒ¨ì¹˜ í¬ê¸° 4AE-F16C32P216ë°° ì••ì¶• + íŒ¨ì¹˜ í¬ê¸° 2AE-F32C32P132ë°° ì••ì¶• + íŒ¨ì¹˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (SANA)AE-F32C32P1 ì„¤ì •ì´ ê°€ì¥ ë›°ì–´ë‚œ ì„±ëŠ¥(FID, CLIP Score)ì„ ê¸°ë¡Autoencoderê°€ ì••ì¶•ì„ ì „ì ìœ¼ë¡œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ë° í›ˆë ¨ ì•ˆì •ì„± ëª¨ë‘ì—ì„œ ê°€ì¥ ìš°ìˆ˜ Autoencoder latent ì±„ë„ ìˆ˜ë¥¼ ëª‡ ê°œë¡œ í•˜ëŠ” ê²Œ ì¢‹ì€ê°€?C=16, C=32, C=64 ì‹¤í—˜ ìˆ˜í–‰C=16ì€ ì •ë³´ ì†ì‹¤ë¡œ ì¸í•´ í’ˆì§ˆ ì €í•˜ ë°œìƒC=64ëŠ” ë³µì› í’ˆì§ˆì€ ì¢‹ì•˜ìœ¼ë‚˜ ëª¨ë¸ ë³µì¡ë„ê°€ ê¸‰ê²©íˆ ì¦ê°€í•˜ì—¬ ë¹„íš¨ìœ¨ì ì„C=32ê°€ ì„±ëŠ¥ê³¼ íš¨ìœ¨ ì‚¬ì´ì—ì„œ ìµœì  ê· í˜•ì„ ë‹¬ì„±í•¨ 2.2 EFFICIENT LINEAR DIT DESIGNê¸°ì¡´ diffusion transformer(ì˜ˆ: DiT) êµ¬ì¡°ëŠ” Self-Attentionì„ ì‚¬ìš©í•¨.Self-Attentionì˜ ì—°ì‚°ëŸ‰ì€ O(NÂ²) ì— ë¹„ë¡€í•¨.NNNì€ ì…ë ¥ í† í° ìˆ˜í† í° ìˆ˜ê°€ ë§ì•„ì§€ë©´ ì—°ì‚°ëŸ‰ì´ ê¸‰ê²©íˆ ì»¤ì§4K í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ë ¤ë©´, latent token ìˆ˜ê°€ ë§ì•„ì§ˆ ìˆ˜ë°–ì— ì—†ìŒ.â†’ ì´ë•Œ, ê¸°ì¡´ ì—°êµ¬ë“¤ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•´ìƒë„ ë‚®ì¶”ê±°ë‚˜ Token ìˆ˜ë¥¼ ì¤„ì˜€ìŒ. ReLU ê¸°ë°˜ Linear Attention ë„ì…ê¸°ì¡´ Softmax ê¸°ë°˜ Attentionì„ ì œê±°í•˜ê³ , ReLUë¥¼ ì´ìš©í•œ Linear Attentionì„ ì±„íƒAttention(Q,K,V)=softmax(QKâŠ¤)V\mathrm{Attention}(Q, K, V) = \mathrm{softmax}(QK^\top) VAttention(Q,K,V)=softmax(QKâŠ¤)VSoftmaxëŠ” ëª¨ë“  Query-Token ì¡°í•©ì„ ë‹¤ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì— O(NÂ²) ë³µì¡ë„ê°€ ë°œìƒ SANAì—ì„œëŠ” ë‹¤ìŒì²˜ëŸ¼ ê³„ì‚° êµ¬ì¡°ë¥¼ ë³€ê²½:ê° Keyì— ReLUë¥¼ ì ìš©í•¨: ReLU(K)ë‘ ê°€ì§€ ê³µìœ  termì„ ë¯¸ë¦¬ ê³„ì‚°âˆ‘j=1NReLU(Kj)TVj\sum_{j=1}^N \mathrm{ReLU}(K_j)^T V_jâˆ‘j=1Nâ€‹ReLU(Kjâ€‹)TVjâ€‹ï»¿ (dxd matrix)âˆ‘j=1NReLU(Kj)T\sum_{j=1}^N \mathrm{ReLU}(K_j)^Tâˆ‘j=1Nâ€‹ReLU(Kjâ€‹)Tï»¿ (dÃ—1 vector)ì´í›„, ê° Queryì— ëŒ€í•´ ì´ pre-computed shared termì„ ì¬ì‚¬ìš©í•˜ì—¬ Attentionì„ ê³„ì‚°ì´ ë°©ì‹ì€ Queryë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ ì—°ì‚°í•  í•„ìš”ê°€ ì—†ì–´ì„œ, ì „ì²´ Attention ê³„ì‚°ì´ O(N) ìœ¼ë¡œ ì¤„ì–´ë“¦. PixArtë„ Linearì´ë¬ëŠ”ë° ë‹¤ë¥¸ì ì€?PixArtì—ì„œëŠ” Keyì™€ Value í† í°ì„ ì••ì¶•í•˜ì—¬ ì—°ì‚°ëŸ‰ì„ ì¤„ì—¬ì„œ Engineering Optimizationìœ¼ë¡œ O(N)ê³¼ ë¹„ìŠ·í•˜ê²Œ í•˜ëŠ” ë°©ì‹, SANAì—ì„œëŠ” ì•„ì˜ˆ ìˆ˜í•™ì ìœ¼ë¡œ ê³„ì‚°ëŸ‰ì´ O(N) Mix-FFN Blockê¸°ì¡´ Transformerì˜ FFN (Feed-Forward Network)ì€ ë‹¨ìˆœíˆ 2ê°œì˜ Linear Layerë¡œ êµ¬ì„±ë˜ì–´ ìˆì—ˆìŒ.FFNì€ ì „ì—­ì ì¸ ì •ë³´ëŠ” ì˜ ì²˜ë¦¬í•˜ì§€ë§Œ, ì§€ì—­ì ì¸(local) ë””í…Œì¼ ë³µì›ì—ëŠ” ì•½í–ˆìŒ. SANAì˜ í•´ê²°ì±…:ê¸°ì¡´ MLP ì‚¬ì´ì— 3Ã—3 Depthwise Convolutionì„ ì‚½ì…ì´ë¥¼ í†µí•´ ì§€ì—­ êµ¬ì¡°(local structure) í•™ìŠµì„ ê°•í™”ê²°ê³¼ì ìœ¼ë¡œ í…ìŠ¤ì²˜, ê²½ê³„ì„ , ì´ëŸ° ì„¸ë°€í•œ ë¶€ë¶„ ë³µì›ì— ìœ ë¦¬ DiT without Positional Encoding (NoPE)ê¸°ì¡´ Transformer êµ¬ì¡°ëŠ” ì…ë ¥ ìˆœì„œë¥¼ ì¸ì‹í•˜ë„ë¡ Positional Encodingì„ ì‚¬ìš©í–ˆìŒ.ì™œëƒë©´ TransformerëŠ” ì…ë ¥ ìˆœì„œë¥¼ êµ¬ë³„í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì—â€¦ í•˜ì§€ë§Œ 4K ê³ í•´ìƒë„ latentì²˜ëŸ¼ í† í° ìˆ˜ê°€ ë§ì„ ë•Œ, Positional Encodingì„ ê³„ì‚°í•˜ê³  ì €ì¥í•˜ëŠ” ë°ë„ ë¹„ìš©ì´ í¼. SANAì—ì„œëŠ” ì•„ì˜ˆ Positional Encodingì„ ì œê±°í•¨3Ã—3 Depthwise Convolutionì´ Mix-FFNì— ì¶”ê°€ë˜ì–´ì„œ ì§€ì—­ì  ìœ„ì¹˜ ê´€ê³„ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŒ.Linear Attentionì€ ì „ì—­ ê´€ê³„ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í¬ì°©í•  ìˆ˜ ìˆìŒ.â†’ ë³„ë„ë¡œ ìœ„ì¹˜ ì •ë³´ë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šì•„ë„ ì¶©ë¶„íˆ íŒ¨í„´ê³¼ êµ¬ì¡°ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŒ. ê²°ê³¼ì ìœ¼ë¡œ í’ˆì§ˆì´ ìœ ì§€ë˜ë©´ì„œ êµ¬ì¡°ê°€ ê°„ë‹¨í•´ì§€ê³  ë©”ëª¨ë¦¬ ì—°ì‚°ëŸ‰ì´ ê°ì†Œí•¨ Triton Acceleration Training/InferenceAppendixì— ì¶”ê°€í•œë‹¤ê³  ë˜ì–´ìˆëŠ”ë° ì•„ì§ ê´€ë ¨ ë‚´ìš© ì—†ìŒ. GPTê°€ ì•Œë ¤ì¤€ ë‚´ìš©Linear Attentionì„ êµ¬í˜„í•  ë•Œ, ë‹¨ìˆœíˆ ì•Œê³ ë¦¬ì¦˜ë§Œ ê°œì„ í•˜ëŠ” ê²ƒìœ¼ë¡œëŠ” ë¶€ì¡±í•¨.ì‹¤ì œ ì—°ì‚° íš¨ìœ¨ê¹Œì§€ ê·¹ëŒ€í™”í•˜ë ¤ë©´, GPU kernel ë ˆë²¨ ìµœì í™”ê°€ í•„ìš”í•¨.SANAëŠ” Tritonì„ ì‚¬ìš©í•˜ì—¬ Linear Attention ì—°ì‚°ì„ ì§ì ‘ ìµœì í™”í•¨.Tritonì€ NVIDIAê°€ ì§€ì›í•˜ëŠ” ì»¤ìŠ¤í…€ GPU ì»¤ë„ í”„ë¡œê·¸ë˜ë° í”„ë ˆì„ì›Œí¬ì„.CUDAë³´ë‹¤ ë‹¨ìˆœí•œ ë¬¸ë²•ìœ¼ë¡œ, ê³ ì„±ëŠ¥ ì»¤ë„ì„ ì‘ì„±í•  ìˆ˜ ìˆìŒ. Tritonìœ¼ë¡œ ìµœì í™”í•œ ê²°ê³¼:Matrix ê³± ì—°ì‚°(GEMM)ê³¼ Memory Accessë¥¼ ì¤„ì„.ì‹¤ì œ latency(ì§€ì—° ì‹œê°„)ì™€ memory bandwidth ì†Œëª¨ë¥¼ í¬ê²Œ ê°œì„  2.3 TEXT ENCODER DESIGN ì™œ T5 ëŒ€ì‹  Decoder-only LLMì„ ì‚¬ìš©í•˜ëŠ”ê°€? SANAëŠ” Gemmaë¥¼ Text Encoderë¡œ ì‚¬ìš©í•˜ê¸°ë¡œ ì±„íƒí•­ëª©ê¸°ì¡´ (T5)SANA (Gemma-2)ëª¨ë¸ êµ¬ì¡°Encoder-DecoderDecoder-onlyReasoning ëŠ¥ë ¥ì œí•œì ë§¤ìš° ê°•í•¨ (CoT, ICL ê°€ëŠ¥)ì¶”ë¡  ì†ë„ëŠë¦¼ (T5-XXL)6ë°° ë¹ ë¦„ (Gemma-2-2B) â†’ ë¹ ë¥¸ë°ë„ ë¶ˆêµ¬í•˜ê³ , CLIP Scoreì™€ FID(ì´ë¯¸ì§€ í’ˆì§ˆ ì§€í‘œ)ì—ì„œëŠ” ì„±ëŠ¥ì´ ë¹„ìŠ·í•¨ Decoder-only LLMì„ Text Encoderë¡œ ì“°ë©´ì„œ ìƒê¸´ ë¬¸ì œ í•´ê²°Decoder-only LLM (Gemma, Qwen ë“±)ì˜ í…ìŠ¤íŠ¸ ì„ë² ë”©ì€ Varianceê°€ í›¨ì”¬ í¼.í° ê°’ì´ í…ìŠ¤íŠ¸ ì„ë² ë”© ì•ˆì— ë§ì´ í¬í•¨ë˜ì–´ ìˆìŒ.Cross-Attention ì—°ì‚° ì¤‘ ìˆ˜ì¹˜ í­ë°œ(NaN)ë¡œ ì´ì–´ì§. ë°©ë²• 1: RMSNorm ì¶”ê°€Gemma-2ì˜ í…ìŠ¤íŠ¸ ì„ë² ë”© ì¶œë ¥ì— RMSNormì„ ì ìš©RMSNorm?ì…ë ¥ ë²¡í„°ì˜ Varianceë¥¼ 1.0ìœ¼ë¡œ ì •ê·œí™”í° ê°’ì´ë‚˜ ì‘ì€ ê°’ë“¤ì„ ê· ì¼í•˜ê²Œ ë§Œë“¤ì–´ ìˆ˜ì¹˜ í­ë°œ ë°©ì§€ ë°©ë²• 2: Learnable Scale Factor ì¶”ê°€ì¶”ê°€ë¡œ, í…ìŠ¤íŠ¸ ì„ë² ë”©ì— í•™ìŠµ ê°€ëŠ¥í•œ ì‘ì€ ìŠ¤ì¼€ì¼ íŒŒë¼ë¯¸í„°ë¥¼ ê³±í•¨ì´ˆê¸° ê°’ì€ ë§¤ìš° ì‘ê²Œ ì„¤ì •í•¨ (ì˜ˆ: 0.01)ì´ íŒŒë¼ë¯¸í„°ê°€ í•™ìŠµì„ í†µí•´ ì ì ˆí•œ í¬ê¸°ë¡œ ì¡°ì •ë˜ë©´ì„œ ëª¨ë¸ ìˆ˜ë ´ ì†ë„ê°€ ë¹¨ë¼ì§ â†’ í›ˆë ¨ ì•ˆì •ì„± í™•ë³´ + ìˆ˜ë ´ ì†ë„ í–¥ìƒ Complex Human Instruction Improves Text-Image AlignmentGemmaëŠ” ê°•ë ¥í•œ LLMì´ì§€ë§Œ, ì‚¬ìš©ìê°€ ì§§ê±°ë‚˜ ëª¨í˜¸í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ (ì˜ˆ: &quot;a cat&quot;)LLMì´ ì´ˆì ì„ ìƒê³  ì—‰ëš±í•œ ë‹µë³€ì„ í•  ìˆ˜ë„ ìˆìŒ.â†’ LLMì´ í”„ë¡¬í”„íŠ¸ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ ë§Œë“œëŠ” ì¶”ê°€ ì§€ì‹œë¬¸ì´ í•„ìš”í•¨. CHIê°€ ê·¸ë˜ì„œ ë­”ë””?LLMì˜ In-Context Learning ëŠ¥ë ¥ì„ í™œìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ì£¼ê¸° ì „ì—, LLMì—ê²Œ &quot;ìƒ‰ìƒ, í¬ê¸°, ìœ„ì¹˜ ê´€ê³„ ê°™ì€ ì„¸ë¶€ ë¬˜ì‚¬ë¥¼ ì¶”ê°€í•´ë¼&quot;ì™€ ê°™ì€ ë³µì¡í•œ ëª…ë ¹ ì„¸íŠ¸ë¥¼ í•¨ê»˜ ì œê³µí•˜ëŠ” ê²ƒ ê²°ê³¼ 1CHIë¥¼ ì ìš©í–ˆì„ ë•Œ, í•™ìŠµì„ ì²˜ìŒë¶€í„° í•˜ë“ (fresh training)ì•„ë‹ˆë©´ ê¸°ì¡´ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •(fine-tuning)í•˜ë“ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì„±ëŠ¥ì´ í–¥ìƒ ê²°ê³¼ 2ì§§ì€ í”„ë¡¬í”„íŠ¸(ì˜ˆ: &quot;a cat&quot;)ë¥¼ ì…ë ¥í–ˆì„ ë•Œ, CHIê°€ ì—†ìœ¼ë©´, ëª¨ë¸ì´ ì—‰ëš±í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê±°ë‚˜ í’ˆì§ˆì´ ë¶ˆì•ˆì •í•´ì§. CHIê°€ ìˆìœ¼ë©´, ëª¨ë¸ì´ í”„ë¡¬í”„íŠ¸ì— ì •í™•íˆ ë§ëŠ” ì•ˆì •ì ì¸ ì´ë¯¸ì§€ë¥¼ ìƒì„± 3 EFFICIENT TRAINING/INFERENCE3.1 DATA CURATION AND BLENDING1. Multi-Caption Auto-labelling Pipeline ì´ë¯¸ì§€ í•˜ë‚˜ë‹¹ 4ê°œì˜ VLM(Vision-Language Models) ì„ ì´ìš©í•´ ìº¡ì…˜ì„ ìƒì„±í•¨.VILA-3BVILA-13BInternVL-28BInternVL-26B â†’ ì •í™•í•œ ìº¡ì…˜ ìƒì„± (í•˜ë‚˜ë§Œ ì“°ëŠ” ê²ƒë³´ë‹¤ ì˜¤ë¥˜ ì¤„ì„)â†’ ë‹¤ì–‘í•œ í‘œí˜„ í™•ë³´ (ê°™ì€ ì´ë¯¸ì§€ë¥¼ ì—¬ëŸ¬ ê´€ì ì—ì„œ ë¬˜ì‚¬ ê°€ëŠ¥)2. CLIP-Score-based Caption Samplerë¬¸ì œ ìƒí™©ìº¡ì…˜ì„ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì—ˆëŠ”ë°,í›ˆë ¨í•  ë•Œ ì–´ë–¤ ìº¡ì…˜ì„ ì„ íƒí• ì§€ê°€ ë¬¸ì œì„.ë¬´ì‘ìœ„ë¡œ(random) í•˜ë‚˜ ê³ ë¥´ë©´:í’ˆì§ˆì´ ë‚®ì€ ë¬¸ì¥ì„ ë½‘ì„ ìœ„í—˜ì´ ìˆìŒê·¸ëŸ¬ë©´ í›ˆë ¨ì´ ëŠë ¤ì§€ê±°ë‚˜ ëª¨ë¸ í’ˆì§ˆì´ ë–¨ì–´ì§í•´ê²° ë°©ë²•CLIP scoreë¥¼ í™œìš©í•´ í’ˆì§ˆ ë†’ì€ ìº¡ì…˜ì„ ë½‘ëŠ” ë°©ì‹ ì‚¬ìš©CLIPì€ ì´ë¯¸ì§€-í…ìŠ¤íŠ¸ ë§¤ì¹­ ì •ë„ë¥¼ ì ìˆ˜ë¡œ ê³„ì‚°í•´ì¤Œ.ê³¼ì •:ì´ë¯¸ì§€ì— ëŒ€í•´ ìƒì„±ëœ ê° ìº¡ì…˜ì˜ CLIP ì ìˆ˜(cic_ici)ë¥¼ ê³„ì‚°ì ìˆ˜ê°€ ë†’ì€ ìº¡ì…˜ì¼ìˆ˜ë¡ ë½‘í í™•ë¥ ì´ ë†’ê²Œ ì„¤ì •Sampling í™•ë¥  ê³µì‹:P(ci)=eci/Ï„âˆ‘j=1Necj/Ï„P(c_i) = \frac{e^{c_i / \tau}}{\sum_{j=1}^N e^{c_j / \tau}}P(ciâ€‹)=âˆ‘j=1Nâ€‹ecjâ€‹/Ï„eciâ€‹/Ï„â€‹ì—¬ê¸°Ï„ëŠ” &quot;temperature&quot;ë¼ëŠ” í•˜ì´í¼íŒŒë¼ë¯¸í„°ì„.Temperature ì¡°ì •ìœ¼ë¡œ ë½‘ëŠ” ê°•ë„ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŒ:Ï„ê°€ ì‘ìœ¼ë©´: ì ìˆ˜ ê°€ì¥ ë†’ì€ ìº¡ì…˜ë§Œ ê±°ì˜ í•­ìƒ ì„ íƒÏ„ê°€ í¬ë©´: ë‹¤ì–‘í•œ ìº¡ì…˜ì´ ê³ ë¥´ê²Œ ì„ íƒë¨ì‹¤í—˜ ê²°ê³¼Table 4 ê²°ê³¼ì— ë”°ë¥´ë©´:ìº¡ì…˜ì„ ë‹¤ì–‘í•˜ê²Œ ê³¨ë¼ë„ ì´ë¯¸ì§€ í’ˆì§ˆ(FID)ì€ ê±°ì˜ ë³€í•˜ì§€ ì•ŠìŒí•˜ì§€ë§Œ í›ˆë ¨ ì¤‘ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬(semantic alignment)ì€ í›¨ì”¬ ì¢‹ì•„ì§3. Cascade Resolution Trainingê¸°ì¡´ ë°©ì‹ëŒ€ë¶€ë¶„ì˜ diffusion ëª¨ë¸ì€ í•´ìƒë„ 256pxì§œë¦¬ ì´ë¯¸ì§€ë¡œ ë¨¼ì € pre-trainingì„ í•¨.ì´ìœ ëŠ” ì—°ì‚° ë¹„ìš©(cost)ì„ ì¤„ì´ê¸° ìœ„í•´ì„œì„.ë¬¸ì œì 256px ì´ë¯¸ì§€ëŠ” ë””í…Œì¼(detail) ì†ì‹¤ì´ ì‹¬í•¨.ë”°ë¼ì„œ, ì‘ì€ í•´ìƒë„ì—ì„œ í•™ìŠµì„ ì‹œì‘í•˜ë©´:ëª¨ë¸ì´ fineí•œ êµ¬ì¡°ë‚˜ í…ìŠ¤ì²˜ë¥¼ ë°°ìš°ê¸° ì–´ë ¤ì›€ê²°êµ­ í° í•´ìƒë„ë¡œ ê°ˆ ë•Œ ë” ëŠë¦¬ê²Œ í•™ìŠµí•¨.SANA ë°©ì‹SANAëŠ” AE-F32C32P1 êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—latent ê³µê°„ì´ ë§¤ìš° ì‘ìŒ â†’ ì—°ì‚° ë¶€ë‹´ì´ ì ìŒ.ê·¸ë˜ì„œ êµ³ì´ 256pxì—ì„œ ì‹œì‘í•  í•„ìš” ì—†ì´ ë°”ë¡œ 512pxì—ì„œ í•™ìŠµ ì‹œì‘í•¨.í•™ìŠµ ìˆœì„œ:512px â†’ 1024px â†’ 2K â†’ 4K ìˆœì„œë¡œ ì ì§„ì (fine-tuning)ìœ¼ë¡œ í•´ìƒë„ë¥¼ ì˜¬ë¦¼. 3.2 FLOW-BASED TRAINING / INFERENCE Flow-based Trainingê¸°ì¡´ ë°©ì‹ : noise predictionxt=Î±tx0+ÏƒtÏµx_t = \alpha_t x_0 + \sigma_t \epsilonxtâ€‹=Î±tâ€‹x0â€‹+Ïƒtâ€‹ÏµÏµÎ¸(xt,t)=Ïµ\epsilon_\theta(x_t, t) = \epsilonÏµÎ¸â€‹(xtâ€‹,t)=Ïµx0x_0x0â€‹ï»¿: ì›ë³¸ ì´ë¯¸ì§€Ïµ\epsilonÏµï»¿: ëœë¤ ë…¸ì´ì¦ˆÎ±t,Ïƒt\alpha_t, \sigma_tÎ±tâ€‹,Ïƒtâ€‹ï»¿: diffusion ê³¼ì •ì˜ í•˜ì´í¼íŒŒë¼ë¯¸í„° â†’ ë…¸ì´ì¦ˆë¥¼ ë§ì¶”ëŠ” ê²ƒì´ í•™ìŠµ ëª©í‘œ ë¬¸ì œì  : tê°€ ì»¤ì§€ë©´ (Diffusion ë§ˆì§€ë§‰ ë‹¨ê³„ì— ê°€ê¹Œìš°ë©´) ë…¸ì´ì¦ˆê°€ ì»¤ì ¸ì„œ ì˜ˆì¸¡ ë¶ˆì•ˆì • ìƒˆ ë°©ì‹ : EDM ,RFnoise ëŒ€ì‹  dataë‚˜ velocity(ë…¸ì´ì¦ˆì™€ ì›ë³¸ ì´ë¯¸ì§€ ì°¨ì´) ì˜ˆì¸¡EDM : xÎ¸(xt,t)=x0x_\theta(x_t, t) = x_0xÎ¸â€‹(xtâ€‹,t)=x0â€‹ï»¿ (ì›ë³¸ ë°ì´í„° ì˜ˆì¸¡)RF : vÎ¸(xt,t)=Ïµâˆ’x0v_\theta(x_t, t) = \epsilon - x_0vÎ¸â€‹(xtâ€‹,t)=Ïµâˆ’x0â€‹ï»¿ (velocity ì˜ˆì¸¡) vÎ¸(xt,t)=Ïµâˆ’x0v_\theta(x_t, t) = \epsilon - x_0vÎ¸â€‹(xtâ€‹,t)=Ïµâˆ’x0â€‹x0=xTâˆ’ÏƒTâ‹…vÎ¸(xT,tT)x_0 = x_T - \sigma_T \cdot v_\theta(x_T, t_T)x0â€‹=xTâ€‹âˆ’ÏƒTâ€‹â‹…vÎ¸â€‹(xTâ€‹,tTâ€‹)ê²°êµ­ RFë¥¼ ì‚¬ìš©í•˜ì—¬ cumulative(ëˆ„ì ) errorë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ Flow-based Inferenceê¸°ì¡´ : DPM-Solver++â†’ required 28-50 steps for high-quality samples í˜„ì¬ : Flow-DPM-Solver1.Not predict original data, but velocity2.substituting the scaling factor Î±t with 1 âˆ’ Ïƒt3.time-steps are redefined over the range [0, 1] instead of [1, 1000]â†’Generate high-quality samples in 14-20 steps 5. Experiments1. Model DetailsSana-0.6BíŒŒë¼ë¯¸í„° ìˆ˜: 590Mêµ¬ì¡°: DiT-XL ë° PixArt-Î£ì™€ ê±°ì˜ ë™ì¼í•œ ë ˆì´ì–´ ìˆ˜ì™€ ì±„ë„ ìˆ˜ ì‚¬ìš©ëª©ì : ì†Œí˜• ëª¨ë¸ë¡œë„ íš¨ìœ¨ì„±ê³¼ í’ˆì§ˆì„ ë™ì‹œì— í™•ë³´Sana-1.6BíŒŒë¼ë¯¸í„° ìˆ˜: 1.6Bêµ¬ì¡°:20ê°œì˜ Transformer ë ˆì´ì–´ê° ë ˆì´ì–´ë§ˆë‹¤ 2240ê°œì˜ ì±„ë„FFN ë‚´ë¶€ ì±„ë„ ìˆ˜ëŠ” 5600ì´ êµ¬ì„±ì€ í•™ìŠµ íš¨ìœ¨ì„±ê³¼ ìƒì„± í’ˆì§ˆ ì‚¬ì´ì˜ ê· í˜•ì„ ê³ ë ¤í•œ ê²ƒì„ 2. Evaluation DetailsSANAëŠ” ì´ 5ê°€ì§€ ëŒ€í‘œì ì¸ í‰ê°€ ì§€í‘œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ í‰ê°€í•¨.ì§€í‘œì„¤ëª…FID (FrÃ©chet Inception Distance)ì´ë¯¸ì§€ í’ˆì§ˆì„ ìˆ˜ì¹˜ë¡œ ì¸¡ì •. ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒCLIP Scoreì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ê°„ ì˜ë¯¸ì  ì •ë ¬ ì •ë„ í‰ê°€. ë†’ì„ìˆ˜ë¡ ì¢‹ìŒGenEval (Ghosh et al., 2024)í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ í‰ê°€. ì´ 533ê°œì˜ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©DPG-Bench (Hu et al., 2024)í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì •ë°€ë„ í…ŒìŠ¤íŠ¸. 1065ê°œì˜ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©ImageReward (Xu et al., 2024)ì¸ê°„ì˜ ì£¼ê´€ì  ì„ í˜¸ë„ë¥¼ ë°˜ì˜í•œ ì ìˆ˜. 100ê°œ í”„ë¡¬í”„íŠ¸ë¡œ ì¸¡ì •3. í‰ê°€ ë°ì´í„°ì…‹MJHQ-30K (Li et al., 2024a)Midjourneyì—ì„œ ìˆ˜ì§‘í•œ 30,000ê°œ ê³ í’ˆì§ˆ ì´ë¯¸ì§€ í¬í•¨FID, CLIP Score ì¸¡ì •ì— ì‚¬ìš©ë¨ Limitation https://x.com/cloneofsimo/status/1864309440356470894?s=46ì½”ë“œê°€ ì „ë°˜ì ìœ¼ë¡œ NVIDIAì¹©ë§Œì„ ìœ„í•´ ì„¤ê³„ë˜ì–´ë‹¤ë¥¸ GPU ì¥ë¹„ëŠ” ë¬¼ë¡ ì´ê³ ,Mobile Deviceì—ì„œëŠ” ë‹¹ì—°íˆ ë¶ˆê°€ëŠ¥í•¨. ì•„ë¬´ë˜ë„ NVIDIAì—ì„œ ë‚¸ ë…¼ë¬¸ì´ê¸° ë•Œë¬¸ì— Blackwell chip í™ë³´ ê²¸ NVIDIA chipì—ì„œë§Œ ê°€ëŠ¥í•˜ë„ë¡ í•œë“¯.]]></summary></entry><entry><title type="html">Mac ì´ˆê¸°ì„¤ì • + ìœ ìš©í•œ í”„ë¡œê·¸ë¨</title><link href="https://hoonably.github.io/blog/mac-setting/" rel="alternate" type="text/html" title="Mac ì´ˆê¸°ì„¤ì • + ìœ ìš©í•œ í”„ë¡œê·¸ë¨"/><published>2025-04-13T07:24:31+00:00</published><updated>2025-04-13T07:24:31+00:00</updated><id>https://hoonably.github.io/blog/mac-setting</id><content type="html" xml:base="https://hoonably.github.io/blog/mac-setting/"><![CDATA[<blockquote class="block-warning"> <p>ğŸ’¡</p> <p>MacBook Pro 14 inch M2 Pro (2023)</p> <p><code class="language-plaintext highlighter-rouge">Sequoia 15.3.1</code> Version</p> <p>ë²„ì „ì´ ë‹¤ë¥´ë‹¤ë©´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ</p> <p>ì–´í”Œ ë‚´ ìƒì„¸ ì„¤ì •ì€ ë‚´ê°€ ì„ í˜¸í•˜ëŠ” ëŒ€ë¡œ ê¸°ë¡í•˜ë ¤ê³  ìº¡ì³í•´ë‘ </p> <p>ì–´ëŠì •ë„ ì»´í“¨í„°ë¥¼ ë‹¤ë£° ì¤„ ì•„ëŠ” ì‚¬ëŒì´ë¼ëŠ” ì „ì œ í•˜ì— ì‘ì„±</p> <p>(ex. Github ì˜¤í”ˆì†ŒìŠ¤ë‹ˆê¹Œ ë§í¬ ë“¤ì–´ê°€ì„œ ìµœì‹  ë²„ì „ ë‹¤ìš´ë°›ê¸°)</p> <p>Homebrew ë“± ë‹¤ë£¨ëŠ”ê²ƒë„ ìˆëŠ”ë° ê¶ê¸ˆí•˜ë©´ ì•Œì•„ì„œ GPT gogo</p> </blockquote> <h1 id="í”„ë¡œê·¸ë¨-ë‹¤ìš´ë¡œë“œ-ì¢…ë¥˜">í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ì¢…ë¥˜</h1> <p>ì„¤ì •ê³¼ ì¢‹ì€ ì–´í”Œì„ ì†Œê°œí•˜ê¸° ì „ì— ë§¥ ê¸°ë³¸ í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ì¢…ë¥˜ë¥¼ ì•Œë ¤ì£¼ê² ë‹¤.</p> <p>ì•±ìŠ¤í† ì–´ë¡œ ë‹¤ìš´ì€ ìƒê°ë³´ë‹¤ ë³„ë¡œ ì—†ìœ¼ë‹ˆê¹Œ ì¼ë‹¨ ë„˜ê¸°ê³ ,</p> <p>ë§¥ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë‹¤ìš´ë°›ì•˜ì„ ê²½ìš°, ì§ì ‘ <code class="language-plaintext highlighter-rouge">ì‘ìš© í”„ë¡œê·¸ë¨</code> í´ë”ì— ë„£ì–´ì¤˜ì•¼í•œë‹¤.</p> <p>í”„ë¡œê·¸ë¨ë³„ë¡œ ë³´í†µ ì„¸ê°€ì§€ ë°©ì‹ì´ ìˆë‹¤.</p> <ol> <li> <p><code class="language-plaintext highlighter-rouge">.pkg</code> íŒŒì¼ : ìš°ë¦¬ê°€ ì•„ëŠ” í‰ë²”í•œ ì„¤ì¹˜ í”„ë¡œê·¸ë¨.</p> <p>ê·¼ë° ë§¥ì—ì„œëŠ” ì€ê·¼ ì˜ ì•ˆì“°ì¸ë‹¤.</p> </li> </ol> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%201.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ol> <li> <p><code class="language-plaintext highlighter-rouge">.dmg</code> íŒŒì¼ : ì¹œì ˆí•˜ê²Œ ë„£ë„ë¡ ìœ ë„</p> <p>â†’ ë‹¤ìŒì²˜ëŸ¼ ì¹œì ˆí•˜ê²Œ ë“œë˜ê·¸ë“œë¡­ìœ¼ë¡œ ë„£ë„ë¡ ìœ ë„í•´ì¤€ë‹¤.</p> </li> </ol> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%202.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%203.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ol> <li> <p><code class="language-plaintext highlighter-rouge">.zip</code> íŒŒì¼ : ì•Œì•„ì„œ ë„£ê¸°</p> <p>â†’ ë‹¤ìŒê³¼ê°™ì´ zip íŒŒì¼ë§Œ ë”¸ë‘ ìˆì„ë•Œ, ì••ì¶•ì„ í’€ì—ˆëŠ”ë° ë°”ë¡œ ì‘ìš© í”„ë¡œê·¸ë¨ì´ ë‚˜ì˜¨ë‹¤ë©´</p> <p>â†’ ì§ì ‘ <code class="language-plaintext highlighter-rouge">ì‘ìš© í”„ë¡œê·¸ë¨</code> í´ë”ì— ë“œë˜ê·¸ë“œë í•´ì£¼ì.</p> </li> </ol> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%204.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%205.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ë‹¤ìŒê³¼ ê°™ì´ <code class="language-plaintext highlighter-rouge">ì‘ìš© í”„ë¡œê·¸ë¨</code> í´ë”ì— ë“¤ì–´ê°€ë©´ <code class="language-plaintext highlighter-rouge">LaunchPad</code>ì— ë³´ì¸ë‹¤.</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%206.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%207.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="ï¸-software-update">â­ï¸ Software Update</h1> <p>ì—…ë°ì´íŠ¸ ì¼ë¶€ëŸ¬ ì•ˆí•˜ëŠ” ì‚¬ëŒë„ ìˆëŠ”ë°, ê°œì¸ì ìœ¼ë¡œëŠ” ì¶”ì²œí•œë‹¤.</p> <p>ê³„ì† ì•ˆí•˜ê³  ë²„í‹°ë©´ ì•ˆëŒì•„ê°€ëŠ” ì–´í”Œë“¤ì´ ê½¤ ìˆë‹¤.</p> <p>ì˜¤ë˜ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ ë¯¸ë¦¬ ë‹¤ìš´ë¡œë“œ ì‹œì‘í•˜ê³  ì•„ë˜ ì§„í–‰</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%208.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="ï¸ì„¤ì •">âš™ï¸Â ì„¤ì •</h1> <ul> <li> <p>Apple Login</p> <p>ì´ê±°ë¶€í„° í•˜ê³  ì‹œì‘í•˜ì.</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2025-02-22_%EC%98%A4%ED%9B%84_5.44.03.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li> <p>ì‹œë™ìŒ ì œê±°</p> <p>ë…¸íŠ¸ë¶ ì¼°ì„ë•Œ ì´ê±° ì•ˆí•´ë†“ìœ¼ë©´ ë°–ì—ì„œ ê´€ì¢…ì²˜ëŸ¼ ì‹œë„ëŸ½ê²Œ í‚¬ ìˆ˜ ìˆë‹¤.</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%209.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li> <p>í‚¤ë³´ë“œ â†’ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤</p> <p>ì´ê±´ ë‚´ ë‚˜ë¦„ëŒ€ë¡œ ì„ í˜¸í•˜ëŠ” ì„¤ì •ì´ë‹¤.</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2010.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2011.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2012.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li> <p>í•« ì½”ë„ˆ ë‹¨ì¶•í‚¤</p> <p>ë§ˆìš°ìŠ¤ë¡œ ì½”ë„ˆë¥¼ ì°ì–´ì„œ Mission Controlì´ë‚˜ ë°ìŠ¤í¬íƒ‘ ë³´ê¸°ë¥¼ í•  ìˆ˜ ìˆëŠ”ë°, ì •ë§ ìœ ìš©í•˜ë‹¤.</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2013.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li> <p>ì•±ìŠ¤í† ì–´ ì•”í˜¸ ì—†ì´ ë‹¤ìš´ë¡œë“œ</p> <p>ì´ ê³¼ì •ì„ í•´ì¤˜ì•¼ ì•±ìŠ¤í† ì–´ì—ì„œ ì•± ì„¤ì¹˜ì‹œ ê·€ì°®ê²Œ ìê¾¸ ì•”í˜¸ë¥¼ ì…ë ¥í•˜ëŠ” ì¼ì´ ì—†ë‹¤.</p> <p>ë¯¸ë””ì–´ ë° êµ¬ì… í•­ëª© â†’ ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ â†’ ì…ë ¥ ì•ˆí•¨</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2014.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li> <p><strong>ë¬¸ì„œ(PDF) íƒ­ìœ¼ë¡œ ì—´ê¸°</strong></p> <p>PDFë¥¼ ì—´ë•Œ ìœˆë„ìš°ëŠ” ìë™ìœ¼ë¡œ í•˜ë‚˜ì˜ ì°½ì— ì—¬ëŸ¬ íƒ­ìœ¼ë¡œ ì—´ë¦¬ëŠ”ë°,</p> <p>ë§¥ì€ ì´ ì„¤ì •ì„ ì•ˆí•´ì£¼ë©´ ê°ê° ë‹¤ë¥¸ ì°½ìœ¼ë¡œ ì—´ë¦°ë‹¤.</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2015.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="ï¸scroll-reverser-ì„¤ì¹˜">ğŸ–±ï¸Â Scroll Reverser ì„¤ì¹˜</h1> <p>íŠ¸ë™íŒ¨ë“œ ìŠ¤í¬ë¡¤ì€ ê·¸ëŒ€ë¡œ ë‘ê³  ë§ˆìš°ìŠ¤ íœ ë§Œ ë°˜ì „ì‹œì¼œì„œ ìœˆë„ìš°ë‘ ì¼ì¹˜í•˜ë„ë¡ í•  ìˆ˜ ìˆìŒ</p> <p>Mac ì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ ë‚®ìœ¼ë©´ ì‹¤í–‰ ì•ˆë¨ 13.xx ì—ì„œ ì•ˆëìŒ</p> <p><a href="https://pilotmoon.com/scrollreverser/">https://pilotmoon.com/scrollreverser/</a></p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2016.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2017.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="ï¸ìš°command--í•œì˜í‚¤ë¡œ">âŒ¨ï¸Â ìš°command â†’ í•œì˜í‚¤ë¡œ</h1> <ul> <li> <p>Karabiner ë²„ì „ì— ë§ê²Œ ë‹¤ìš´ë¡œë“œ</p> <p><a href="https://karabiner-elements.pqrs.org/">https://karabiner-elements.pqrs.org/</a></p> </li> <li> <p>ì—¬ëŸ¬ ê¶Œí•œ ë¶€ì—¬ ì‘ì—…</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2018.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2019.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2020.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2021.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ì°¸ê³ ë¡œ ëª‡ëª‡ í‚¤ë³´ë“œëŠ” ë°”ë¡œ í—ˆìš©ì´ ì•ˆë˜ì„œ ì§ì ‘ Deviceì— ë“¤ì–´ê°€ì„œ <code class="language-plaintext highlighter-rouge">Modify events</code> í•´ì¤˜ì•¼í•¨!!</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2022.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ì„¤ì • â†’ í‚¤ë³´ë“œ â†’ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2023.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><code class="language-plaintext highlighter-rouge">F18</code> í•˜ëŠ” ë°©ë²• : ìœ„ì—ì„œ ì„¤ì •í–ˆë˜ <code class="language-plaintext highlighter-rouge">ìš°ì»¤ë§¨ë“œ</code> ëˆ„ë¥´ë©´ ë¨</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2024.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>í‚¤ë³´ë“œ â†’ ì…ë ¥ ì†ŒìŠ¤ â†’ í¸ì§‘</li> </ul> <p>í•œì˜í‚¤ ìš°ì»¤ë§¨ë“œë¡œë§Œ ì“¸ê±°ë©´ Caps Lock ì“¸ ìˆ˜ ìˆìŒ</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2025.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="finder">ğŸ“Â Finder</h1> <ul> <li>ë„êµ¬ ë§‰ëŒ€ ì‚¬ìš©ìí™”</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2026.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2027.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2028.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ê²½ë¡œ ë§‰ëŒ€ ë³´ê¸°, ìƒíƒœë§‰ëŒ€ ë³´ê¸°ë¡œ ë³€ê²½ â†’ ì•„ë˜ ê²½ë¡œë‘ ìš©ëŸ‰ ë‚˜ì˜´</li> </ul> <p>ì™¼ìª½ ìœ„ì˜ ë©”ë‰´ë°”ì— ë³´ê¸° ëˆ„ë¥´ë©´ ì €ë ‡ê²Œ ë‚˜ì˜´</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2029.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>í•­ìƒ ìë™ìœ¼ë¡œ ì •ë ¬</li> </ul> <p>ìš°í´ë¦­ â†’ ë³´ê¸° ì˜µì…˜ â†’ ì •ë ¬ â†’ ì´ë¦„ ë“± ì›í•˜ëŠ” ê±¸ë¡œ</p> <p>â†’ ì•„ë˜ <code class="language-plaintext highlighter-rouge">ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©</code> ëˆ„ë¥´ê¸°</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2030.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>íŒŒì¸ë”ì—ì„œ ë‹¨ì¶•í‚¤ë¡œ ë°”ë¡œ ê·¸ ê²½ë¡œì˜ í„°ë¯¸ë„ ì—´ê¸° (ì»´ê³µì´ë©´ Good)</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2031.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2032.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ë°˜ë“œì‹œ ë¨¼ì € ì„¤ì •í•œ í•­ëª©ì„ ê¸€ì ê·¸ë˜ë„ ì˜®ê²¨ì ì–´ì•¼í•œë‹¤.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>í´ë”ì—ì„œ ìƒˆë¡œìš´ í„°ë¯¸ë„ íƒ­ ì—´ê¸°
</code></pre></div></div> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2033.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2034.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ìœ„ì²˜ëŸ¼ í´ë”ë¥¼ ëˆ„ë¥¸ í›„ ì„¤ì •í•œ ë‹¨ì¶•ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ë°”ë¡œ í„°ë¯¸ë„ì´ ì—´ë¦°ë‹¤.</p> <hr/> <h1 id="ï¸-rectangle">â¬›ï¸ Rectangle</h1> <p>ë§¥ ì†Œí”„íŠ¸ì›¨ì–´ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ê¸°ë³¸ ì„¤ì •ì—ì„œë„ ìˆëŠ”ë°, ì´ ì–´í”Œì´ ë” ìµœì í™”ê°€ ë¶€ë“œëŸ½ê³  ê¸°ëŠ¥ì´ ë§ìŒ</p> <p><a href="https://rectangleapp.com/">https://rectangleapp.com/</a></p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2035.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2036.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2037.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="ï¸keyboardcleantool">âŒ¨ï¸Â KeyBoardCleanTool</h1> <p>ë§¥ë¶ì€ í‚¤ë³´ë“œë¥¼ ëˆ„ë¥´ê¸°ë§Œ í•˜ë©´ ë…¸íŠ¸ë¶ì´ ì¼œì ¸ë²„ë¦¬ê¸° ë•Œë¬¸ì— í‚¤ë³´ë“œ ì²­ì†Œí•˜ê¸°ê°€ ë¶ˆí¸í•˜ë‹¤.</p> <p>í‚¤ë³´ë“œë¥¼ ì•„ì˜ˆ êº¼ë²„ë¦¬ê³  ë¬¼í‹°ìŠˆ ë“±ìœ¼ë¡œ ì²­ì†Œí•  ìˆ˜ ìˆë‹¤.</p> <p>(ì „ì›í‚¤ëŠ” ì´ê±° ì‹¤í–‰í•´ë„ ëˆŒë¦¬ëŠ”ë“¯ í•˜ë‹ˆê¹Œ ì¡°ì‹¬)</p> <p><a href="https://folivora.ai/keyboardcleantool">https://folivora.ai/keyboardcleantool</a></p> <p>ë‹¤ìš´ë¡œë“œ í›„ ì••ì¶•í’€ë©´ ë°”ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì¸ë°, ê²½ë¡œë¥¼ â€˜ì‘ìš© í”„ë¡œê·¸ë¨â€™ìœ¼ë¡œ ì˜®ê²¨ì£¼ë©´ ëœë‹¤.</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2038.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="grey">ğŸ¨Â Grey</h1> <p>ì–´í”Œë“¤ì€ ëŒ€ë¶€ë¶„ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì‹œìŠ¤í…œì´ ë‹¤í¬ëª¨ë“œë©´ ë‹¤í¬ëª¨ë“œë¥¼ ë”°ë¼ê°€ë„ë¡ ë˜ì–´ìˆê³ , ì„¤ì •ì—ì„œ ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œë¥¼ ê³ ì •í•  ìˆ˜ë„ ìˆë‹¤.</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2039.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>í•˜ì§€ë§Œ, ì¸ê¸°ê°€ ì—†ëŠ” ì•±ì€ ë¬´ì¡°ê±´ ì‹œìŠ¤í…œ ì„¤ì •ì„ ë”°ë¼ê°€ëŠ” ê²½ìš°ê°€ ìˆë‹¤. (ex. QTSpim)</p> <p>ì»´êµ¬ ê³¼ì œë•Œë¬¸ì— QTSpimì„ ê¹”ì•„ì„œ í•˜ëŠ”ë°, ë‹¤í¬ëª¨ë“œë¥¼ í•­ìƒ ì“°ëŠ” ë‚˜ì—ê²ŒëŠ” ì½”ë“œ ë³´ê¸°ê°€ ëˆˆì´ ë„ˆë¬´ ì•„íŒ ê³ , ì´ê±° í•˜ë‚˜ë•Œë¬¸ì— ë‹¤í¬ëª¨ë“œë¥¼ ë„ìë‹ˆ ì‹«ì—ˆë‹¤.</p> <p>ì´ë¥¼ í•´ê²°í•˜ëŠ” ê° ì–´í”Œë§ˆë‹¤ ì‹œìŠ¤í…œ ì„¤ì •ì„ ë‹¤ë¥´ê²Œ ì„¤ì •í•´ì£¼ëŠ” ì–´í”Œì´ë‹¤.</p> <ul> <li>ë‹¤ìš´ë¡œë“œ</li> </ul> <p><a href="https://github.com/zenangst/Gray?tab=readme-ov-file">https://github.com/zenangst/Gray?tab=readme-ov-file</a></p> <hr/> <h1 id="appcleaner">ğŸ§¹Â AppCleaner</h1> <p>ì•±ë§Œ ë“œë˜ê·¸ë¡œ ì§€ìš°ë©´ ì•± íŒŒì¼ì´ ë§ì€ ìš©ëŸ‰ì„ ì°¨ì§€í•  ìˆ˜ ìˆë‹¤. ìë™ìœ¼ë¡œ ì°¾ì•„ì„œ ì§€ìš°ë„ë¡ ë„ì™€ì£¼ëŠ” ì–´í”Œ</p> <p><a href="https://freemacsoft.net/appcleaner/">https://freemacsoft.net/appcleaner/</a></p> <hr/> <h1 id="aldente">ğŸ”‹Â AlDente</h1> <p>ë§¥ë¶ í•„ìˆ˜ ë°°í„°ë¦¬ ê´€ë¦¬ ì•±</p> <p><a href="https://apphousekitchen.com/">https://apphousekitchen.com/</a></p> <p>ë‚œ í´ë¨ì‰˜ë¡œ ì“°ë‹ˆê¹Œ í¸í•˜ê²Œ í•˜ë ¤ê³  ê²°ì œë„ í•˜ê³  ì‚¬ìš©ì¤‘</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2040.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2041.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="amphetamine">ğŸ’ŠÂ Amphetamine</h1> <ul> <li>Download</li> </ul> <p><a href="https://apps.apple.com/kr/app/amphetamine/id937984704?mt=12">https://apps.apple.com/kr/app/amphetamine/id937984704?mt=12</a></p> <ul> <li>Power Protect</li> </ul> <p><a href="https://x74353.github.io/Amphetamine-Power-Protect/">https://x74353.github.io/Amphetamine-Power-Protect/</a></p> <ul> <li>ìœ„ ë§í¬ì—ì„œ Power Protectë„ ì„¤ì¹˜</li> <li>ì„¤ì¹˜ í›„ ì•”í˜¸ ì…ë ¥ ì—†ì´ ê°€ëŠ¥í•˜ë„ë¡ ì‹¤í–‰</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pmset <span class="nt">-a</span> disablesleep 1
</code></pre></div></div> <ul> <li>ë¹„í™œì„±í™”í•œë‹¤ë©´?</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pmset <span class="nt">-a</span> disablesleep 0
</code></pre></div></div> <hr/> <h1 id="ï¸monitorcontrol">ğŸ–¥ï¸Â MonitorControl</h1> <p>ì™¸ì¥ëª¨ë‹ˆí„°ì˜ ë°ê¸°ë¥¼ í¸í•˜ê²Œ ì»¨íŠ¸ë¡¤ í•˜ëŠ” íˆ´</p> <p>ì™¸ì¥ ëª¨ë‹ˆí„° ì•ˆì“°ë©´ ì„¤ì¹˜í•  í•„ìš” ì—†ìŒ</p> <p>ìˆìœ¼ë©´ ë¬´ì¡°ê±´ ì“°ëŠ”ê²Œ êµ¿</p> <ul> <li>ê¸°ì¡´ ëª¨ë‹ˆí„° ì„¤ì •â†’ ì§ì ‘ ì»¨íŠ¸ë¡¤ ë¶ˆê°€ëŠ¥.</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2042.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ì§ì ‘ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥ + í‚¤ë³´ë“œë¡œë„ ê°€ëŠ¥</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2043.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>Homebrew í†µí•´ ì„¤ì¹˜</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> monitorcontrol
</code></pre></div></div> <ul> <li> <p>ì›¹ìœ¼ë¡œ ì„¤ì¹˜</p> <p><a href="https://github.com/MonitorControl/MonitorControl/releases">https://github.com/MonitorControl/MonitorControl/releases</a> ì—ì„œ ìµœì‹ ë²„ì „ dmg íŒŒì¼ ë‹¤ìš´ë¡œë“œ</p> </li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2044.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2045.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="maccy">ğŸ“Â Maccy</h1> <p>í´ë¦½ë³´ë“œë¥¼ ì—¬ëŸ¬ê°œ í•  ìˆ˜ ìˆê³  ì €ì¥ì‹œì¼œì„œ êº¼ë‚´ì“¸ ìˆ˜ ìˆëŠ” ë„êµ¬ë‹¤.</p> <p>ë§‰ìƒ ë‚˜ëŠ” ì˜ ì•ˆì“´ë‹¤.</p> <ul> <li>Homebrewë¡œ ì„¤ì¹˜</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> maccy
</code></pre></div></div> <p><a href="https://maccy.app/">https://maccy.app/</a></p> <p><a href="https://blog.naver.com/finway/223487330217">https://blog.naver.com/finway/223487330217</a></p> <hr/> <h1 id="top-notch-ë©”ë‰´ë°”-ê²€ì€ìƒ‰ìœ¼ë¡œ">ğŸ¨Â Top Notch (ë©”ë‰´ë°” ê²€ì€ìƒ‰ìœ¼ë¡œ)</h1> <p><a href="https://topnotch.app/">https://topnotch.app/</a></p> <p>ë¬´ì¡°ê±´ ë©”ë‰´ë°”ë¥¼ ê²€ì •ìƒ‰ìœ¼ë¡œ ë°”ê¿”ì„œ Mì íƒˆëª¨ ëª¨ì–‘ì„ ì—†ì• ì£¼ëŠ” ê²ƒ</p> <p>ì›ë˜ ë©”ë‰´ë°” ìƒ‰ì€ ë°°ê²½í™”ë©´ì— ë§ê²Œ ì„¤ì •ë˜ëŠ”ë°, ìƒ‰ì´ ë§˜ì— ì•ˆë“¤ë©´ ê²€ì •ìƒ‰ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.</p> <p>ë‹¨ì  : ë°”ê¿”ë³´ë‹ˆê¹Œ ë§¥ì´ í”„ë¡œê·¸ë¨ ëì„ ë‘¥ê¸€ê²Œ ë§Œë“¤ì–´ì„œ ì‘ì€ í‹ˆì´ ë³´ì—¬ì„œ ìƒ‰ì´ ë°”íƒ•í™”ë©´ê³¼ ë§ì´ ì°¨ì´ë‚˜ë©´ ì°½ì„ ìµœëŒ€í™”í•´ë„ í‹ˆì´ ì‚´ì§ ë³´ì¸ë‹¤. <strong>ìƒê°ë³´ë‹¤ ë³„ë¡œì„</strong></p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2046.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <hr/> <h1 id="í™”ë©´ë…¹í™”ì‹œ-ì†Œë¦¬-ë…¹í™”-ë°©ë²•">ğŸ¥Â í™”ë©´ë…¹í™”ì‹œ ì†Œë¦¬ ë…¹í™” ë°©ë²•</h1> <p>ê¸°ë³¸ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">cmd + shift + 5</code> ë¥¼ ì‚¬ìš©í•´ì„œ ë…¹í™”í•  ìˆ˜ ìˆëŠ”ë°, ì†Œë¦¬ ë…¹í™”ê°€ ë™ì‹œì— ì•ˆëœë‹¤.</p> <p>Blackholeì„ ì„¤ì¹˜í•˜ë©´ ì†Œë¦¬ë„ ë™ì‹œì— ë…¹í™”í•  ìˆ˜ ìˆë‹¤.</p> <p><strong>ì„¤ì¹˜</strong></p> <p>2chë¡œë„ ì¶©ë¶„í•˜ë‹¤ëŠ”ê±° ê°™ìŒ. (chì´ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ ì‚¬ì‹¤ ì˜ ëª¨ë¦„)</p> <p><strong>Option 1: Download Installer</strong></p> <ol> <li><a href="https://existential.audio/blackhole">Download the latest installer</a></li> <li>Donate í•˜ì§€ë§ê³  I canâ€™t afford to donate</li> <li>ì´ë©”ì¼ ì ê³  ëŒ€ì¶© ì´ë¦„ ì ìœ¼ë©´ ì´ë©”ì¼ë¡œ ë‹¤ìš´ë§í¬ ì¤Œ</li> </ol> <p><strong>Option 2: Install via Homebrew</strong></p> <p>ë§¥ì¢€ ì¨ë³´ê³  ì»´ê³µì´ë¼ë©´ Homebrew ë¬´ì¡°ê±´ ìˆì„í…ë° ì´ê±¸ë¡œ ê¹”ë©´ ë°”ë¡œ ê¹”ì•„ì§</p> <ul> <li>2ch:Â <code class="language-plaintext highlighter-rouge">brew install blackhole-2ch</code></li> <li>16ch:Â <code class="language-plaintext highlighter-rouge">brew install blackhole-16ch</code></li> <li>64ch:Â <code class="language-plaintext highlighter-rouge">brew install blackhole-64ch</code></li> </ul> <p><strong>ì„¤ì •</strong></p> <ul> <li>ì˜¤ë””ì˜¤ MIDI ì„¤ì • â†’ + ë²„íŠ¼ â†’ ë‹¤ì¤‘ ì¶œë ¥ ê¸°ê¸° ìƒì„±</li> <li> <p>ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ì‹¤ì œë¡œ ë“¤ì„ ì˜¤ë””ì˜¤ ê¸°ê¸°ì™€ BlackHole2chì„ ì²´í¬</p> <p>(ë™ì‹œì— ë‘ ê¸°ê¸°ê°€ ì¶œë ¥ê¸°ê¸°ë¼ëŠ”ê±°ì„)</p> </li> <li>ì´ë¦„ì€ ì™¼ìª½ì— ìˆëŠ” ì´ë¦„ì„ ì§ì ‘ í´ë¦­í•˜ë©´ ë°”ê¿€ ìˆ˜ ìˆìŒ</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2047.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><strong>ì‚¬ìš©ë²•</strong></p> <ul> <li>ì¶œë ¥ (ìŠ¤í”¼ì»¤) : [ê¸°ì¡´ ìŠ¤í”¼ì»¤]+blackhole2ch</li> <li>ì…ë ¥ (ë§ˆì´í¬) : blackhole2ch</li> </ul> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2048.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2049.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ìŠ¤í”¼ì»¤ì— blackholeì´ ìˆì–´ì„œ ë‚´ ì»´í“¨í„° ì†Œë¦¬ë¥¼ blackholeë¡œ ë„˜ê¸°ê³ ,</p> <p>ë§ˆì´í¬ê°€ blackholeì´ë¼ì„œ ë‚´ ì»´í“¨í„° ì†Œë¦¬ê°€ ë…¹í™”ë¨ !</p> <hr/> <h1 id="chrome-ì•±ì„-ì‚¬ìš©í•˜ì">Chrome ì•±ì„ ì‚¬ìš©í•˜ì</h1> <p>ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë¨ì—ì„œ ì›¹ &gt; ì•± ì´ë‹¤.</p> <p>ëŒ€ë¶€ë¶„ì´ ì›¹ê°œë°œ ë¨¼ì € ì´ë£¨ì–´ì§€ê³ , ìš´ì˜ì²´ì œì— ë§ê²Œ ì•±ê°œë°œì´ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì—, ì›¹ì´ ë” í´ë¦°í•œ ê²½ìš°ê°€ ë§ë‹¤.</p> <p>GPTëŠ” íŠ¹íˆ ë°ìŠ¤í¬íƒ‘ ì•±ì„ ì‚¬ìš©í•˜ë©´ í‘œê°€ ì• ë§¤í•˜ê²Œ ì˜ë¦¬ëŠ” ë¬¸ì œ, í”„ë¡œì íŠ¸ì—ì„œ íŒŒì¼ì„ ì²¨ë¶€í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œ ë“±ì´ ë°œìƒí•œë‹¤.</p> <p>í•˜ì§€ë§Œ, ì›¹ì—ì„œ ì“°ê¸°ì—ëŠ” GPTë§Œí¼ì€ í¬ë¡¬ì—ì„œ ë‹¤ë¥¸ íƒ­ì´ë‘ ê°™ì´ ì“´ëŠ”ê²ƒ ë³´ë‹¤ëŠ” ë”°ë¡œ ì°½ì„ ì“°ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ê¸° ë•Œë¬¸ì—, í¬ë¡¬ì—ì„œ ìì²´ë¡œ ì•±ì²˜ëŸ¼ ì›¹ì„ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (+ ë‚œ ì¸ìŠ¤íƒ€ë„ ë§Œë“¤ì–´ë†¨ë‹¤.)</p> <figure> <picture> <img src="/files/2025-04-13-mac-setting/image%2050.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><code class="language-plaintext highlighter-rouge">ì „ì†¡, ì €ì¥, ê³µìœ </code></p> <p><code class="language-plaintext highlighter-rouge">í˜ì´ì§€ë¥¼ ì•±ìœ¼ë¡œ ì„¤ì¹˜(â€¦</code></p> <p>ì›¹ì¸ë° ë”°ë¡œ ì°½ì„ ì•±ì²˜ëŸ¼ ì‚¬ìš©í•˜ê³ , ê¹”ë”í•˜ê²Œ ë”°ë¡œ ë¹¼ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p> <p>ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì—ì„œ ì›¹ì´ ë” ì¢‹ì€ ê²ƒ ê°™ë‹¤.</p> <hr/> <h1 id="whisky">ğŸ¥ƒÂ Whisky</h1> <p>.exe íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë„êµ¬ë‹¤. ê²Œì„ë„ ì§€ì›ì´ëœë‹¤. (ì•ˆë˜ëŠ”ê²ƒë„ìˆìŒ)</p> <p>ë‹¤ë§Œ, USB ì—°ê²°ì€ ì•ˆë˜ëŠ”ê²ƒê°™ë‹¤.</p> <p><a href="https://getwhisky.app/ko/">https://getwhisky.app/ko/</a></p> <hr/> <h1 id="utm">ğŸ’½Â UTM</h1> <p>ë¬´ë£Œ ê°€ìƒë¨¸ì‹ ì´ë‹¤. ëŒ€ì‹  ì„¤ì¹˜ëŠ” ì‚´ì§ ë³µì¡í•˜ë‹¤. êµ³ì´ ì•ˆì¨ë„ ë¨. ìš©ëŸ‰ ë§ì´ ì°¨ì§€</p> <p>ì¶”ì²œ ì„¤ì •: ì‹¤ì œ ë©”ëª¨ë¦¬ í¬ê¸°ì™€ CPU ì½”ì–´ ê°œìˆ˜ì˜ ì ˆë°˜ ì´í•˜ë¡œ</p> <p><strong>Window 11</strong></p> <p>ë‚œ NFC RFID Readerê°€ .exe íŒŒì¼ì¸ë°, Whiskyë¡œëŠ” USB ì—°ê²°ì´ ì•ˆë˜ì„œ ê¹”ì•˜ë‹¤.</p> <p>USBì—°ê²°ë„ ë¬¼ë¡  ë˜ê³ , ê·¸ëƒ¥ ìœˆë„ìš°ë„ ì“°ëŠ” ëŠë‚Œì´ë‹¤.</p> <p>ë¨ 8GBí•˜ê³  ì‹±ê¸€ ì¹´íŠ¸ë¼ì´ë” ëŒë ¤ë³´ë‹ˆê¹Œ ë ‰ê±¸ë¦¬ë”ë¼</p> <p>ìœ ë£Œë³´ë‹¤ëŠ” ë ‰ê±¸ë¦¬ì§€ë§Œ, ìœ ë£ŒëŠ” ë„ˆë¬´ ë¹„ì‹¼ë“¯?</p> <p><a href="https://xanzhu.com/ko/blog/windows-on-apple-silicon">https://xanzhu.com/ko/blog/windows-on-apple-silicon</a></p> <p>ë‹¤ìš´ë¥´ë„ ë§í¬ (ìœˆë„ìš° 10,11 ë‘˜ë‹¤ìˆëŠ”ë° 10ì€ ìê¾¸ ì˜¤ë¥˜ëœ¸)</p> <p><a href="https://mac.getutm.app/">https://mac.getutm.app/</a></p> <p><a href="https://apps.apple.com/us/app/crystalfetch-iso-downloader/id6454431289?mt=12">https://apps.apple.com/us/app/crystalfetch-iso-downloader/id6454431289?mt=12</a></p> <p><strong>Ubuntu</strong></p> <p>ì•„ë˜ ë§í¬ì—ì„œ ARM ë²„ì „ ë‹¤ìš´ë¡œë“œ</p> <p><a href="https://cdimage.ubuntu.com/releases/22.04/release/">https://cdimage.ubuntu.com/releases/22.04/release/</a></p> <p>ì°¸ê³  ë§í¬ :</p> <p><a href="https://solearn.tistory.com/275">https://solearn.tistory.com/275</a></p>]]></content><author><name></name></author><category term="Tip"/><summary type="html"><![CDATA[ğŸ’¡ MacBook Pro 14 inch M2 Pro (2023) Sequoia 15.3.1 Version ë²„ì „ì´ ë‹¤ë¥´ë‹¤ë©´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ ì–´í”Œ ë‚´ ìƒì„¸ ì„¤ì •ì€ ë‚´ê°€ ì„ í˜¸í•˜ëŠ” ëŒ€ë¡œ ê¸°ë¡í•˜ë ¤ê³  ìº¡ì³í•´ë‘  ì–´ëŠì •ë„ ì»´í“¨í„°ë¥¼ ë‹¤ë£° ì¤„ ì•„ëŠ” ì‚¬ëŒì´ë¼ëŠ” ì „ì œ í•˜ì— ì‘ì„± (ex. Github ì˜¤í”ˆì†ŒìŠ¤ë‹ˆê¹Œ ë§í¬ ë“¤ì–´ê°€ì„œ ìµœì‹  ë²„ì „ ë‹¤ìš´ë°›ê¸°) Homebrew ë“± ë‹¤ë£¨ëŠ”ê²ƒë„ ìˆëŠ”ë° ê¶ê¸ˆí•˜ë©´ ì•Œì•„ì„œ GPT gogo]]></summary></entry><entry><title type="html">ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ ìŠ¤í‚µ</title><link href="https://hoonably.github.io/blog/lab-safety/" rel="alternate" type="text/html" title="ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ ìŠ¤í‚µ"/><published>2025-04-04T07:25:31+00:00</published><updated>2025-04-04T07:25:31+00:00</updated><id>https://hoonably.github.io/blog/lab-safety</id><content type="html" xml:base="https://hoonably.github.io/blog/lab-safety/"><![CDATA[<p>êµ­ê°€ ëˆë‚­ë¹„ ì¤‘ í•˜ë‚˜ì¸ ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ì„ ì•„ë§ˆ ë§¤í•™ê¸° í•´ì•¼í•˜ëŠ”ë° ì •ë§ ê·€ì°®ë‹¤.</p> <p>íŠ¹íˆ ì»´ê³µì€ ì •ë§ ì“¸ë°ì—†ëŠ” ë“¯ í•˜ë‹¤.</p> <p>ì•Œ ì‚¬ëŒì€ ì•Œì§€ë§Œ ìŠ¤í‚µí•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.</p> <h3 id="1-ë™ì˜ìƒ-í‹€ê¸°">1. ë™ì˜ìƒ í‹€ê¸°</h3> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h3 id="2-ê°œë°œì-ëª¨ë“œ-ì§„ì…">2. ê°œë°œì ëª¨ë“œ ì§„ì…</h3> <p>Window : <code class="language-plaintext highlighter-rouge">F12</code></p> <p>Mac : <code class="language-plaintext highlighter-rouge">cmd+opt+I</code></p> <h3 id="3-console-ì°½-ì§„ì…">3. Console ì°½ ì§„ì…</h3> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%201.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì´ì œ Console ì°½ì— ë‹¤ìŒ ë‚´ìš©ì„ ë¶™ì—¬ë„£ê¸° í•˜ê³  <code class="language-plaintext highlighter-rouge">Enter</code> ëˆ„ë¥´ë©´ ëœë‹¤.</p> <ul> <li> <p>ë§Œì•½ Consoleì— ë¶™ì—¬ë„£ê¸°ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ëœ¬ë‹¤ë©´?</p> <p>ë‹¤ìŒì„ ì§ì ‘ ì˜ì–´ë¡œ ì…ë ¥ í›„ Enter</p> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">allow</span> <span class="nx">pasting</span>
</code></pre></div> </div> </li> </ul> <h3 id="4-1-progresscheck-ë°”ë¡œ-ì¢…ë£Œ">4-1. ProgressCheck (ë°”ë¡œ ì¢…ë£Œ)</h3> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">progressCheck</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</code></pre></div></div> <h3 id="4-2-6000ì´ˆ-ê±´ë„ˆë›°ê¸°-ë°”ë¡œ-ì¢…ë£Œ">4-2. 6000ì´ˆ ê±´ë„ˆë›°ê¸° (ë°”ë¡œ ì¢…ë£Œ)</h3> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">video</span><span class="dl">'</span><span class="p">).</span><span class="nx">currentTime</span><span class="o">+=</span><span class="mi">6000</span><span class="p">;</span>
</code></pre></div></div> <h3 id="4-3-16ë°°ì†-ìœ„-ê±´ë„ˆë›°ê¸°-ë°©ë²•ì´-ì•ˆëœë‹¤ë©´">4-3. 16ë°°ì† (ìœ„ ê±´ë„ˆë›°ê¸° ë°©ë²•ì´ ì•ˆëœë‹¤ë©´)</h3> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">video</span><span class="dl">'</span><span class="p">).</span><span class="nx">playbackRate</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
</code></pre></div></div> <h3 id="5-í€´ì¦ˆ-ì •ë‹µ">5. í€´ì¦ˆ ì •ë‹µ</h3> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
<span class="nx">answer</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#qustionCorrectNo_</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">i</span><span class="p">).</span><span class="nf">val</span><span class="p">();</span>
<span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">input[name='qustionAnswerList[</span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">].Answer']:radio[value=</span><span class="dl">"</span><span class="o">+</span><span class="nx">answer</span><span class="o">+</span><span class="dl">"</span><span class="s2">]</span><span class="dl">"</span><span class="p">).</span><span class="nf">attr</span><span class="p">(</span><span class="dl">"</span><span class="s2">checked</span><span class="dl">"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%202.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%203.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%204.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure>]]></content><author><name></name></author><category term="Tip"/><summary type="html"><![CDATA[êµ­ê°€ ëˆë‚­ë¹„ ì¤‘ í•˜ë‚˜ì¸ ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ì„ ì•„ë§ˆ ë§¤í•™ê¸° í•´ì•¼í•˜ëŠ”ë° ì •ë§ ê·€ì°®ë‹¤.]]></summary></entry><entry><title type="html">Pintos Setting</title><link href="https://hoonably.github.io/blog/pintos-setting/" rel="alternate" type="text/html" title="Pintos Setting"/><published>2025-03-20T07:26:04+00:00</published><updated>2025-03-20T07:26:04+00:00</updated><id>https://hoonably.github.io/blog/pintos-setting</id><content type="html" xml:base="https://hoonably.github.io/blog/pintos-setting/"><![CDATA[<p>ë©”ëª¨: docker start -ai pintos</p> <blockquote> <p>Welcome to Pintos. Pintos is a simple operating system framework for the 80x86 architecture.</p> </blockquote> <h1 id="docker-build">Docker Build</h1> <p><a href="https://github.com/NamJeongseok/PintOS-Docker-UNIST">https://github.com/NamJeongseok/PintOS-Docker-UNIST</a></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM ubuntu:12.04

RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/archive.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/sources.list
RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/security.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/sources.list

RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\</span>
	bash <span class="se">\</span>
	vim <span class="se">\</span>
	build-essential <span class="se">\</span>
	gcc-4.4 <span class="se">\</span>
	gcc-multilib <span class="se">\</span>
	g++-4.4 <span class="se">\</span>
	perl <span class="se">\</span>
	wget <span class="se">\</span>
	patch <span class="se">\</span>
	libncurses5-dev <span class="se">\</span>
	libx11-dev libxrandr-dev xorg-dev <span class="se">\</span>
	make

RUN <span class="nb">mv</span> /usr/bin/gcc-4.4 /usr/bin/gcc
RUN <span class="nb">mv</span> /usr/bin/g++-4.4 /usr/bin/g++
COPY ./bochs-2.2.6.tar.gz /root/
RUN <span class="nb">mkdir</span> /root/pintos 
RUN <span class="nb">echo</span> <span class="s1">'export PATH="$PATH:/root/pintos/src/utils"'</span> <span class="o">&gt;&gt;</span> ~/.bashrc

CMD <span class="o">[</span><span class="s2">"/bin/bash"</span><span class="o">]</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:NamJeongseok/PintOS-Docker-UNIST.git
<span class="nb">cd </span>PintOS-Docker-UNIST
</code></pre></div></div> <ul> <li>amd64 (x86_64) (Window)</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>docker build <span class="nt">-t</span> pintos <span class="nb">.</span>
</code></pre></div></div> <ul> <li>ARM64 (Silicon Mac)</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">--platform</span><span class="o">=</span>linux/amd64 <span class="nt">-t</span> pintos <span class="nb">.</span>
</code></pre></div></div> <h1 id="error">Error</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ  PintOS-Docker-UNIST git:<span class="o">(</span>main<span class="o">)</span> <span class="nb">sudo </span>docker build <span class="nt">-t</span> pintos <span class="nb">.</span>                  
Password:
<span class="o">[</span>+] Building 1.8s <span class="o">(</span>9/14<span class="o">)</span>                                                          docker:desktop-linux
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load build definition from Dockerfile                                              0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring dockerfile: 696B                                                              0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load metadata <span class="k">for </span>docker.io/library/ubuntu:12.04                                   1.5s
 <span class="o">=&gt;</span> <span class="o">[</span>auth] library/ubuntu:pull token <span class="k">for </span>registry-1.docker.io                                     0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load .dockerignore                                                                 0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring context: 2B                                                                   0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>1/9] FROM docker.io/library/ubuntu:12.04@sha256:18305429afa14ea462f810146ba44d4363ae76e4c8d  0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> resolve docker.io/library/ubuntu:12.04@sha256:18305429afa14ea462f810146ba44d4363ae76e4c8d  0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load build context                                                                 0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring context: 42B                                                                  0.0s
 <span class="o">=&gt;</span> CACHED <span class="o">[</span>2/9] RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/archive.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/sources  0.0s
 <span class="o">=&gt;</span> CACHED <span class="o">[</span>3/9] RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/security.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/source  0.0s
 <span class="o">=&gt;</span> ERROR <span class="o">[</span>4/9] RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span>  bash  vim  build-essential  gcc-4.4  g  0.2s
<span class="nt">------</span>                                                                                                 
 <span class="o">&gt;</span> <span class="o">[</span>4/9] RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> 	bash 	vim 	build-essential 	gcc-4.4 	gcc-multilib 	g++-4.4 	perl 	wget 	patch 	libncurses5-dev 	libx11-dev libxrandr-dev xorg-dev 	make:
0.202 qemu: uncaught target signal 11 <span class="o">(</span>Segmentation fault<span class="o">)</span> - core dumped
0.206 E: Method http has died unexpectedly!
0.207 E: Sub-process http received a segmentation fault.
<span class="nt">------</span>

 1 warning found <span class="o">(</span>use docker <span class="nt">--debug</span> to <span class="nb">expand</span><span class="o">)</span>:
 - InvalidBaseImagePlatform: Base image ubuntu:12.04 was pulled with platform <span class="s2">"linux/amd64"</span>, expected <span class="s2">"linux/arm64"</span> <span class="k">for </span>current build <span class="o">(</span>line 1<span class="o">)</span>
Dockerfile:6
<span class="nt">--------------------</span>
   5 |     
   6 | <span class="o">&gt;&gt;&gt;</span> RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\</span>
   7 | <span class="o">&gt;&gt;&gt;</span> 	bash <span class="se">\</span>
   8 | <span class="o">&gt;&gt;&gt;</span> 	vim <span class="se">\</span>
   9 | <span class="o">&gt;&gt;&gt;</span> 	build-essential <span class="se">\</span>
  10 | <span class="o">&gt;&gt;&gt;</span> 	gcc-4.4 <span class="se">\</span>
  11 | <span class="o">&gt;&gt;&gt;</span> 	gcc-multilib <span class="se">\</span>
  12 | <span class="o">&gt;&gt;&gt;</span> 	g++-4.4 <span class="se">\</span>
  13 | <span class="o">&gt;&gt;&gt;</span> 	perl <span class="se">\</span>
  14 | <span class="o">&gt;&gt;&gt;</span> 	wget <span class="se">\</span>
  15 | <span class="o">&gt;&gt;&gt;</span> 	patch <span class="se">\</span>
  16 | <span class="o">&gt;&gt;&gt;</span> 	libncurses5-dev <span class="se">\</span>
  17 | <span class="o">&gt;&gt;&gt;</span> 	libx11-dev libxrandr-dev xorg-dev <span class="se">\</span>
  18 | <span class="o">&gt;&gt;&gt;</span> 	make
  19 |     
<span class="nt">--------------------</span>
ERROR: failed to solve: process <span class="s2">"/bin/sh -c apt-get update &amp;&amp; apt-get install -y </span><span class="se">\t</span><span class="s2">bash </span><span class="se">\t</span><span class="s2">vim </span><span class="se">\t</span><span class="s2">build-essential </span><span class="se">\t</span><span class="s2">gcc-4.4 </span><span class="se">\t</span><span class="s2">gcc-multilib </span><span class="se">\t</span><span class="s2">g++-4.4 </span><span class="se">\t</span><span class="s2">perl </span><span class="se">\t</span><span class="s2">wget </span><span class="se">\t</span><span class="s2">patch </span><span class="se">\t</span><span class="s2">libncurses5-dev </span><span class="se">\t</span><span class="s2">libx11-dev libxrandr-dev xorg-dev </span><span class="se">\t</span><span class="s2">make"</span> did not <span class="nb">complete </span>successfully: <span class="nb">exit </span>code: 100

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/307xpyqphklv4cd5fc8tmb1eg
</code></pre></div></div> <h3 id="rosetta-í‚¤ê¸°">Rosetta í‚¤ê¸°</h3> <p>ë‚´ê°€ ì „ì— í•€í† ìŠ¤ ë¯¸ë¦¬ í•´ë³´ë ¤ê³  ë¸”ë¡œê·¸ ì°¾ì•„ë³´ë‹¤ê°€ ì´ ì„¤ì •ì„ êº¼ì•¼ x86ìœ¼ë¡œ í™•ì‹¤í•˜ê²Œ ëŒì•„ê°„ë‹¤ê³  í•´ì„œ êº¼ë†¨ì—ˆëŠ”ë°, ì´ê±° í‚¤ë‹ˆê¹Œ ì˜ ëœë‹¤.</p> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì´ì „ì— í•€í† ìŠ¤ ë¯¸ë¦¬ í•´ë³´ë ¤ê³  í• ë•Œ, ì–´ë–¤ ë¸”ë¡œê·¸ ë³´ê³ </p> <p>ì €ê±¸ êº¼ì•¼ x86ìœ¼ë¡œ ì •í™•íˆ ì‘ë™í•œë‹¤ê³  í•´ì„œ êº¼ë†¨ì—ˆëŠ”ë°, ì´ê²Œ ë¬¸ì œì˜€ë‹¤.</p> <blockquote> <p>Dockerì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">--platform=linux/amd64</code> ì˜µì…˜ìœ¼ë¡œ x86 ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•  ë•Œ, ë‚´ë¶€ì ìœ¼ë¡œ QEMUë¥¼ ì´ìš©í•´ ì—ë®¬ë ˆì´ì…˜í•¨.</p> <p>ì´ë•Œ Rosettaë¥¼ í™œì„±í™”í•˜ë©´ QEMUê°€ ë” ì•ˆì •ì ì´ê³  ë¹ ë¥´ê²Œ ë™ì‘í•¨. íŠ¹íˆ ì˜¤ë˜ëœ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€(Ubuntu 12.04 ê°™ì€ ê±°)ì—ì„œ apt-getì´ ì£½ê±°ë‚˜ ì„¸ê·¸í´íŠ¸ ë‚˜ëŠ” ê²½ìš°, ëŒ€ë¶€ë¶„ Rosetta êº¼ì ¸ ìˆì–´ì„œ ìƒê¸°ëŠ” ë¬¸ì œì„.</p> </blockquote> <h3 id="ë¹Œë“œ-ì„±ê³µ">ë¹Œë“œ ì„±ê³µ</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">--platform</span><span class="o">=</span>linux/amd64 <span class="nt">-t</span> pintos <span class="nb">.</span>
</code></pre></div></div> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%201.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="start">Start</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget <span class="o">[</span>http://www.stanford.edu/class/cs140/projects/pintos/pintos.tar.gz]<span class="o">(</span>http://www.stanford.edu/class/cs140/projects/pintos/pintos.tar.gz<span class="o">)</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>xvf pintos.tar.
</code></pre></div></div> <h3 id="íŒŒì¼-ê¶Œí•œ-ì—ëŸ¬-í•´ê²°">íŒŒì¼ ê¶Œí•œ ì—ëŸ¬ í•´ê²°</h3> <p>ì§„ì§œ ì´ê±°ë•Œë¬¸ì— ê°œê³ ìƒí–ˆìŒâ€¦</p> <p>Stanfordì—ì„œ ë°›ì€ íŒŒì¼ì´ ê¶Œí•œì´ ì—†ëŠ” ì±„ë¡œ ì£¼ëŠ”ë°,</p> <p>ìœˆë„ìš°ì—ì„œëŠ” ì›ë˜ ìƒê´€ì´ ì—†ì–´ì„œ ê´œì°®ì€ë°,</p> <p>ë§¥ì—ì„œëŠ” ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œì±„ë¡œ ì••ì¶•ì´ í’€ì–´ì ¸ì„œ ë¬¸ì œê°€ ë°œìƒí•¨.</p> <p>ê·¼ë° ì´ê²Œ ë˜ ì´ ìƒíƒœë¡œ Dockerë¡œ ì˜®ê²¨ì„œ ê·¸ëƒ¥ Permission Denied í•´ë²„ë¦¬ë‹ˆê¹Œ</p> <p>ì´ê²Œ ë„ëŒ€ì²´ ì™œ ê·¸ëŸ°ì§€ GPT ì¨ë„ ì˜ ëª°ëìŒ.</p> <p>Docker ë„˜ì–´ê°€ê¸° ì „ë¶€í„° ì›ë³¸ íŒŒì¼ ê¶Œí•œì´ ë¶€ì¡±í•´ì„œ ê·¸ëŸ°ê±´ë° Docker íŒŒì¼ ê³µìœ  ë°©ì‹ë•Œë¬¸ì¸ì¤„ì•Œê³  ì‚½ì§ˆí•¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xattr <span class="nt">-rc</span> pintos/
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> <span class="nt">-R</span> u+rwX,go+rX pintos/
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find pintos/ <span class="nt">-type</span> f <span class="nt">-exec</span> <span class="nb">ls</span> <span class="nt">-l</span> <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></div> <p>ìœ„ ëª…ë ¹ì–´ í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ file permissionì´ ëœ¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-rw-r--r--</span>@ 1 hoon  staff  333  9 27  2012 pintos//src/Makefile.kernel
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  1486  9 27  2012 pintos//src/misc/bochs-2.2.6-build.sh
<span class="nt">-rw-r--r--</span>@ 1 hoon  staff  511  9 27  2012 pintos//src/misc/bochs-2.2.6-solaris-link.patch
</code></pre></div></div> <p>ì—¬ê¸° ë³´ë©´ ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ (.sh) íŒŒì¼ ë“±ì— x í‘œì‹œê°€ ìƒê¸¸ê²ƒì„.</p> <p>ë˜ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ë§Œ ê¶Œí•œ ë³´ë ¤ë©´</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find pintos/ <span class="nt">-type</span> f <span class="nt">-perm</span> <span class="nt">-111</span> <span class="nt">-exec</span> <span class="nb">ls</span> <span class="nt">-l</span> <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></div> <p>ì•„ë˜ì²˜ëŸ¼ ëë‹¤ë©´ ì„±ê³µ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  1486  9 27  2012 pintos//src/misc/bochs-2.2.6-build.sh
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  4096  9 27  2012 pintos//src/tests/make-grade
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  2951  9 27  2012 pintos//src/utils/backtrace
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  4563  9 27  2012 pintos//src/utils/pintos-mkdisk
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  429  9 27  2012 pintos//src/utils/pintos-gdb
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  29821  9 27  2012 pintos//src/utils/pintos
</code></pre></div></div> <h3 id="ì»¨í…Œì´ë„ˆ-ë“¤ì–´ê°€ê¸°-ì „ì—-ë¡œì»¬ì—ì„œ-í¸í•˜ê²Œ-bochs-íŒŒì¼-ìˆ˜ì •">ì»¨í…Œì´ë„ˆ ë“¤ì–´ê°€ê¸° ì „ì— ë¡œì»¬ì—ì„œ í¸í•˜ê²Œ <code class="language-plaintext highlighter-rouge">bochs</code> íŒŒì¼ ìˆ˜ì •</h3> <p><code class="language-plaintext highlighter-rouge">pintos/src/misc/bochs-2.2.6-build.sh</code></p> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%202.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">CFGOPTS</span><span class="o">=</span><span class="s2">"--enable-cpu-level=6 --with-x --with-x11 --with-term --with-nogui --prefix=</span><span class="nv">$DSTDIR</span><span class="s2">"</span>
</code></pre></div></div> <h1 id="docker-run">docker run</h1> <p>ë“œë””ì–´ ì œëŒ€ë¡œ ì‹¤í–‰í•´ë³´ì.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--platform</span><span class="o">=</span>linux/amd64 <span class="nt">-it</span> <span class="nt">-p</span> 80:80 <span class="se">\</span>
	<span class="nt">-v</span> /Users/hoon/github/os20201118_20201032/pintos:/root/pintos <span class="se">\</span>
	<span class="nt">--name</span> pintos pintos
</code></pre></div></div> <h1 id="boch-266-ì„¤ì¹˜">boch 2.6.6 ì„¤ì¹˜</h1> <ul> <li> <p>ìœ„ì—ì„œ VSCodeë¡œ bochs ìˆ˜ì • ì•ˆí–ˆë‹¤ë©´</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd </span>pintos/src/misc
</code></pre></div> </div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  vi bochs-2.2.6-build.sh
</code></pre></div> </div> <blockquote> <p>i : ìˆ˜ì • ëª¨ë“œ ìˆ˜ì •â€¦ ESC : ìˆ˜ì • ëª¨ë“œ ë‚˜ê°€ê¸° :wq : ì €ì¥ í›„ ì¢…ë£Œ</p> <ul> <li>ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •</li> </ul> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">CFGOPTS</span><span class="o">=</span><span class="s2">"--enable-cpu-level=6 --with-x --with-x11 --with-term --with-nogui --prefix=</span><span class="nv">$DSTDIR</span><span class="s2">"</span>
</code></pre></div> </div> </li> </ul> <blockquote class="block-warning"> <p>ğŸ“¢</p> <p>ë§Œì•½ Containerë¥¼ ì‚­ì œí•´ì„œ ë‹¤ì‹œ Runí•œë‹¤ë©´ ì´ ê³¼ì •ì„ ë‹¤ì‹œ í•´ì¤˜ì•¼í•œë‹¤.</p> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /root/pintos/src/misc
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">env </span><span class="nv">SRCDIR</span><span class="o">=</span>/root/ <span class="nv">PINTOSDIR</span><span class="o">=</span>/root/pintos/ <span class="nv">DSTDIR</span><span class="o">=</span>/usr/local ./bochs-2.2.6-build.sh
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>which bochs
bochs <span class="nt">-v</span>
</code></pre></div></div> <h1 id="test">Test</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /root/pintos/src/threads
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>build
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pintos <span class="nt">-q</span> run alarm-multiple
</code></pre></div></div> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%203.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="github-repo-ìƒì„±">github repo ìƒì„±</h1> <p><a href="https://github.com/hoonably/os20201118_20201032">[https://github.com/hoonably/os20201118_20201032](https://github.com/hoonably/os20201118_20201032)</a></p> <h1 id="rootpintossrc-ì—ì„œ-ì‹œì‘í•˜ê¸°">root/pintos/src ì—ì„œ ì‹œì‘í•˜ê¸°</h1> <p>í• ë•Œë§ˆë‹¤ root í´ë”ì—ì„œ ì‹œì‘í•˜ëŠ”ë°©ë²•</p> <p>í•œë²ˆ ì³ì£¼ë©´ í•­ìƒ ì ìš©ë¨.</p> <p>ë„ì»¤íŒŒì¼ì— ë‹¤ìŒ ì¤„ì„ ë„£ì–´ë„ ë˜ê¸´ í•¨.</p> <div class="language-docker highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WORKDIR</span><span class="s"> /root/pintos/src</span>
</code></pre></div></div> <p>ê·¼ë° ì´ë¯¸ ë¹Œë“œí–ˆìœ¼ë‹ˆ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì¹˜ë©´ ë¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'cd /root/pintos/src'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</code></pre></div></div> <ul> <li> <p>ì´í›„ bashrc ìƒí™©</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cat</span> ~/.bashrc
</code></pre></div> </div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ... ë§¨ ì•„ë˜ì¤„ì— ë‹¤ìŒ ë‘ì¤„ì´ ìˆìœ¼ë©´ ì„±ê³µ
  <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:/root/pintos/src/utils"</span>
  <span class="nb">cd</span> /root/pintos/src
    
</code></pre></div> </div> </li> </ul> <h1 id="í•œë²ˆ-run-ì´í›„-container-ì‹œì‘">í•œë²ˆ Run ì´í›„ Container ì‹œì‘</h1> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%204.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì»¨í…Œì´ë„ˆì—ì„œ <code class="language-plaintext highlighter-rouge">exit</code> ë¥¼ í–ˆë‹¤ë©´,</p> <p>ìœ„ì²˜ëŸ¼ ContainerëŠ” ë‚¨ì•„ìˆê³ , ì¤‘ì§€ë˜ì–´ìˆì„ ê²ƒì´ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start <span class="nt">-ai</span> pintos
</code></pre></div></div> <p>ë‚˜ì¤‘ì— ë˜ ê°™ì€ ë°©ì‹ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">exit</code> í•˜ê³  ë°˜ë³µí•˜ë©´ ëœë‹¤.</p> <h1 id="branch">Branch</h1> <h2 id="ë¸Œëœì¹˜-ìƒì„±">ë¸Œëœì¹˜ ìƒì„±</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> <span class="o">[</span>your-branch-name]
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> feat/alarm-clock
</code></pre></div></div> <hr/> <h3 id="-ë§Œë“ -ë¸Œëœì¹˜ë¥¼-githubì—-í‘¸ì‹œ">ğŸ“¤ ë§Œë“  ë¸Œëœì¹˜ë¥¼ GitHubì— í‘¸ì‹œ</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin <span class="o">[</span>your-branch-name]
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin feat/alarm-clock
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">u</code> ì˜µì…˜ì€ ì´í›„ <code class="language-plaintext highlighter-rouge">git push</code>/<code class="language-plaintext highlighter-rouge">pull</code> ì‹œ ë¸Œëœì¹˜ ì´ë¦„ ìƒëµ ê°€ëŠ¥í•˜ê²Œ ì—°ê²°í•´ì¤Œ</li> <li> <p>ë‹¤ìŒë¶€í„° ê·¸ëƒ¥ push í•´ë„ ë¨.</p> </li> <li> <p>ì™œ <code class="language-plaintext highlighter-rouge">feat/</code> ë¥¼ ì“°ëŠ”ê°€?</p> <p>âœ… ë¸Œëœì¹˜ ì´ë¦„ íŒ¨í„´</p> <table> <thead> <tr> <th>Prefix</th> <th>ì˜ë¯¸</th> <th>ì˜ˆì‹œ ë¸Œëœì¹˜ëª…</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">feat/</code></td> <td>ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€</td> <td><code class="language-plaintext highlighter-rouge">feat/alarm-clock</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">fix/</code></td> <td>ë²„ê·¸ ìˆ˜ì •</td> <td><code class="language-plaintext highlighter-rouge">fix/overflow-bug</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">refactor/</code></td> <td>ì½”ë“œ ë¦¬íŒ©í† ë§ (ê¸°ëŠ¥ ë³€í™” X)</td> <td><code class="language-plaintext highlighter-rouge">refactor/thread-init</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">test/</code></td> <td>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •</td> <td><code class="language-plaintext highlighter-rouge">test/userprog-tests</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">doc/</code></td> <td>ë¬¸ì„œ, README ìˆ˜ì •</td> <td><code class="language-plaintext highlighter-rouge">doc/setup-instructions</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">chore/</code></td> <td>ë¹Œë“œ, ì„¤ì • ë³€ê²½ ë“± ì¡ì¼</td> <td><code class="language-plaintext highlighter-rouge">chore/dockerfile-update</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">hotfix/</code></td> <td>ê¸‰í•œ ë²„ê·¸ ìˆ˜ì • (ë°°í¬ í›„)</td> <td><code class="language-plaintext highlighter-rouge">hotfix/build-crash</code></td> </tr> </tbody> </table> <hr/> <p>âœ… ì™œ ì´ë ‡ê²Œ ì“°ë‚˜?</p> <ul> <li>í˜‘ì—… ì¤‘ì— ë¸Œëœì¹˜ê°€ ë§ì•„ì§ˆ ë•Œ â†’ <strong>ì´ë¦„ë§Œ ë³´ê³  ìš©ë„ íŒŒì•… ê°€ëŠ¥</strong></li> <li>GitHub Pull Requestì—ì„œ <strong>ìë™ ì •ë ¬ì´ë‚˜ í•„í„°ë„ í¸ë¦¬í•¨</strong></li> <li>íŒ€ ë‚´ë¶€ì—ì„œ <strong>ì¼ê´€ëœ ìŠ¤íƒ€ì¼ ìœ ì§€ ê°€ëŠ¥</strong></li> <li>ì¼ë¶€ ìë™í™” ë„êµ¬(CI/CD, Release notes)ì™€ë„ ì˜ í˜¸í™˜ë¨</li> </ul> </li> <li>VSCodeì—ì„œ í•œë‹¤ë©´ ì´ë ‡ê²Œ ì»¤ë°‹ ì–´ë””ì— í•˜ëŠ”ê±´ì§€ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆìŒ</li> </ul> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%205.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="github-pull-ì´í›„-error">Github Pull ì´í›„ Error</h1> <p>ì´ê±´ ë§¥ì—ì„œ ë°œìƒí•œ ê²ƒì€ ì•„ë‹ˆê³ , íŒ€ì› ìœˆë„ìš°ì—ì„œ git pull í•´ì˜¨ í›„ .sh íŒŒì¼ì„ ì‹¤í–‰í–ˆì„ ë•Œ ë‚˜ëŠ” ë¬¸ì œë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@04fedab3f530:~/pintos/src/misc# <span class="nb">env </span><span class="nv">SRCDIR</span><span class="o">=</span>/root/ <span class="nv">PINTOSDIR</span><span class="o">=</span>/root/pintos/ <span class="nv">DSTDIR</span><span class="o">=</span>/usr/local bash ./bochs-2.2.6-build.sh

./bochs-2.2.6-build.sh: line 2: <span class="s1">$'</span><span class="se">\r</span><span class="s1">'</span>: <span class="nb">command </span>not found
./bochs-2.2.6-build.sh: line 41: syntax error: unexpected end of file
</code></pre></div></div> <ol> <li> <p><strong><code class="language-plaintext highlighter-rouge">$'\r': command not found</code></strong></p> <p>ì´ ë©”ì‹œì§€ëŠ” íŒŒì¼ì´ <strong>Windows ìŠ¤íƒ€ì¼ ì¤„ë°”ê¿ˆ (CRLF)</strong> ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆì–´ì„œ ë°œìƒí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìœ ë‹‰ìŠ¤/ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” <strong>LF (\n)</strong> ì¤„ë°”ê¿ˆë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë¯€ë¡œ, ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¦¬ëˆ…ìŠ¤ì—ì„œ ì§ì ‘ ì‹¤í–‰ë˜ê¸° ì „ì— í¬ë§·ì„ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.</p> </li> <li> <p><strong><code class="language-plaintext highlighter-rouge">syntax error: unexpected end of file</code></strong></p> <p>ì¤„ë°”ê¿ˆ ë¬¸ì œë¡œ ì¸í•´ ì‰˜ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ êµ¬ì¡°ë¥¼ ì œëŒ€ë¡œ í•´ì„í•˜ì§€ ëª»í•´ ëë¶€ë¶„ì—ì„œ ë¬¸ë²• ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì…ë‹ˆë‹¤.</p> </li> </ol> <ul> <li>ìœˆë„ìš°ì—ì„œ gitì„ ì„¤ì¹˜í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ ì„¤ì •ì¸ë°, ì´ê²Œ ë¬¸ì œë‹¤.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>core.autocrlf<span class="o">=</span><span class="nb">true</span>
</code></pre></div></div> <p>ì´ ì„¤ì •ì€:</p> <ul> <li><strong>clone/pull í•  ë•Œ â†’ CRLFë¡œ ë³€í™˜</strong></li> <li>commit/push í•  ë•Œ â†’ LFë¡œ ë˜ëŒë¦¼</li> </ul> <p>ì¦‰, ì¹œêµ¬ê°€ pullí•  ë•Œ <code class="language-plaintext highlighter-rouge">.sh</code> íŒŒì¼ì´ CRLFë¡œ ë°”ë€Œì–´ë²„ë¦° ê²ƒì´ë‹¤.</p> <p>Docker ìš°ë¶„íˆ¬ ì»¨í…Œì´ë„ˆëŠ” ë¦¬ëˆ…ìŠ¤ë‹ˆê¹Œ CRLF í•´ì„ ëª» í•¨ â†’ ì—ëŸ¬ ë°œìƒ</p> <h3 id="í•´ê²°ë°©ë²•-ï¸">í•´ê²°ë°©ë²• â­ï¸</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf  <span class="c"># í˜„ì¬ ì„¤ì • í™•ì¸</span>
</code></pre></div></div> <table> <thead> <tr> <th>ê²°ê³¼</th> <th>ì˜ë¯¸</th> <th>Â </th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">true</code></td> <td>ìœˆë„ìš°ìš©: pullí•  ë•Œ CRLF, pushí•  ë•Œ LF</td> <td>Â </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">input</code></td> <td>ë§¥/ë¦¬ëˆ…ìŠ¤ìš©: pullí•  ë•Œ LF ìœ ì§€, pushí•  ë•Œ LF</td> <td>Â </td> </tr> <tr> <td>(ì•„ë¬´ê²ƒë„ ì—†ìŒ)</td> <td>ê¸°ë³¸ê°’ ì‚¬ìš© ì¤‘ (ë³´í†µ OSì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì‘ë™)</td> <td><br/>- <code class="language-plaintext highlighter-rouge">input</code> ìœ¼ë¡œ ë³€ê²½í•˜ê¸°</td> </tr> </tbody> </table> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf input
</code></pre></div></div> <h3 id="ì´ë¯¸-ë°›ì€-íŒŒì¼-ê³ ì¹˜ê¸°">ì´ë¯¸ ë°›ì€ íŒŒì¼ ê³ ì¹˜ê¸°</h3> <p>ê·¸ëƒ¥ ì§ì ‘ ì¤„ë°”ê¿ˆ ìŠ¤íƒ€ì¼ì„ ë°”ê¿”ì£¼ëŠ”ê±°ë‹¤.</p> <p>ê·¼ë° .shíŒŒì¼ ë‹¤ë¥¸ê²ƒë„ ë§ê³  ì´ê±´ ê·¸ëƒ¥ ì„ì‹œë°©í¸ì´ë‹ˆ ë‹¤ì‹œ pullí•˜ëŠ”ê±¸ ì¶”ì²œ.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/\r$//'</span> bochs-2.2.6-build.sh
</code></pre></div></div> <h1 id="ff">FF?</h1> <p>VSCodeë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ FFê°€ ë“¤ì–´ê°„ ì‹ ê¸°í•œ ë¬¸ìê°€ ìˆë‹¤.</p> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%206.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì´ <code class="language-plaintext highlighter-rouge">FF</code>ëŠ” <strong>Form Feed (ì¤„ ë°”ê¿ˆ ëª…ë ¹ ì¤‘ í•˜ë‚˜)</strong></p> <p>ASCII ì½”ë“œë¡œëŠ” <code class="language-plaintext highlighter-rouge">0x0C</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">^L</code>) ì´ê³ ,</p> <p>í„°ë¯¸ë„ì—ì„œëŠ” <strong>í˜ì´ì§€ ë„˜ê¹€</strong> ì—­í• ì„ í•˜ë˜ ì˜ˆì „ ë¬¸ì</p> <hr/> <ul> <li>ì˜ˆì „ êµì¬/ì—ë””í„°ì—ì„œ ë³µë¶™í•œ ì½”ë“œ</li> <li>ëˆ„êµ°ê°€ <code class="language-plaintext highlighter-rouge">.c</code> íŒŒì¼ì— <code class="language-plaintext highlighter-rouge">^L</code> ë„£ì–´ì„œ êµ¬ë¶„ìì²˜ëŸ¼ ì“°ë˜ ìŠµê´€</li> <li>í•€í† ìŠ¤ë‚˜ ì˜¤ë˜ëœ ìœ ë‹‰ìŠ¤ ê¸°ë°˜ ì½”ë“œì—ì„œ ê°€ë” ë³´ì„.</li> <li>VS Codeê°€ íŠ¹ë³„íˆ ë³´ì—¬ì£¼ëŠ” ê±°ê³ , <strong>ì˜¤ë¥˜ëŠ” ì•„ë‹˜</strong></li> </ul>]]></content><author><name></name></author><category term="Study"/><category term="CS"/><summary type="html"><![CDATA[ë©”ëª¨: docker start -ai pintos]]></summary></entry><entry><title type="html">SVDQuant: Absorbing Outliers by Low-Rank Components for 4-Bit Diffusion Models</title><link href="https://hoonably.github.io/blog/svdquant/" rel="alternate" type="text/html" title="SVDQuant: Absorbing Outliers by Low-Rank Components for 4-Bit Diffusion Models"/><published>2025-03-06T14:26:24+00:00</published><updated>2025-03-06T14:26:24+00:00</updated><id>https://hoonably.github.io/blog/svdquant</id><content type="html" xml:base="https://hoonably.github.io/blog/svdquant/"><![CDATA[<div class="page-body"><table id="1ae451cf-7b79-805c-93cd-e196dc0bdeb9" class="simple-table"><tbody><tr id="1ae451cf-7b79-808c-943f-eac9eb5f2eba"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">ArXiv</th><td id="L|H:" class="" style="width:580.5px"><a href="https://arxiv.org/abs/2411.05007">https://arxiv.org/abs/2411.05007</a></td></tr><tr id="1ae451cf-7b79-8003-aee0-df288cea6508"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Project Page</th><td id="L|H:" class="" style="width:580.5px"><a href="https://hanlab.mit.edu/projects/svdquant">https://hanlab.mit.edu/projects/svdquant</a></td></tr><tr id="1ae451cf-7b79-80e1-8c89-e694ec013045"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Github Code</th><td id="L|H:" class="" style="width:580.5px"><a href="https://github.com/mit-han-lab/nunchaku">https://github.com/mit-han-lab/nunchaku</a></td></tr><tr id="1af451cf-7b79-800d-bf70-cf7f29ae2f57"><th id="MApI" class="simple-table-header-color simple-table-header" style="width:125.5px">Demo</th><td id="L|H:" class="" style="width:580.5px"><a href="https://svdquant.mit.edu/">https://svdquant.mit.edu/</a></td></tr></tbody></table><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="1ae451cf-7b79-80b4-b7a9-d4f362a314d8"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%"><strong>Key Differentiator</strong><br/>â€œOutlier Absorption Using Singular Value Decompositionâ€<figure id="1b4451cf-7b79-80d5-8378-e104c018ad62" class="image"><a href="/files/2025-03-06-svdquant/image.webp"><img style="width:643.984375px" src="/files/2025-03-06-svdquant/image.webp"/></a></figure></div></figure><p id="1b9451cf-7b79-8032-b7ef-e5cec973616b" class=""> </p><p id="1b9451cf-7b79-8094-97e0-e2c246b2c531" class=""> </p><h1 id="1b9451cf-7b79-8012-b7d6-e14efa74183b" class="">Song Han?</h1><blockquote id="1b9451cf-7b79-80aa-8170-e45a21f2c364" class="">Song Han is an associate professor at MIT EECS. He earned his PhD from Stanford, pioneering efficient AI computing techniques such as â€œDeep Compressionâ€ (pruning, quantization) and the â€œEfficient Inference Engine,â€ which first introduced weight sparsity to modern AI chips, making it one of the top-5 most cited papers in the 50-year history of ISCA (1953-2023). His innovations, including TinyML and hardware-aware neural architecture search (Once-for-All Network), have advanced AI model deployment on resource-constrained devices.</blockquote><figure id="1b9451cf-7b79-80d3-a2d4-c3a2854934a1" class="image"><a href="/files/2025-03-06-svdquant/image%201.webp"><img style="width:576px" src="/files/2025-03-06-svdquant/image%201.webp"/></a></figure><p id="1b9451cf-7b79-80e5-8edc-f584a3a713c0" class=""> </p><p id="1b9451cf-7b79-80f8-8222-ce544cfed97c" class=""> </p><p id="1b9451cf-7b79-8021-b819-f144582b675e" class=""> </p><p id="1b9451cf-7b79-8088-bc0d-d678ad8a06cd" class=""> </p><p id="1b9451cf-7b79-8053-b1db-cd0ed566f6a7" class=""> </p><p id="1b9451cf-7b79-80a4-8ce2-d75baf6f5327" class=""> </p><p id="1af451cf-7b79-8064-a8a6-d81951bce9ee" class=""> </p><h1 id="1af451cf-7b79-8080-9bf7-e6ca0ea8ac06" class="">1. Introduction</h1><div id="1b0451cf-7b79-80cc-89bb-c5061bd83aa2" class="column-list"><div id="1b0451cf-7b79-803c-ad51-d3337be6cf87" style="width:43.75%" class="column"><figure id="1af451cf-7b79-80b9-b6cc-ef3c8c412aa2" class="image"><a href="/files/2025-03-06-svdquant/image%202.webp"><img style="width:336px" src="/files/2025-03-06-svdquant/image%202.webp"/></a></figure></div><div id="1b0451cf-7b79-8014-bc51-ce5bd0a7be1d" style="width:56.25%" class="column"><p id="1ae451cf-7b79-809f-a365-e27629e5708d" class="">LLMê³¼ ë¹„êµí–ˆì„ ë•Œ, ëª¨ë¸ ì‚¬ì´ì¦ˆì— ë”°ë¼ ê³„ì‚° ë¹„ìš©ì´ ë¹ ë¥´ê²Œ ì¦ê°€í•œë‹¤.</p><p id="1af451cf-7b79-80d2-a35e-da017eca03f3" class="">Mooreâ€™s lawê°€ slow down í•¨ìœ¼ë¡œì„œ, ì €ë ´í•œ ì¶”ë¡ (low-precision inference) ìœ¼ë¡œ ì „í™˜í•˜ëŠ”ì¤‘ </p><p id="1af451cf-7b79-8098-80f9-eb7a6d6223db" class="">â†’ 4bit floating point (FP4)ê°€ ëŒ€ì„¸ì„</p><p id="1b0451cf-7b79-8042-aca3-ebbe11f66404" class=""> </p></div></div><div id="1b0451cf-7b79-8032-a22b-d1683814c2c5" class="column-list"><div id="1b0451cf-7b79-80bc-8221-c4aeb1973a4e" style="width:37.5%" class="column"><figure id="1af451cf-7b79-80ac-b07c-ef4740e29565" class="image"><a href="/files/2025-03-06-svdquant/image%203.webp"><img style="width:144px" src="/files/2025-03-06-svdquant/image%203.webp"/></a></figure><p id="1b0451cf-7b79-8053-bbcc-d14dba1639fd" class=""> </p></div><div id="1b0451cf-7b79-80f9-82f2-f542e8f4941e" style="width:62.5%" class="column"><p id="1b0451cf-7b79-80eb-9f9b-d476809a077e" class="">LLM</p><p id="1b0451cf-7b79-80fb-bb0b-c83f6b66c59f" class="">latencyëŠ” ì£¼ë¡œ ê°€ì¤‘ì¹˜(weight) ë¡œë”© ì†ë„ì— ì˜í•´ ê²°ì •</p><p id="1b0451cf-7b79-8082-8d58-e14653f5a1e3" class="">&quot;ê°€ì¤‘ì¹˜ë§Œ ì–‘ìí™”(weight-only quantization)&quot; í•´ë„ ì†ë„ë¥¼ ê°œì„ </p><p id="1b0451cf-7b79-8099-8d68-eda637d51f0a" class=""> </p><p id="1b0451cf-7b79-806c-a2dc-c0c397f6c725" class="">Diffusion ëª¨ë¸</p><p id="1b0451cf-7b79-80a7-92ee-d72568410dc9" class="">ë ˆì´í„´ì‹œëŠ” ê°€ì¤‘ì¹˜ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì†ë„ê°€ ì•„ë‹ˆë¼, ì—°ì‚°ëŸ‰ ìì²´ê°€ ë³‘ëª©</p><p id="1b0451cf-7b79-8049-9f28-d3c199676790" class="">ì™œëƒí•˜ë©´ ê°€ì¤‘ì¹˜ë§Œ 4ë¹„íŠ¸ë¡œ ì¤„ì—¬ë„ í™œì„±í™”ê°’ì´ 16ë¹„íŠ¸ì´ë©´, ì—°ì‚° ê³¼ì •ì—ì„œ 16ë¹„íŠ¸ë¡œ ë‹¤ì‹œ ë³€í™˜(upcast)ë˜ë¯€ë¡œ ì—°ì‚°ëŸ‰ì´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ.</p><p id="1b0451cf-7b79-80fe-b855-e236e83dd90e" class="">ê²°êµ­ ì—°ì‚°ëŸ‰ì„ ì¤„ì´ë ¤ë©´ ê°€ì¤‘ì¹˜(weight)ë¿ë§Œ ì•„ë‹ˆë¼<strong> í™œì„±í™”ê°’(activation)</strong>ë„ í•¨ê»˜ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”í•´ì•¼ í•¨.</p></div></div><figure id="1b0451cf-7b79-8094-8134-c9ea7d1ff191" class="image"><a href="/files/2025-03-06-svdquant/image%204.webp"><img style="width:709.984375px" src="/files/2025-03-06-svdquant/image%204.webp"/></a></figure><p id="1b3451cf-7b79-8020-98fd-e38dfe0b7963" class=""> </p><figure class="block-color-yellow_background callout" style="white-space:pre-wrap;display:flex" id="1b4451cf-7b79-80d5-8357-e37ef77f7fa0"><div style="font-size:1.5em"><span class="icon">ğŸ“¢</span></div><div style="width:100%"><ul id="1b4451cf-7b79-80a2-8541-c4c2a915f65d" class="bulleted-list"><li style="list-style-type:disc">Input Channel â†’ ì›ë˜ Activationì—ì„œ ë‚˜ì˜¨ ì…ë ¥ ì±„ë„</li></ul><ul id="1b4451cf-7b79-80bb-a2dd-f84a592890dc" class="bulleted-list"><li style="list-style-type:disc">Channel â†’ Weightì˜ ê° ì±„ë„</li></ul></div></figure><p id="1b4451cf-7b79-8020-a22d-eda7068c31d3" class=""> </p><h3 id="1b0451cf-7b79-8031-b656-c73c4e468076" class="">1. ê¸°ì¡´ 4ë¹„íŠ¸ ì–‘ìí™”(4-bit Quantization)ì˜ ë¬¸ì œì </h3><ul id="1b0451cf-7b79-8023-b775-d40d640365a0" class="bulleted-list"><li style="list-style-type:disc">ê°€ì¤‘ì¹˜(Weight)ì™€ í™œì„±í™”ê°’(Activation) ëª¨ë‘ 4ë¹„íŠ¸ë¡œ ì¤„ì´ë©´ í’ˆì§ˆì´ í¬ê²Œ ì €í•˜ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</li></ul><ul id="1b0451cf-7b79-80a7-87c2-ee25491cce41" class="bulleted-list"><li style="list-style-type:disc">íŠ¹íˆ ê¸°ì¡´ ë°©ë²•(ì˜ˆ: Smoothing)ì€ ê°€ì¤‘ì¹˜ì™€ í™œì„±í™”ê°’ ì‚¬ì´ì—ì„œ Outlierë¥¼ ì´ë™ì‹œí‚¤ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆì§€ë§Œ,Diffusion ëª¨ë¸ì—ì„œëŠ” Outlierê°€ ì–‘ìª½(W, X) ëª¨ë‘ì—ì„œ ì‹¬ê°í•˜ê²Œ ë°œìƒí•˜ë¯€ë¡œ íš¨ê³¼ì ì´ì§€ ì•ŠìŒ.<ul id="1b0451cf-7b79-80be-afba-fbfd0a1bd5b0" class="bulleted-list"><li style="list-style-type:circle">ê¸°ì¡´ ë°©ì‹ì€ í™œì„±í™”ê°’(X)ì—ì„œ Outlierë¥¼ ì œê±°í•˜ë ¤ê³  í•˜ë©´ ê°€ì¤‘ì¹˜(W)ë¡œ ì´ë™í•˜ê³ , ë°˜ëŒ€ë¡œ í•˜ë©´ Xì— Outlierê°€ ë‚¨ëŠ” ë¬¸ì œ ë°œìƒ.</li></ul></li></ul><hr id="1b0451cf-7b79-805b-82c0-fa3c3c42a9a6"/><h3 id="1b0451cf-7b79-80d7-8c42-d6af561178a5" class="">2. SVDQuantì˜ í•µì‹¬ ì•„ì´ë””ì–´</h3><ul id="1b0451cf-7b79-800e-9933-ceff2d93b1b1" class="bulleted-list"><li style="list-style-type:disc">Outlierë¥¼ ë‹¨ìˆœíˆ ì´ë™í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, &quot;<strong>í¡ìˆ˜</strong>&quot;í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•¨.</li></ul><ul id="1b0451cf-7b79-802a-ab80-e4bebc045ec2" class="bulleted-list"><li style="list-style-type:disc">ì €ë¹„ìš©ì˜ &quot;Low-Rank Branch&quot;ë¥¼ ì¶”ê°€í•˜ì—¬ Outlierë¥¼ ê°€ì¤‘ì¹˜(W)ì—ì„œ í¡ìˆ˜í•¨.</li></ul><ul id="1b0451cf-7b79-8008-a5f9-e816793573b0" class="bulleted-list"><li style="list-style-type:disc">ì´ë¥¼ ìœ„í•´ SVD(Singular Value Decomposition, íŠ¹ì´ê°’ ë¶„í•´) ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ê°€ì¤‘ì¹˜ë¥¼ ë‘ ê°œì˜ ì„±ë¶„ìœ¼ë¡œ ë¶„í•´í•¨.</li></ul><hr id="1b0451cf-7b79-8051-961d-cfd87abd2a58"/><h3 id="1b0451cf-7b79-80fd-8208-c69bf137b1d1" class="">3. SVDQuantì˜ ë‹¨ê³„ë³„ ë™ì‘ ë°©ì‹</h3><p id="1b0451cf-7b79-8066-829c-c3df956b74ae" class="">1. Outlier ì´ë™ (Smoothing)</p><ul id="1b0451cf-7b79-8098-8dee-fe6740ba74e5" class="bulleted-list"><li style="list-style-type:disc">ë¨¼ì € Outlierë¥¼ í™œì„±í™”ê°’(X)ì—ì„œ ê°€ì¤‘ì¹˜(W)ë¡œ ì´ë™í•¨.</li></ul><ul id="1b0451cf-7b79-8034-b2dc-fbbdd11c23c5" class="bulleted-list"><li style="list-style-type:disc">ì´ë¥¼ í†µí•´ í™œì„±í™”ê°’(X)ì´ ë” ê· ì¼í•´ì ¸ì„œ 4ë¹„íŠ¸ ì–‘ìí™”ê°€ ë” ì‰¬ì›Œì§.</li></ul><p id="1b0451cf-7b79-8029-8c6a-fada4f9ac553" class="">2. SVD(íŠ¹ì´ê°’ ë¶„í•´)ë¥¼ ì ìš©í•˜ì—¬ ê°€ì¤‘ì¹˜(W)ë¥¼ ë‘ ê°œì˜ ì„±ë¶„ìœ¼ë¡œ ë¶„í•´</p><ul id="1b0451cf-7b79-80e8-9f2d-d20f2a41cf00" class="bulleted-list"><li style="list-style-type:disc">W â†’ L1L2(ì €ìˆœìœ„ ì„±ë¶„) + ì”ì—¬ ì„±ë¶„(W - L1L2)ë¡œ ë¶„ë¦¬</li></ul><ul id="1b0451cf-7b79-80ad-9a3d-d57977621d06" class="bulleted-list"><li style="list-style-type:disc">L1L2(ì €ìˆœìœ„ ì„±ë¶„)ì€ 16ë¹„íŠ¸ë¡œ ìœ ì§€í•˜ê³ , W - L1L2(ì”ì—¬ ì„±ë¶„)ë§Œ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”</li></ul><ul id="1b0451cf-7b79-800f-b3fd-e2f48cc14aba" class="bulleted-list"><li style="list-style-type:disc">ì¦‰, ì €ìˆœìœ„ ì„±ë¶„(Low-Rank Component)ì´ Outlierë¥¼ í¡ìˆ˜í•˜ë©´ì„œ 4ë¹„íŠ¸ ì–‘ìí™”ê°€ ë” ì‰¬ì›Œì§.</li></ul><p id="1b0451cf-7b79-801a-998e-eac0ba146fa9" class="">3. ì €ìˆœìœ„ ì„±ë¶„ì„ ë”°ë¡œ ê³„ì‚°í•˜ë©´ ë©”ëª¨ë¦¬ ì•¡ì„¸ìŠ¤ ì˜¤ë²„í—¤ë“œê°€ ì¦ê°€í•˜ëŠ” ë¬¸ì œ ë°œìƒ</p><ul id="1b0451cf-7b79-806f-b26a-e9f0e6543328" class="bulleted-list"><li style="list-style-type:disc">ì¦‰, L1L2ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ë©´ ì—°ì‚° ì†ë„ê°€ ëŠë ¤ì§€ëŠ” ë¬¸ì œê°€ ìƒê¹€.</li></ul><ul id="1b0451cf-7b79-80e3-8321-fb0b729e7c31" class="bulleted-list"><li style="list-style-type:disc">ê¸°ë³¸ì ìœ¼ë¡œ 4ë¹„íŠ¸ ì—°ì‚°ì˜ ì†ë„ë¥¼ ë†’ì´ë ¤ê³  í–ˆëŠ”ë°, ì €ìˆœìœ„ ì—°ì‚°ì´ ì¶”ê°€ë˜ë©´ ì˜¤íˆë ¤ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ.</li></ul><p id="1b0451cf-7b79-80af-be9b-cee524284df7" class="">4. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì „ìš© ì¶”ë¡  ì—”ì§„(Nunchaku) ì„¤ê³„</p><ul id="1b0451cf-7b79-80b7-b671-dd24b7a6b1cf" class="bulleted-list"><li style="list-style-type:disc">Nunchaku ì—”ì§„ì€ 4ë¹„íŠ¸ ì–‘ìí™” ì—°ì‚°ê³¼ ì €ìˆœìœ„ ì—°ì‚°ì„ í•¨ê»˜ ìµœì í™”í•˜ì—¬ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì„.</li></ul><ul id="1b0451cf-7b79-8000-bad7-c9a13f8d770b" class="bulleted-list"><li style="list-style-type:disc">ì¦‰, L1L2(ì €ìˆœìœ„ ì—°ì‚°)ì™€ 4ë¹„íŠ¸ ì—°ì‚°ì„ í•¨ê»˜ ì²˜ë¦¬í•˜ëŠ” ì»¤ë„(fusion kernel)ë¡œ ë³€í™˜í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”.</li></ul><ul id="1b0451cf-7b79-80da-9587-f7e990c22ed9" class="bulleted-list"><li style="list-style-type:disc">ì´ë¥¼ í†µí•´ ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ì´ ìƒê¸°ë”ë¼ë„ ì‹¤ì œë¡œëŠ” 4ë¹„íŠ¸ ì—°ì‚°ì˜ ì†ë„ë¥¼ í–¥ìƒí•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë¨.</li></ul><p id="1b0451cf-7b79-8027-8d85-d72e2a8500c4" class=""> </p><p id="1b0451cf-7b79-8040-b088-e9573a3875ea" class=""> </p><details><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0"><strong>ê¸°ì¡´ ë°©ì‹(SmoothQuant, AWQ)ê³¼ SVDQuantì˜ ì°¨ì´</strong></summary><div class="indented"><table id="1b0451cf-7b79-80e9-a7be-e57d2b8883d8" class="simple-table"><tbody><tr id="1b0451cf-7b79-8035-9773-e1ac9754aafa"><td id=":Vib" class="">ë°©ë²•</td><td id="uAUW" class="">ë°©ì‹</td><td id="uBN[" class="" style="width:229.5625px">Outlier ì²˜ë¦¬ ë°©ì‹</td><td id="\ab\" class="">ì ìš© ëŒ€ìƒ</td><td id="d^ui" class="">ë¬¸ì œì </td></tr><tr id="1b0451cf-7b79-80d3-b1a1-fa2a22528041"><td id=":Vib" class=""><strong>SmoothQuant (2023)</strong></td><td id="uAUW" class="">W4A4</td><td id="uBN[" class="" style="width:229.5625px">Input Channel(Activation) â†’ Channel(Weight)</td><td id="\ab\" class="">LLM(ëŒ€í˜• ì–¸ì–´ ëª¨ë¸)</td><td id="d^ui" class="">Outlierê°€ ê°€ì¤‘ì¹˜ì— ëˆ„ì ë¨</td></tr><tr id="1b0451cf-7b79-80a7-b747-d8244d0ca7e5"><td id=":Vib" class=""><strong>AWQ (2024)</strong></td><td id="uAUW" class="">W4A4</td><td id="uBN[" class="" style="width:229.5625px"><strong>ê°€ì¤‘ì¹˜ ì¤‘ ì¤‘ìš”í•œ ë¶€ë¶„ì„ ë³´ì¡´í•˜ì—¬ ì–‘ìí™”</strong></td><td id="\ab\" class="">LLM</td><td id="d^ui" class="">Diffusion ëª¨ë¸ì—ì„œëŠ” í•œê³„ ê°€ëŠ¥ì„±</td></tr><tr id="1b0451cf-7b79-80a2-87d0-ee757edac464"><td id=":Vib" class=""><strong>SVDQuant (2024)</strong></td><td id="uAUW" class="">W4A4</td><td id="uBN[" class="" style="width:229.5625px"><strong>ì €ìˆœìœ„(Low-Rank) ì„±ë¶„ìœ¼ë¡œ Outlier í¡ìˆ˜</strong></td><td id="\ab\" class="">Diffusion ëª¨ë¸ ìµœì í™”</td><td id="d^ui" class="">ì¶”ê°€ ì—°ì‚°ì„ í•´ê²°í•´ì•¼ í•¨</td></tr></tbody></table><h3 id="1b4451cf-7b79-808d-b9f5-caf9daa665ef" class=""><strong>1. SmoothQuant (2023) â€“ Activationì—ì„œ Weightë¡œ ì´ìƒì¹˜ ì´ë™</strong></h3><p id="1b4451cf-7b79-809a-907c-c266d6047b9c" class="">SmoothQuantì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” <strong>í™œì„±í™”ê°’(Activation)ì—ì„œ ë°œìƒí•˜ëŠ” ì´ìƒì¹˜ë¥¼ ê°€ì¤‘ì¹˜(Weight)ë¡œ ì´ë™</strong>ì‹œí‚¤ëŠ” ê±°ì•¼â€‹Li á„ƒá…³á†¼ - 2024 - SVDQuanâ€¦.</p><ul id="1b4451cf-7b79-80ce-806d-c9ecda3068f3" class="bulleted-list"><li style="list-style-type:disc"><strong>ê¸°ì¡´ ë¬¸ì œ</strong><ul id="1b4451cf-7b79-8061-93b8-f9770e6cfaf3" class="bulleted-list"><li style="list-style-type:circle">Transformer ê¸°ë°˜ ëª¨ë¸ì—ì„œ Self-Attention ì—°ì‚°ì´ ë§ì•„ì„œ <strong>í™œì„±í™”ê°’(Activation)ì˜ ë²”ìœ„ê°€ ë„“ì–´ì§€ê³  ì´ìƒì¹˜ê°€ ë°œìƒ</strong>í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„.</li></ul><ul id="1b4451cf-7b79-808b-b805-c308b15bd947" class="bulleted-list"><li style="list-style-type:circle">ì´ë¥¼ 8-bitì´ë‚˜ 4-bitë¡œ ì–‘ìí™”í•˜ë©´, ì‘ì€ ê°’ë“¤ì€ ëª¨ë‘ 0ì´ ë˜ê³ , ì •ë³´ ì†ì‹¤ì´ ì‹¬í•´ì§.</li></ul></li></ul><ul id="1b4451cf-7b79-808b-8d2a-f4e0223d873e" class="bulleted-list"><li style="list-style-type:disc"><strong>í•´ê²° ë°©ë²•</strong><ul id="1b4451cf-7b79-80b1-b04e-de65c2ea2196" class="bulleted-list"><li style="list-style-type:circle">í™œì„±í™”ê°’(Activation)ì˜ ì±„ë„ë³„ ìŠ¤ì¼€ì¼ë§ì„ ì ìš©í•˜ì—¬, <strong>ì´ìƒì¹˜ë¥¼ ê°€ì¤‘ì¹˜(Weight) ìª½ìœ¼ë¡œ ì´ë™</strong>ì‹œí‚´.</li></ul><ul id="1b4451cf-7b79-80ff-9d74-ffb2864c5ba2" class="bulleted-list"><li style="list-style-type:circle">ì¦‰, ì›ë˜ Activation ê°’ì´ í¬ë©´, í•´ë‹¹ ì±„ë„ì„ ìŠ¤ì¼€ì¼ë§í•´ì„œ ì¤„ì´ê³ , ëŒ€ì‹  ê·¸ ê°’ì„ Weightì—ì„œ ë³´ìƒí•´ì£¼ëŠ” ë°©ì‹.</li></ul><ul id="1b4451cf-7b79-803f-b0f4-c4d8a873783f" class="bulleted-list"><li style="list-style-type:circle">ì´ë ‡ê²Œ í•˜ë©´, <strong>Activation ê°’ì´ ì–‘ìí™”í•  ë•Œ ì†ì‹¤ ì—†ì´ ë” ê· ë“±í•˜ê²Œ ë¶„í¬í•  ìˆ˜ ìˆìŒ</strong>.</li></ul></li></ul><ul id="1b4451cf-7b79-80ae-ba66-e742f8eae501" class="bulleted-list"><li style="list-style-type:disc"><strong>í•œê³„</strong><ul id="1b4451cf-7b79-80d1-89e4-c65ac1f030a5" class="bulleted-list"><li style="list-style-type:circle">Weight ìª½ìœ¼ë¡œ ì´ìƒì¹˜ë¥¼ ëª°ì•„ë„£ìœ¼ë©´, <strong>Weightì˜ ê°’ì´ ì»¤ì§€ê³ , Weight ì–‘ìí™” ì‹œ ì˜¤ë¥˜ê°€ ì»¤ì§ˆ ê°€ëŠ¥ì„±</strong>ì´ ìˆìŒ.</li></ul><ul id="1b4451cf-7b79-8081-93d3-ca89be233641" class="bulleted-list"><li style="list-style-type:circle">ë”°ë¼ì„œ <strong>Weightë¥¼ 4-bitë¡œ ì–‘ìí™”í•  ê²½ìš° ì •ë³´ ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ</strong>.</li></ul></li></ul><hr id="1b4451cf-7b79-80d4-b6ae-c77a2e75b979"/><h3 id="1b4451cf-7b79-80a1-b032-fc72c2e78684" class=""><strong>2. AWQ (Activation-aware Weight Quantization, 2024) â€“ Weightì—ì„œ Activationìœ¼ë¡œ ì´ìƒì¹˜ ì´ë™</strong></h3><p id="1b4451cf-7b79-80a8-9004-e985dc396261" class="">AWQëŠ” <strong>Weightì˜ ì´ìƒì¹˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ Activationìœ¼ë¡œ ë¶„ì‚°ì‹œí‚¤ëŠ” ë°©ì‹</strong></p><ul id="1b4451cf-7b79-80bd-ada8-cdc20583b63e" class="bulleted-list"><li style="list-style-type:disc"><strong>ê¸°ì¡´ ë¬¸ì œ</strong><ul id="1b4451cf-7b79-804e-bc3a-c188a01173ac" class="bulleted-list"><li style="list-style-type:circle">SmoothQuant ë°©ì‹ì²˜ëŸ¼ ì´ìƒì¹˜ë¥¼ Weight ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚¤ë©´, Weightì˜ í¬ê¸°ê°€ ì»¤ì ¸ì„œ <strong>Weightë¥¼ 4-bitë¡œ ì–‘ìí™”í•  ë•Œ ì •ë³´ ì†ì‹¤ì´ ë°œìƒ</strong>í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§.</li></ul><ul id="1b4451cf-7b79-8023-903c-dceea34e4ec4" class="bulleted-list"><li style="list-style-type:circle">íŠ¹íˆ, Weightì— ì´ìƒì¹˜ê°€ ë§ìœ¼ë©´, <strong>ìŠ¤ì¼€ì¼ë§ì„ ì ìš©í•´ë„ ì–‘ìí™” ì˜¤ë¥˜ê°€ ì»¤ì§€ê³  ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ë¬¸ì œ</strong>ê°€ ë°œìƒ.</li></ul></li></ul><ul id="1b4451cf-7b79-8090-8d91-e5477b6ff3e6" class="bulleted-list"><li style="list-style-type:disc"><strong>í•´ê²° ë°©ë²•</strong><ul id="1b4451cf-7b79-80cd-9e1c-ddf74b1b0b0c" class="bulleted-list"><li style="list-style-type:circle">ëŒ€ì‹  <strong>Weightì—ì„œ Activationìœ¼ë¡œ ì¼ë¶€ ì´ìƒì¹˜ë¥¼ ì´ë™ì‹œì¼œì„œ, Weightê°€ ì–‘ìí™”ë  ë•Œ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”</strong>í•¨.</li></ul><ul id="1b4451cf-7b79-80bd-91cd-d05e819740ca" class="bulleted-list"><li style="list-style-type:circle">ì¦‰, ì¤‘ìš”í•œ Weight ê°’ì„ ë”°ë¡œ ë³´í˜¸í•˜ê³ , ë¶ˆí•„ìš”í•œ í° ê°’ì„ Activation ìª½ìœ¼ë¡œ ì´ë™ì‹œì¼œì„œ Weightë¥¼ ë” ê· ë“±í•œ ë¶„í¬ë¡œ ë§Œë“¤ë„ë¡ ì„¤ê³„.</li></ul></li></ul><ul id="1b4451cf-7b79-8061-832d-d0cc31a1e0ac" class="bulleted-list"><li style="list-style-type:disc"><strong>í•œê³„</strong><ul id="1b4451cf-7b79-80be-9f74-d007d93a0e3b" class="bulleted-list"><li style="list-style-type:circle">Activationì˜ ë¶„í¬ê°€ ë‹¤ì‹œ ë„“ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŒ â†’ <strong>Activationì„ ë‹¤ì‹œ 4-bitë¡œ ì–‘ìí™”í•  ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ</strong>.</li></ul></li></ul><hr id="1b4451cf-7b79-8002-96d5-f0c26ed3dad0"/><h3 id="1b4451cf-7b79-8002-a31f-fdb97d4588e9" class=""><strong>3. SVDQuant (2024) â€“ Outlierë¥¼ Low-Rank Componentë¡œ ì´ë™</strong></h3><p id="1b4451cf-7b79-80a5-b07b-d4011ec79379" class="">SVDQuantëŠ” SmoothQuantì™€ AWQì˜ ë¬¸ì œì ì„ ëª¨ë‘ í•´ê²°í•˜ë ¤ê³ , <strong>ì´ìƒì¹˜ë¥¼ ì´ë™ì‹œí‚¤ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ Low-Rank Componentë¡œ í¡ìˆ˜</strong>í•˜ëŠ” ë°©ì‹ì´ì•¼â€‹Li á„ƒá…³á†¼ - 2024 - SVDQuanâ€¦.</p><ul id="1b4451cf-7b79-807f-82f9-c8a3269df2f2" class="bulleted-list"><li style="list-style-type:disc"><strong>í•µì‹¬ ì•„ì´ë””ì–´</strong><ul id="1b4451cf-7b79-8001-b141-fe1d31d18503" class="bulleted-list"><li style="list-style-type:circle">SmoothQuantì²˜ëŸ¼ <strong>Activationì˜ ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™</strong>í•˜ë©´ì„œë„,</li></ul><ul id="1b4451cf-7b79-807f-89be-f56ed8145b38" class="bulleted-list"><li style="list-style-type:circle">AWQì²˜ëŸ¼ <strong>Weightì—ì„œ ë‹¤ì‹œ Activationìœ¼ë¡œ ì´ë™í•˜ëŠ” ëŒ€ì‹ , Low-Rank Componentë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥</strong>.</li></ul><ul id="1b4451cf-7b79-80c3-9eca-f8a91c74e236" class="bulleted-list"><li style="list-style-type:circle">ì¦‰, <strong>ì´ìƒì¹˜ë¥¼ ì–‘ìí™”í•˜ì§€ ì•Šê³ , 16-bit Low-Rank Componentë¡œ ìœ ì§€</strong>í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”.</li></ul></li></ul><ul id="1b4451cf-7b79-807e-9946-c1a25580c8e5" class="bulleted-list"><li style="list-style-type:disc"><strong>ì¥ì </strong><ul id="1b4451cf-7b79-80d6-bcac-d917aaf09579" class="bulleted-list"><li style="list-style-type:circle">SmoothQuantë‚˜ AWQì²˜ëŸ¼ <strong>í•œìª½ìœ¼ë¡œ ì´ìƒì¹˜ë¥¼ ëª°ì•„ë„£ì§€ ì•Šê³ , Low-Rank Branchê°€ ì´ìƒì¹˜ë¥¼ í¡ìˆ˜í•´ì„œ ì†ì‹¤ì„ ë§‰ìŒ</strong>.</li></ul><ul id="1b4451cf-7b79-804a-b08a-fb324a788156" class="bulleted-list"><li style="list-style-type:circle"><strong>Weightì™€ Activation ëª¨ë‘ ê· ë“±í•œ ë¶„í¬ë¥¼ ê°€ì§€ê²Œ ë˜ì–´, ì–‘ìí™” ì˜¤ë¥˜ê°€ ì¤„ì–´ë“¦</strong>.</li></ul><ul id="1b4451cf-7b79-80a5-b4ec-dfa95325b928" class="bulleted-list"><li style="list-style-type:circle">ì‹¤ì œ ì‹¤í—˜ì—ì„œë„ <strong>SmoothQuant, AWQë³´ë‹¤ 4-bit ì–‘ìí™”ì—ì„œ ì„±ëŠ¥ì´ ë›°ì–´ë‚¨</strong>.</li></ul></li></ul><hr id="1b4451cf-7b79-809c-b6c1-e62cc01ddd97"/><h3 id="1b4451cf-7b79-8021-8426-fe5be52ee107" class=""><strong>ê²°ë¡ </strong></h3><ul id="1b4451cf-7b79-806f-ae5f-c169e9987b6c" class="bulleted-list"><li style="list-style-type:disc"><strong>SmoothQuant</strong> â†’ <strong>Activationì˜ ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™</strong> (Weightì˜ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ)</li></ul><ul id="1b4451cf-7b79-80e6-9557-f0b75a091f7e" class="bulleted-list"><li style="list-style-type:disc"><strong>AWQ</strong> â†’ <strong>Weightì˜ ì´ìƒì¹˜ë¥¼ Activationìœ¼ë¡œ ì´ë™</strong> (Activationì˜ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ)</li></ul><ul id="1b4451cf-7b79-805a-85d9-dc3765f7950b" class="bulleted-list"><li style="list-style-type:disc"><strong>SVDQuant</strong> â†’ <strong>Weightì™€ Activationì—ì„œ Low-Rank Componentë¡œ ì´ë™</strong> (ì´ìƒì¹˜ ìì²´ë¥¼ ì œê±°í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”)</li></ul><p id="1b4451cf-7b79-8047-a453-cf8f26792a35" class="">ì¦‰, <strong>SmoothQuantê³¼ AWQëŠ” ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ Outlierë¥¼ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•˜ë ¤ê³  í–ˆë˜ ì ‘ê·¼ë²•</strong>, ë°˜ë©´ <strong>SVDQuantëŠ” Outlier ìì²´ë¥¼ Low-Rankë¡œ ë¹¼ë²„ë¦¬ëŠ” ë°©ì‹ì´ë¼ ì •ë³´ ì†ì‹¤ì´ ê°€ì¥ ì ìŒ</strong>.</p><p id="1b4451cf-7b79-80c1-b932-f1842c5e4c74" class=""> </p></div></details><p id="1b4451cf-7b79-8065-9f3f-f2f8ae9a15db" class=""> </p><p id="1b4451cf-7b79-803e-a0ef-fe7b52f25ec7" class=""> </p><p id="1b4451cf-7b79-80c0-b0a3-c337950d8bb4" class=""> </p><p id="1b4451cf-7b79-8041-ad53-eb95341fef1f" class=""> </p><p id="1b0451cf-7b79-80be-8bfd-f29d8f979a3a" class=""> </p><h1 id="1b0451cf-7b79-8044-8a33-e5b0a2de789b" class="">3 QUANTIZATION PRELIMINARY</h1><ul id="1b0451cf-7b79-803a-9411-c06a88960951" class="bulleted-list"><li style="list-style-type:disc"><strong>ì–‘ìí™”(Quantization)ì˜ ê¸°ë³¸ ê°œë…</strong><ul id="1b0451cf-7b79-80a0-af1c-def5b99aab1e" class="bulleted-list"><li style="list-style-type:circle">ë”¥ëŸ¬ë‹ì—ì„œ <strong>ì–‘ìí™”ëŠ” ì—°ì‚° ì†ë„ë¥¼ ë†’ì´ê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë°©ë²•</strong>.</li></ul><ul id="1b0451cf-7b79-80be-bad2-c2c53450132c" class="bulleted-list"><li style="list-style-type:circle">í…ì„œ Xë¥¼ ì–‘ìí™”í•˜ëŠ” ê³¼ì •:</li></ul><figure id="230451cf-7b79-8022-9a55-e16bc8d9e68c" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Q</mi><mi>X</mi></msub><mo>=</mo><mrow><mi mathvariant="normal">r</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">d</mi></mrow><mrow><mo fence="true">(</mo><mfrac><mi mathvariant="bold">X</mi><msub><mi>s</mi><mi>X</mi></msub></mfrac><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="1em"/><msub><mi>s</mi><mi>X</mi></msub><mo>=</mo><mfrac><mrow><mi>max</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi mathvariant="bold">X</mi><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><msub><mi>q</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">x</mi></mrow></msub></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex"> Q_X = \mathrm{round}\left( \frac{\mathbf{X}}{s_X} \right), \quad s_X = \frac{\max(|\mathbf{X}|)}{q_\mathrm{max}}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mord mathrm">round</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3631em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbf">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">max</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">max</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathbf">X</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div></figure></li></ul><ul id="1b0451cf-7b79-8031-89b4-d328625b67af" class="bulleted-list"><li style="list-style-type:disc">ì—¬ê¸°ì„œ QXâ€‹ëŠ” <strong>ì–‘ìí™”ëœ(low-bit) ê°’</strong>.</li></ul><ul id="1b0451cf-7b79-80a4-bfb9-d0ce5986f96e" class="bulleted-list"><li style="list-style-type:disc">sXëŠ” <strong>ìŠ¤ì¼€ì¼ë§ íŒ©í„°(Scaling Factor)</strong>.</li></ul><ul id="1b0451cf-7b79-80c1-95ce-cbddde2ab0a5" class="bulleted-list"><li style="list-style-type:disc">qmaxëŠ” <strong>ìµœëŒ€ ì–‘ìí™” ê°’</strong>(ë¹„íŠ¸ ìˆ˜ì— ë”°ë¼ ë‹¬ë¼ì§).</li></ul><ul id="1b0451cf-7b79-8050-b9ea-c1794215549e" class="bulleted-list"><li style="list-style-type:disc"><strong>4ë¹„íŠ¸ ë¶€ë™ì†Œìˆ˜ì  ì–‘ìí™”(4-bit FP)ì—ì„œëŠ” qmax=6ì„.</strong></li></ul><ul id="1b0451cf-7b79-80c5-9775-c634072f35ae" class="bulleted-list"><li style="list-style-type:disc"><strong>ì–‘ìí™”ëœ í–‰ë ¬ ì—°ì‚°</strong><ul id="1b0451cf-7b79-8057-ac15-ff08b78dcf7b" class="bulleted-list"><li style="list-style-type:circle">ì„ í˜• ê³„ì¸µ(Linear Layer)ì—ì„œ ì…ë ¥ Xì™€ ê°€ì¤‘ì¹˜ Wê°€ ìˆì„ ë•Œ, ì—°ì‚°ì„ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ ê·¼ì‚¬:<figure id="230451cf-7b79-8098-9aa3-e93ba3381b72" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>â‰ˆ</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>s</mi><mi>X</mi></msub><msub><mi>s</mi><mi>W</mi></msub><mo>â‹…</mo><msub><mi>Q</mi><mi>X</mi></msub><msub><mi>Q</mi><mi>W</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathbf{XW} \approx Q(\mathbf{X}) Q(\mathbf{W}) = s_X s_W \cdot Q_X Q_W.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></figure></li></ul><ul id="1b0451cf-7b79-80ae-a8cd-f7b262009888" class="bulleted-list"><li style="list-style-type:circle">ì¦‰, ì–‘ìí™”ëœ í…ì„œë¼ë¦¬ ì—°ì‚°í•œ í›„, ìŠ¤ì¼€ì¼ë§ íŒ©í„° sXâ€‹sWâ€‹ë¥¼ ê³±í•˜ì—¬ ë‹¤ì‹œ ì›ë˜ ê°’ì— ê°€ê¹ê²Œ ë³µì›í•¨.</li></ul></li></ul><ul id="1b0451cf-7b79-80d1-b052-dcecf991c379" class="bulleted-list"><li style="list-style-type:disc"><strong>GPUì—ì„œ ê°™ì€ ë¹„íŠ¸í­(bit width)ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ </strong><ul id="1b0451cf-7b79-80ca-a560-dcfe04717a2d" class="bulleted-list"><li style="list-style-type:circle"><strong>ìµœì‹  GPUì—ì„œëŠ” ì…ë ¥(QX)ê³¼ ê°€ì¤‘ì¹˜(QW)ì˜ ë¹„íŠ¸ ìˆ˜ê°€ ë™ì¼í•´ì•¼ ì—°ì‚° ì†ë„ê°€ í–¥ìƒë¨.</strong></li></ul><ul id="1b0451cf-7b79-8064-b178-cb87f94b9d25" class="bulleted-list"><li style="list-style-type:circle"><strong>ë§Œì•½ QXì™€ QWì˜ ë¹„íŠ¸ ìˆ˜ê°€ ë‹¤ë¥´ë©´, ë” ë†’ì€ ë¹„íŠ¸ ê°’ìœ¼ë¡œ ë³€í™˜(upcast)ë˜ë©´ì„œ ì†ë„ ì´ì ì´ ì‚¬ë¼ì§.</strong></li></ul><ul id="1b0451cf-7b79-803f-89f6-d98f8324518e" class="bulleted-list"><li style="list-style-type:circle">ì˜ˆ:<ul id="1b0451cf-7b79-8018-b775-ebf6f856d63c" class="bulleted-list"><li style="list-style-type:square"><strong>ê°€ì¤‘ì¹˜(W)ë¥¼ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”(W4)í–ˆì§€ë§Œ, í™œì„±í™”ê°’(X)ì´ 16ë¹„íŠ¸(A16)ë¼ë©´?</strong><br/>â†’ <br/><strong>ì—°ì‚° ì‹œ W4ê°€ A16ìœ¼ë¡œ ì—…ìºìŠ¤íŠ¸(Upcast)ë˜ì–´ ì‹¤ì œ ì†ë„ í–¥ìƒì´ ì—†ìŒ.</strong><br/>â†’ ë”°ë¼ì„œ, <br/><strong>W4A4(ê°€ì¤‘ì¹˜ 4ë¹„íŠ¸, í™œì„±í™”ê°’ 4ë¹„íŠ¸) ì¡°í•©ì´ ìµœì í™”ëœ ë°©ì‹.</strong></li></ul></li></ul></li></ul><ul id="1b0451cf-7b79-809e-906f-f440c7bf5295" class="bulleted-list"><li style="list-style-type:disc"><strong>W4A4 ì–‘ìí™”ì—ì„œì˜ ë¬¸ì œì : Outlier(ì´ìƒì¹˜)</strong><ul id="1b0451cf-7b79-80be-bb29-e1c5518f7f7d" class="bulleted-list"><li style="list-style-type:circle"><strong><span style="border-bottom:0.05em solid">Diffusion ëª¨ë¸ì—ì„œëŠ” ê°€ì¤‘ì¹˜(W)ì™€ í™œì„±í™”ê°’(X) ì–‘ìª½ì—ì„œ Outlier(ê·¹ë‹¨ì ì¸ ê°’)ê°€ ë§ì´ ë°œìƒ</span></strong><strong>í•¨.</strong></li></ul><ul id="1b0451cf-7b79-8072-9e8b-f717c17fd530" class="bulleted-list"><li style="list-style-type:circle"><strong>Outlierê°€ ë§ìœ¼ë©´ ì–‘ìí™” í›„ í’ˆì§ˆì´ í¬ê²Œ ì €í•˜ë¨.</strong></li></ul><ul id="1b0451cf-7b79-80a2-8b1b-d1c39503f15c" class="bulleted-list"><li style="list-style-type:circle">ê¸°ì¡´ í•´ê²° ë°©ë²•:<ol type="1" id="1b0451cf-7b79-80da-b3d7-e72c02fd8a47" class="numbered-list" start="1"><li><strong>Quantization-Aware Training (QAT)</strong><ul id="1b0451cf-7b79-80c0-94fd-c1236f62165b" class="bulleted-list"><li style="list-style-type:disc"><strong>ì–‘ìí™”ë¥¼ ê³ ë ¤í•˜ì—¬ ëª¨ë¸ì„ í›ˆë ¨í•˜ëŠ” ë°©ì‹.</strong></li></ul><ul id="1b0451cf-7b79-80ba-a0b4-dc239e4583f2" class="bulleted-list"><li style="list-style-type:disc"><strong>í•˜ì§€ë§Œ, 100ì–µ ê°œ ì´ìƒì˜ ë§¤ê°œë³€ìˆ˜(ì˜ˆ: FLUX.1 ëª¨ë¸)ë¥¼ ì¡°ì •í•˜ë ¤ë©´ ê³„ì‚° ë¹„ìš©ì´ ë§¤ìš° í¼.</strong></li></ul></li></ol><ol type="1" id="1b0451cf-7b79-800f-8b55-c2d6731d8775" class="numbered-list" start="2"><li><strong>Rotation ê¸°ë²•</strong> (Ashkboos et al., 2024; Liu et al., 2024c)<ul id="1b0451cf-7b79-806d-9024-de1c2a7eca45" class="bulleted-list"><li style="list-style-type:disc"><strong>ê°€ì¤‘ì¹˜ì™€ í™œì„±í™”ê°’ì„ íšŒì „(rotation)í•˜ì—¬ Outlierë¥¼ ì¤„ì´ëŠ” ë°©ë²•.</strong></li></ul><ul id="1b0451cf-7b79-8061-a4cc-c78e3556a1d9" class="bulleted-list"><li style="list-style-type:disc"><strong>í•˜ì§€ë§Œ, Diffusion ëª¨ë¸ì˜ &quot;Adaptive Normalization Layer&quot;ì—ì„œëŠ” ì ìš©ì´ ì–´ë ¤ì›€.</strong></li></ul><ul id="1b0451cf-7b79-808c-b886-edb6888d8679" class="bulleted-list"><li style="list-style-type:disc">ì´ìœ :<ul id="1b0451cf-7b79-80c1-8ecc-fa11cd0eaf02" class="bulleted-list"><li style="list-style-type:circle">Adaptive Normalizationì€ <strong>ì‹¤í–‰ ì‹œê°„(runtime) ì¤‘ì— ìƒˆë¡œìš´ ê°€ì¤‘ì¹˜ë¥¼ ìƒì„±</strong>.</li></ul><ul id="1b0451cf-7b79-803f-b8e2-ed068f7059a3" class="bulleted-list"><li style="list-style-type:circle">ë”°ë¼ì„œ, <strong>ì‚¬ì „ ê³„ì‚°ëœ íšŒì „ í–‰ë ¬ì„ ì ìš©í•  ìˆ˜ ì—†ìŒ.</strong></li></ul><ul id="1b0451cf-7b79-80ca-8aac-e17d04732e11" class="bulleted-list"><li style="list-style-type:circle"><strong>ì‹¤í–‰ ì‹œê°„ì— íšŒì „ì„ ì ìš©í•˜ë©´ ì—°ì‚°ëŸ‰ì´ ì¦ê°€í•˜ì—¬ ì†ë„ê°€ ëŠë ¤ì§.</strong></li></ul></li></ul></li></ol></li></ul></li></ul><p id="1b0451cf-7b79-8096-a589-d7c6648b3890" class=""> </p><figure class="block-color-yellow_background callout" style="white-space:pre-wrap;display:flex" id="1b4451cf-7b79-8085-8ee5-e934e7c60ee7"><div style="font-size:1.5em"><span class="icon">ğŸ“¢</span></div><div style="width:100%"><strong>ì´ìƒì¹˜(Outlier)ê°€ ìˆìœ¼ë©´ ì–´ë–»ê²Œ ì„±ëŠ¥ì´ ì €í•˜ë ê¹Œ?</strong><h3 id="1b4451cf-7b79-80fe-94e7-d6c1c716309f" class=""><strong>1. ìŠ¤ì¼€ì¼ë§ íŒ©í„° ë¬¸ì œ</strong></h3><ul id="1b4451cf-7b79-804f-a6ef-c5755d9d2b88" class="bulleted-list"><li style="list-style-type:disc">ì–‘ìí™”ëŠ” ë°ì´í„°ì˜ ì „ì²´ ë²”ìœ„(min-max)ë¥¼ ê³ ë ¤í•´ì„œ ê°’ì„ ì¡°ì •í•´ì•¼ í•˜ëŠ”ë°, ì´ìƒì¹˜ê°€ ìˆìœ¼ë©´ <strong>ìŠ¤ì¼€ì¼ë§ íŒ©í„°ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì»¤ì§</strong>.</li></ul><ul id="1b4451cf-7b79-803f-8271-f348b513a8c1" class="bulleted-list"><li style="list-style-type:disc">ëŒ€ë¶€ë¶„ì˜ ê°’ì€ ì‘ì€ ë²”ìœ„ì— ëª°ë ¤ ìˆëŠ”ë°, <strong>í•œë‘ ê°œì˜ í° ê°’(ì´ìƒì¹˜) ë•Œë¬¸ì— ìŠ¤ì¼€ì¼ì´ ì»¤ì§€ë©´ ì‘ì€ ê°’ë“¤ì´ ëª¨ë‘ 0 ë˜ëŠ” ë™ì¼í•œ ê°’ìœ¼ë¡œ ë§¤í•‘ë˜ëŠ” ë¬¸ì œ</strong>ê°€ ìƒê²¨.<strong>ì˜ˆì œ:</strong><ul id="1b4451cf-7b79-80e1-9641-f5c7aebfdfd3" class="bulleted-list"><li style="list-style-type:circle">ì›ë˜ ê°€ì¤‘ì¹˜ ê°’: <code>[-0.1, -0.05, 0.0, 0.05, 0.1, 5.0]</code> (ì´ìƒì¹˜: 5.0)</li></ul><ul id="1b4451cf-7b79-807a-ab6f-c30c289a5090" class="bulleted-list"><li style="list-style-type:circle">ì´ìƒì¹˜ê°€ ì—†ì„ ë•Œ: <code>s_X = 0.1</code>, ë²”ìœ„ë¥¼ <code>[-8, 7]</code>ë¡œ ë§¤í•‘ ê°€ëŠ¥</li></ul><ul id="1b4451cf-7b79-803b-b3b5-ea43c717abf0" class="bulleted-list"><li style="list-style-type:circle">ì´ìƒì¹˜(5.0)ê°€ í¬í•¨ë  ë•Œ: <code>s_X = 5.0</code>, ì‘ì€ ê°’ë“¤ì€ ëª¨ë‘ 0ì´ ë˜ì–´ ì •ë³´ ì†ì‹¤ ë°œìƒ</li></ul></li></ul><h3 id="1b4451cf-7b79-8094-9ce0-d5349afe65d2" class=""><strong>2. ì •ë³´ ì†ì‹¤ (Precision Loss)</strong></h3><ul id="1b4451cf-7b79-80eb-95cd-c068a96a92d7" class="bulleted-list"><li style="list-style-type:disc">ì´ìƒì¹˜ë¥¼ ê³ ë ¤í•´ ì „ì²´ ê°’ì„ ì¡°ì •í•˜ë©´, ë‚˜ë¨¸ì§€ ëŒ€ë¶€ë¶„ì˜ ê°’ì´ <strong>ë§¤ìš° ì‘ì€ ì°¨ì´ë¥¼ ê°€ì§€ëŠ”ë°ë„ ë™ì¼í•œ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ í‘œí˜„</strong>ë  ê°€ëŠ¥ì„±ì´ ë†’ì•„.</li></ul><ul id="1b4451cf-7b79-8030-af7b-f405bbc7cb00" class="bulleted-list"><li style="list-style-type:disc">ì¦‰, <strong>ëª¨ë¸ì´ ì‘ì€ ë³€í™”(gradient ë“±)ë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•˜ê³  í‘œí˜„ë ¥ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§</strong>.</li></ul><h3 id="1b4451cf-7b79-80ac-ae9d-fb3363b903fa" class=""><strong>3. í™œì„±í™”(Activation) ì´ìƒì¹˜ë¡œ ì¸í•´ ì—°ì‚°ëŸ‰ ì¦ê°€</strong></h3><ul id="1b4451cf-7b79-805f-bd60-fb3d7522aa91" class="bulleted-list"><li style="list-style-type:disc">ì´ìƒì¹˜ê°€ ìˆìœ¼ë©´ ì–‘ìí™”ëœ ê°’ì„ ë‹¤ì‹œ ë¶€ë™ì†Œìˆ˜ì ìœ¼ë¡œ ë³€í™˜í•  ë•Œ <strong>FP32(32-bit)ë¡œ ë³€í™˜í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„</strong>, ê²°êµ­ ì—°ì‚° ìµœì í™”ê°€ ê¹¨ì§.</li></ul><ul id="1b4451cf-7b79-8001-8d79-c6384bfb4404" class="bulleted-list"><li style="list-style-type:disc">íŠ¹íˆ Transformer ê¸°ë°˜ ëª¨ë¸ì—ì„œëŠ” Self-Attention ì—°ì‚°ì´ í¬ê¸° ë•Œë¬¸ì— <strong>í™œì„±í™”ê°’(Activation)ì˜ ì´ìƒì¹˜ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ê³¼ ì—°ì‚°ëŸ‰ ì¦ê°€ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ</strong>.</li></ul> </div></figure><h1 id="1b0451cf-7b79-80b7-93aa-de0c77515d05" class="">4 Method</h1><p id="1b4451cf-7b79-80cf-b998-e21b580b4344" class=""> </p><h2 id="1b4451cf-7b79-8054-a2e2-fe6883e5e369" class="">4.1 PROBLEM FORMULATION</h2><p id="1b5451cf-7b79-8063-8579-df66165101b7" class="">ì–‘ìí™”ì˜ ì˜¤ë¥˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë¨.</p><figure id="230451cf-7b79-8043-8fab-e37f5ec6c2f5" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mrow><mo fence="true">âˆ¥</mo><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">E(\mathbf{X}, \mathbf{W}) = \left\| \mathbf{XW} - Q(\mathbf{X}) Q(\mathbf{W}) \right\|_F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span></span></span></span></span></div></figure><p id="1b5451cf-7b79-80eb-82da-e0b53f626858" class="">ì›ë˜ í–‰ë ¬ ê³±ì…ˆ XWì™€ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ ì—°ì‚°í•œ Q(X)Q(W)ì˜ ì°¨ì´ë¥¼ ì¸¡ì •í•˜ëŠ” ê°’</p><p id="1b5451cf-7b79-80c5-a6c4-d376626e90d8" class=""> </p><p id="1b5451cf-7b79-80a7-8b1d-d812b025cb02" class="">ì¢€ ë” ì„¸ë¶„í™”</p><figure id="230451cf-7b79-8008-a2b3-da9fc1f9849a" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>â‰¤</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">X</mi><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">W</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>+</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">X</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mrow><mo fence="true">(</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">W</mi><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>+</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">W</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">E(\mathbf{X}, \mathbf{W}) \leq \left\| \mathbf{X} \right\|_F \left\| \mathbf{W} - Q(\mathbf{W}) \right\|_F+ \left\| \mathbf{X} - Q(\mathbf{X}) \right\|_F \left( \left\| \mathbf{W} \right\|_F + \left\| \mathbf{W} - Q(\mathbf{W}) \right\|_F \right).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf">X</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">.</span></span></span></span></span></div></figure><p id="230451cf-7b79-80e8-90b1-edd1fb51bd9c" class="">ì´ ì‹ì€ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ê²°ì •í•˜ëŠ” ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ë³´ì—¬ì¤Œ:</p><ol type="1" id="230451cf-7b79-802d-b873-c1464c5d82b3" class="numbered-list" start="1"><li>ê°€ì¤‘ì¹˜ì˜ í¬ê¸°: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{W}\|_F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol><ol type="1" id="230451cf-7b79-8002-8576-d196c21a1266" class="numbered-list" start="2"><li>ì…ë ¥ì˜ í¬ê¸°: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">X</mi><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{X}\|_F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf">X</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol><ol type="1" id="230451cf-7b79-80df-967e-e26f603c38f8" class="numbered-list" start="3"><li>ê°€ì¤‘ì¹˜ì˜ ì–‘ìí™” ì˜¤ë¥˜: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">W</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{W} - Q(\mathbf{W})\|_F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol><ol type="1" id="230451cf-7b79-8051-b5ce-f3ea1ab7182a" class="numbered-list" start="4"><li>ì…ë ¥ì˜ ì–‘ìí™” ì˜¤ë¥˜: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">X</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{X} - Q(\mathbf{X})\|_F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol><p id="230451cf-7b79-808c-9b26-edd884dc2e77" class="">ì¦‰, ì „ì²´ì ì¸ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ë ¤ë©´ ì´ ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ì¡°ì ˆí•˜ëŠ” ê²ƒì´ í•µì‹¬ì„.</p><p id="1b5451cf-7b79-801c-b016-f87be0a50e7e" class=""> </p><p id="1b5451cf-7b79-8013-a4f5-d943e040ae3d" class=""> </p><h2 id="1b4451cf-7b79-80fd-b19f-d41847604e12" class="">4.2 SVDQUANT: ABSORBING OUTLIERS VIA LOW-RANK BRANCH</h2><hr id="1b4451cf-7b79-803d-930f-ed86b403b9d8"/><h3 id="1b4451cf-7b79-8071-8cb0-d42a6cd514bc" class="">Migrate outliers from activation to weight</h3><figure id="1b4451cf-7b79-8084-9053-da5bac137308" class="image"><a href="/files/2025-03-06-svdquant/image%205.webp"><img style="width:709.984375px" src="/files/2025-03-06-svdquant/image%205.webp"/></a></figure><p id="1b4451cf-7b79-80d2-a144-da65900cc7b1" class="">After Smoothing ë¶€ë¶„ì´ ê¸°ì¡´ ê¸°ë²•ì¸ë°, ë‹¨ì ì´ ìˆìŒ</p><ul id="1b5451cf-7b79-80d0-a5f5-f5a34450beae" class="bulleted-list"><li style="list-style-type:disc">âœ… <strong>Activation(X)ì˜ ì´ìƒì¹˜ë¥¼ ì—†ì• ëŠ” ê²ƒì€ ì„±ê³µí–ˆì§€ë§Œ</strong>,</li></ul><ul id="1b5451cf-7b79-8048-86c2-d18bbad1a64d" class="bulleted-list"><li style="list-style-type:disc">âŒ <strong>ëŒ€ì‹  Weight(W)ì˜ ì´ìƒì¹˜ê°€ ì¦ê°€í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ</strong>.</li></ul><ul id="1b5451cf-7b79-80f2-8ef2-d9e907c8ae82" class="bulleted-list"><li style="list-style-type:disc">ê²°ê³¼ì ìœ¼ë¡œ, <strong>ì „ì²´ì ì¸ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ì¤„ì´ë ¤ëŠ” ëª©ì ì´ ì œëŒ€ë¡œ ë‹¬ì„±ë˜ì§€ ì•ŠìŒ</strong>.</li></ul><p id="1b5451cf-7b79-806f-846b-e2b09fa70859" class=""> </p><h3 id="1b5451cf-7b79-8041-8c84-ecfc5e5922cb" class="block-color-yellow_background">Absorb magnified weight outliers with a low-rank branch.</h3><p id="1b5451cf-7b79-80a3-b791-c78e79c2de89" class=""><strong>Weightë¥¼ ë°”ë¡œ 4-bitë¡œ ì–‘ìí™”í•˜ì§€ ì•Šê³ , Low-Rank Componentë¥¼ ë”°ë¡œ ë¶„ë¦¬í•´ì„œ ì´ìƒì¹˜ë¥¼ í¡ìˆ˜</strong>í•˜ëŠ” ì „ëµ</p><figure id="230451cf-7b79-805b-897f-d8da2bf251a2" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>=</mo><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mi mathvariant="bold">R</mi><mo separator="true">,</mo><mspace width="1em"/><mtext>whereÂ </mtext><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>Ã—</mo><mi>r</mi></mrow></msup><mtext>Â andÂ </mtext><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>r</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\hat{\mathbf{W}} = \mathbf{L}_1 \mathbf{L}_2 + \mathbf{R}, \quad \text{where } \mathbf{L}_1 \in \mathbb{R}^{m \times r} \text{ and } \mathbf{L}_2 \in \mathbb{R}^{r \times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathbf">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">whereÂ </span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9713em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord">Â andÂ </span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8213em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure><ul id="230451cf-7b79-80b9-9d0e-fff90f606f5f" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><mo>=</mo><mi mathvariant="bold">U</mi><msub><mi mathvariant="bold">Î£</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{L}_1 = \mathbf{U} \boldsymbol{\Sigma}_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord mathbf">U</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">Î£</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (ì…ë ¥ ì°¨ì›ì„ ì¤„ì´ëŠ” í–‰ë ¬)</li></ul><ul id="230451cf-7b79-8053-a6fc-f2129b01bfba" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>=</mo><msubsup><mi mathvariant="bold">V</mi><mi>r</mi><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathbf{L}_2 = \mathbf{V}_r^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0883em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.016em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (ì¶œë ¥ ì°¨ì›ì„ ì¤„ì´ëŠ” í–‰ë ¬)</li></ul><ul id="230451cf-7b79-8023-99df-c3823aa2be6c" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">R</mi></mrow><annotation encoding="application/x-tex">\mathbf{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">R</span></span></span></span></span><span>ï»¿</span></span> (ì”ì—¬ í–‰ë ¬, 4-bitë¡œ ì–‘ìí™”ë  ë¶€ë¶„)</li></ul><p id="1b5451cf-7b79-806a-a32d-d8f6b89e23ca" class=""> </p><h3 id="1b9451cf-7b79-80f9-a6a0-ebdb6cb7faac" class="">SVD(Singular Value Decomposition, íŠ¹ì´ê°’ ë¶„í•´)</h3><ul id="1b5451cf-7b79-8064-a4f7-cf2ec265d91f" class="bulleted-list"><li style="list-style-type:disc">ì›ë˜ í–‰ë ¬ í¬ê¸°ê°€ mÃ—nì´ë©´, ì§ì ‘ ê³±í•˜ë©´ ì—°ì‚°ëŸ‰ì´ <strong>O(mn)</strong>.</li></ul><ul id="1b5451cf-7b79-8023-aa46-f31fbbc72d66" class="bulleted-list"><li style="list-style-type:disc">í•˜ì§€ë§Œ SVDë¡œ Rank rë§Œ ìœ ì§€í•˜ë©´ <strong>ì—°ì‚°ëŸ‰ì´ O(mr+rn)ë¡œ ì¤„ì–´ë“¦</strong>.</li></ul><ul id="230451cf-7b79-808c-9dd2-f22f62a99ef8" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">U</mi></mrow><annotation encoding="application/x-tex">\mathbf{U}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">U</span></span></span></span></span><span>ï»¿</span></span>: ì…ë ¥ ì°¨ì› ë³€í™˜ í–‰ë ¬ <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>m</mi><mo>Ã—</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(m \times m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span></li></ul><ul id="230451cf-7b79-802e-866d-e598773e5ecf" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">Î£</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{\Sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">Î£</span></span></span></span></span></span></span><span>ï»¿</span></span>: ëŒ€ê° í–‰ë ¬ (íŠ¹ì´ê°’ë“¤ì´ ë“¤ì–´ ìˆëŠ” í–‰ë ¬, <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span><span>ï»¿</span></span>)</li></ul><ul id="230451cf-7b79-80a1-8865-d9389f2ca5a9" class="bulleted-list"><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">V</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\mathbf{V}^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>: ì¶œë ¥ ì°¨ì› ë³€í™˜ í–‰ë ¬ <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>Ã—</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n \times n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span></li></ul><p id="230451cf-7b79-80b8-9234-c1c29c6210ba" class=""> </p><p id="1b9451cf-7b79-8070-b01a-dba731140a46" class=""> í¬ì¸íŠ¸ëŠ” ëŒ€ê° ì›ì†Œ(íŠ¹ì´ê°’, Singular Values)</p><ul id="1b9451cf-7b79-803d-9ac5-dc82d55eef83" class="bulleted-list"><li style="list-style-type:disc"><strong>í° íŠ¹ì´ê°’ë“¤ì€ ì¤‘ìš”í•œ ì •ë³´(íŒ¨í„´)ë¥¼ ë‚˜íƒ€ëƒ„</strong>.</li></ul><ul id="1b9451cf-7b79-80c5-8538-dd97452dbdbf" class="bulleted-list"><li style="list-style-type:disc"><strong>ì‘ì€ íŠ¹ì´ê°’ë“¤ì€ ë…¸ì´ì¦ˆ(ì´ìƒì¹˜ í¬í•¨)ë¥¼ ë‚˜íƒ€ë‚¼ ê°€ëŠ¥ì„±ì´ ë†’ìŒ</strong>.</li></ul><p id="1b9451cf-7b79-80f1-8f7b-ebea3afbdaa7" class=""> </p><h3 id="1b9451cf-7b79-80bf-8f75-ed07a8408afc" class="">Low-Rank ë¶„í•´ </h3><p id="230451cf-7b79-800a-9eeb-f771f9be4692" class=""><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mi mathvariant="bold">R</mi><mo>â‰ˆ</mo><munder><munder><mrow><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub></mrow><mo stretchy="true">âŸ</mo></munder><mtext>16-bitÂ low-rankÂ branch</mtext></munder><mo>+</mo><munder><munder><mrow><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">âŸ</mo></munder><mtext>4-bitÂ residual</mtext></munder><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathbf{XW} = \hat{\mathbf{X}} \hat{\mathbf{W}} = \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + \hat{\mathbf{X}} \mathbf{R}\approx \underbrace{\hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2}_{\text{16-bit low-rank branch}}+ \underbrace{Q(\hat{\mathbf{X}}) Q(\mathbf{R})}_{\text{4-bit residual}}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0995em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord mathbf">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4337em;vertical-align:-1.4841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.5159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">16-bitÂ low-rankÂ branch</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.202em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.798em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4841em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5337em;vertical-align:-1.5841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">4-bitÂ residual</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5841em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span><span>ï»¿</span></span></p><p id="1b9451cf-7b79-808c-b9c0-cb57b5a305e6" class=""><mark class="highlight-yellow_background"><strong>ëŒ€ê° ì›ì†Œ ì¤‘ì—ì„œ ìƒìœ„ rê°œì˜ íŠ¹ì´ê°’ë§Œ ìœ ì§€</strong></mark><strong>í•˜ì—¬, ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´ë§Œ í¬í•¨í•˜ëŠ” L1,L2ë¥¼ ìƒì„±. </strong></p><p id="1b9451cf-7b79-806e-a1d7-d18db5ec03f3" class=""><strong>â†’ ë”°ë¡œ 16-bit ì—°ì‚°</strong></p><p id="1b9451cf-7b79-8045-88fa-c4f5633418b3" class=""><mark class="highlight-yellow_background"><strong>ë‚¨ì€ ë¶€ë¶„(ì‘ì€ íŠ¹ì´ê°’)</strong></mark><strong> â†’ Rìœ¼ë¡œ ë¶„ë¦¬ </strong></p><p id="1b9451cf-7b79-8087-8635-fb1ab461f555" class=""><strong>â†’ 4-bit ì—°ì‚°</strong></p><p id="1b9451cf-7b79-804b-82ac-f9668ecca85d" class=""> </p><p id="1b9451cf-7b79-8031-afcc-dcf955a24738" class="">â†’ ì‘ì€ íŠ¹ì´ê°’ë§Œ ë‚¨ì•˜ìœ¼ë¯€ë¡œ Rì„ <strong>4-bitë¡œ ì–‘ìí™”í•˜ë”ë¼ë„ ì •ë³´ ì†ì‹¤ì´ í¬ê²Œ ì¤„ì–´ë“¦</strong></p><p id="1b9451cf-7b79-80ea-9676-f298086a02f3" class=""> </p><p id="1b4451cf-7b79-80bd-9072-cf28b76dcc8c" class=""> </p><h2 id="1b4451cf-7b79-80a9-8bd2-e53684d44a92" class="">4.3 NUNCHAKU: Fusing Low-Rank and Low-Bit Branch Kernels</h2><figure id="1b4451cf-7b79-80c6-9315-d2f2b998bf78" class="image"><a href="/files/2025-03-06-svdquant/image%206.webp"><img style="width:709.9921875px" src="/files/2025-03-06-svdquant/image%206.webp"/></a></figure><hr id="1b4451cf-7b79-805c-98bf-dd5f162d3829"/><h3 id="1b4451cf-7b79-8020-8142-d7133e5e1aa9" class=""><strong>Low-Rank Branchì—ì„œ ë°œìƒí•˜ëŠ” ì„±ëŠ¥ ì €í•˜ ë¬¸ì œ</strong></h3><ul id="1b4451cf-7b79-801b-9e26-eda745a7017c" class="bulleted-list"><li style="list-style-type:disc"><strong>QKV Projectionê³¼ ê°™ì€ ì—°ì‚°ì—ì„œëŠ” Low-Rank Branchê°€ L2 ìºì‹œë¥¼ ì´ˆê³¼í•˜ë©´ì„œ DRAMì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•¨</strong>.</li></ul><ul id="1b4451cf-7b79-8001-8b02-ec5e1da8f2e8" class="bulleted-list"><li style="list-style-type:disc">ì´ëŠ” <strong>ë©”ëª¨ë¦¬ ì ‘ê·¼ ë¹„ìš©ì´ ì¦ê°€í•˜ì—¬ ì—°ì‚° ì†ë„ê°€ ë–¨ì–´ì§€ëŠ” ì›ì¸</strong>.</li></ul><ul id="1b4451cf-7b79-8014-86f7-f53ae21c2d7c" class="bulleted-list"><li style="list-style-type:disc"><strong>Figure 6(a)ì—ì„œ ë³´ë“¯ì´, Low-Rank BranchëŠ” ì „ì²´ 4-bit ì—°ì‚° ì§€ì—°ì˜ 50%ë¥¼ ì°¨ì§€</strong>.</li></ul><hr id="1b4451cf-7b79-8034-9f73-cadb388dcc08"/><h3 id="1b4451cf-7b79-80f4-b396-f14e1b10f544" class=""><strong>NUNCHAKU: í•´ê²° ë°©ë²•</strong></h3><ul id="1b4451cf-7b79-80e5-9b08-df1ed98d4802" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">ë…¼ë¬¸ì—ì„œëŠ” </mark><mark class="highlight-orange_background"><strong>Low-Rank Branchì™€ Low-Bit Branchì˜ ì—°ì‚°ì„ í•˜ë‚˜ë¡œ í•©ì³(fusing) ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì¤„ì´ëŠ” ë°©ë²•ì„ ì œì•ˆ</strong></mark><mark class="highlight-orange_background">.</mark></li></ul><ul id="1b4451cf-7b79-8040-9f97-f897c659eee9" class="bulleted-list"><li style="list-style-type:disc"><strong>Figure 6(b)ì—ì„œ ë³´ë“¯ì´, ë‘ ê°œì˜ Kernelì„ í•©ì³ì„œ ë°ì´í„°ë¥¼ ê³µìœ í•¨</strong>:<ol type="1" id="1b4451cf-7b79-8065-a3fc-c7ad225403dc" class="numbered-list" start="1"><li><strong>Down Projection ì—°ì‚°ì„ Quantization Kernelê³¼ í•©ì¹¨</strong>.</li></ol><ol type="1" id="1b4451cf-7b79-805d-8fad-da3447dd9db0" class="numbered-list" start="2"><li><strong>Up Projection ì—°ì‚°ì„ 4-bit ì—°ì‚° Kernelê³¼ í•©ì¹¨</strong>.</li></ol></li></ul><ul id="1b4451cf-7b79-80cc-989b-f3f2fb17990b" class="bulleted-list"><li style="list-style-type:disc">ì´ë¥¼ í†µí•´ <strong>Low-Rank Branchê°€ Low-Bit Branchì™€ í™œì„±í™”ê°’ì„ ê³µìœ í•  ìˆ˜ ìˆì–´, ì¶”ê°€ì ì¸ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì œê±°</strong>.</li></ul><ul id="1b4451cf-7b79-80db-a8f1-d827859a6703" class="bulleted-list"><li style="list-style-type:disc">ê²°ê³¼ì ìœ¼ë¡œ, <strong>Kernel í˜¸ì¶œ íšŸìˆ˜ê°€ ì ˆë°˜ìœ¼ë¡œ ì¤„ì–´ë“¤ì–´ ì†ë„ ê°œì„  íš¨ê³¼ê°€ ìˆìŒ</strong>.</li></ul><p id="1b4451cf-7b79-8034-8a61-ebb13c9dbf45" class=""> </p><p id="1b4451cf-7b79-80b1-b8fd-eea92e48f82b" class=""> </p><p id="1b4451cf-7b79-8033-8767-e918cb5b1aef" class=""> </p><p id="1b0451cf-7b79-800d-99d2-e6580a457e9f" class=""> </p><h1 id="1b0451cf-7b79-800c-a182-fe595644a631" class="">5 Experiments</h1><h3 id="1b9451cf-7b79-805f-91df-eef69e1b0c6b" class="">Benchmark models</h3><table id="1b9451cf-7b79-80ae-8b87-da042df55667" class="simple-table"><tbody><tr id="1b9451cf-7b79-8030-a28d-faec444a75d8"><td id="aUJ|" class="">Model</td><td id="LJ;p" class="">Architecture</td><td id="m]Yg" class="">Parameters</td><td id="?hTZ" class="">Special Features</td></tr><tr id="1b9451cf-7b79-80bc-9d21-cad69757e339"><td id="aUJ|" class="">FLUX.1-dev</td><td id="LJ;p" class="">DiT</td><td id="m]Yg" class="">12B</td><td id="?hTZ" class="">50-step guidance-distilled</td></tr><tr id="1b9451cf-7b79-8022-88d2-c16c2e358ced"><td id="aUJ|" class="">FLUX.1-schnell</td><td id="LJ;p" class="">DiT</td><td id="m]Yg" class="">12B</td><td id="?hTZ" class="">4-step timestep-distilled</td></tr><tr id="1b9451cf-7b79-804f-98b1-e428f888fbd7"><td id="aUJ|" class="">PixArt-Î£</td><td id="LJ;p" class="">DiT</td><td id="m]Yg" class="">600M</td><td id="?hTZ" class="">20-step default</td></tr><tr id="1b9451cf-7b79-80b8-98f9-d2d48c452321"><td id="aUJ|" class="">SANA</td><td id="LJ;p" class="">DiT</td><td id="m]Yg" class="">1.6B</td><td id="?hTZ" class="">32Ã— compression autoencoder, Linear Attention</td></tr><tr id="1b9451cf-7b79-80e1-8776-f194ffe206dc"><td id="aUJ|" class="">SDXL</td><td id="LJ;p" class="">UNet</td><td id="m]Yg" class="">2.6B</td><td id="?hTZ" class="">30-step</td></tr></tbody></table><h3 id="1b9451cf-7b79-8091-b966-f2432aefb45e" class="">Baselines Quantization</h3><table id="1b9451cf-7b79-80f1-9730-f6c63a349b46" class="simple-table"><tbody><tr id="1b9451cf-7b79-80ab-b8f9-e75c411763db"><td id="&lt;lV]" class="">Method</td><td id="?OWR" class="">Description</td><td id="yunN" class="">Usage in Benchmarking</td></tr><tr id="1b9451cf-7b79-806a-a156-f635b46b71a1"><td id="&lt;lV]" class="">NF4<br/>(4-bit NormalFloat)<br/></td><td id="?OWR" class="">Optimized 4-bit weight-only quantization assuming normal distribution</td><td id="yunN" class="">Used as a weight-only quantization baseline for FLUX.1</td></tr><tr id="1b9451cf-7b79-80ad-956d-d8053cca98b5"><td id="&lt;lV]" class="">ViDiT-Q</td><td id="?OWR" class="">Per-token quantization + smoothing to reduce outliers</td><td id="yunN" class="">Achieves lossless 8-bit quantization on PixArt-Î£</td></tr><tr id="1b9451cf-7b79-80e2-b74e-f201b50a1cbd"><td id="&lt;lV]" class="">MixDQ</td><td id="?OWR" class="">Detects outliers in text embeddings and protects them with 16-bit pre-computation</td><td id="yunN" class="">Enables W4A8 quantization with minimal performance drop on SDXL-Turbo</td></tr><tr id="1b9451cf-7b79-807a-98b4-d434a27793a5"><td id="&lt;lV]" class="">TensorRT</td><td id="?OWR" class="">Industry-standard PTQ toolkit for 8-bit quantization</td><td id="yunN" class="">Uses smoothing + percentile calibration over specific timesteps</td></tr></tbody></table><figure id="1b3451cf-7b79-80c7-9c88-ea2289a5f38f" class="image"><a href="/files/2025-03-06-svdquant/image%207.webp"><img style="width:709.9921875px" src="/files/2025-03-06-svdquant/image%207.webp"/></a></figure><figure id="1b9451cf-7b79-8048-a239-e2d6aa27f92e" class="image"><a href="/files/2025-03-06-svdquant/image%208.webp"><img style="width:709.984375px" src="/files/2025-03-06-svdquant/image%208.webp"/></a></figure><figure id="1b3451cf-7b79-80b2-b150-d0f26013425e" class="image"><a href="/files/2025-03-06-svdquant/image%209.webp"><img style="width:709.9765625px" src="/files/2025-03-06-svdquant/image%209.webp"/></a></figure><figure id="1b9451cf-7b79-800a-bb07-fb2185e3e8d3" class="image"><a href="/files/2025-03-06-svdquant/image%2010.webp"><img style="width:709.9921875px" src="/files/2025-03-06-svdquant/image%2010.webp"/></a></figure><figure id="1b9451cf-7b79-80f9-b9e7-e0fb7a02557f" class="image"><a href="/files/2025-03-06-svdquant/image%2011.webp"><img style="width:709.9921875px" src="/files/2025-03-06-svdquant/image%2011.webp"/></a></figure><p id="1b3451cf-7b79-8016-a721-eb2e6bdb3df9" class=""> </p><p id="1b3451cf-7b79-801c-8b7c-decce0570ec6" class=""> </p><h1 id="1b3451cf-7b79-8069-a8d8-cce825d2197e" class="">Limitation</h1><p id="1b9451cf-7b79-80d0-8c8f-f787946d192e" class="">ì—„ì²­ë‚œ ê¸°ìˆ ì´ê³  ê¸°ìˆ ë©´ì—ì„œëŠ” í•œê³„ê°€ ì—†ë‹¤ê³  ìƒê°í•¨. </p><p id="1b9451cf-7b79-80e3-8195-fd5a412c5cb4" class="">í•˜ì§€ë§Œ, êµ³ì´ í•œê³„ì ì„ ë½‘ìë©´, Song Hanì´ NVIDIAì—ì„œë„ ì—°êµ¬ë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— NVIDIA chipë§Œì„ ìœ„í•´ì„œ ì½”ë“œë¥¼ ì§°ê³ , ì´ì— ìµœì í™”ë˜ì–´ìˆë‹¤.</p><p id="1b9451cf-7b79-8001-b0c1-c88078f30bf9" class="">ì‹¬ì§€ì–´ CUDA 12.2 ì´ìƒì—ì„œë§Œ ì‘ë™ ê°€ëŠ¥í•´ì„œ ë‚´ í•™êµ ì„œë²„ë¡œ ëŒë ¤ë³´ë ¤ê³  í–ˆëŠ”ë°, GPU Driver versionì´ ë‚®ì•„ì„œ ì•ˆëŒì•„ê°€ë”ë¼.</p><figure id="1b9451cf-7b79-80b1-90ea-e3f4976a02bc" class="image"><a href="/files/2025-03-06-svdquant/image%2012.webp"><img style="width:709.984375px" src="/files/2025-03-06-svdquant/image%2012.webp"/></a></figure><p id="1b5451cf-7b79-809a-be3b-d50cf256f252" class="">ë¬¼ë¡  NVIDIA chipì—ì„œ ê·¹í•œì˜ ìµœì í™”ë¥¼ ìœ„í•´ì„œ ì˜€ì§€ë§Œ, ë‹¤ë¥¸ GPU ì¥ë¹„ì—ì„œëŠ” ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p><p id="1b9451cf-7b79-8099-b811-d3f49b2751c6" class="">ê°™ì€ ë°©ì‹ì„ ë‹¤ë¥¸ GPU ì¥ë¹„ì™€ Mobile edge deviceë“¤ì— ì ìš©í•œë‹¤ë©´ ì¢‹ì„ ê²ƒì´ë‹¤.</p><p id="1b9451cf-7b79-8034-8ef0-db4f0ee73b51" class=""> </p><p id="1b9451cf-7b79-80af-aa03-f74a76e2d116" class=""> </p><p id="1b9451cf-7b79-80a9-9db0-cc9a176288ba" class=""> </p><h1 id="1b9451cf-7b79-80a2-91bb-dd9012fcaa7b" class="block-color-red_background">ë©”ëª¨ë¦¬ë‘ ì¶”ë¡ ì‹œê°„ë§Œ ì¤„ì¸ê²Œ ì•„ë‹Œê°€? ì •í™•ë„ë¥¼ ì™œ ì–¸ê¸‰?</h1><h3 id="1b9451cf-7b79-80bc-808a-ff3da0234b8d" class="">Memory, Latency?</h3><p id="1b9451cf-7b79-806e-9095-e10f17ed8580" class="">ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ SVDì–‘ìí™”ë¡œ ì¸í•´ ë©”ëª¨ë¦¬ì™€ latency ì´ì ì„ ì–»ì€ê²Œ í¬ì¸íŠ¸ ì•„ë‹Œê°€?</p><figure id="1b9451cf-7b79-80a2-8cd8-fa65283b56c1" class="image"><a href="/files/2025-03-06-svdquant/image%2013.webp"><img style="width:695px" src="/files/2025-03-06-svdquant/image%2013.webp"/></a></figure><p id="1b9451cf-7b79-80c4-b42e-c30f72c5bfd2" class="block-color-yellow_background">ë¹„êµê°€ ê¸°ì¡´ 16bit / W4A16 / W4A4(SVD) ì˜€ê¸° ë•Œë¬¸ì— í° ì°¨ì´ë¥¼ ë³´ì—¬ì¤€ ê²ƒ ê°™ë‹¤.</p><p id="1b9451cf-7b79-8055-a534-eb7be3a7153c" class="">Inference timeê³¼ Memory ì¤„ì¸ê²Œ í¬ì¸íŠ¸ì¸ì¤„ ì•Œì•˜ëŠ”ë° ì™„ì „ ì˜ëª» ìƒê°í•œê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤.</p><p id="1b9451cf-7b79-808f-8cb9-c51ec1d5b09c" class=""> </p><p id="1b9451cf-7b79-8056-90ad-f8224f8d116d" class="block-color-orange_background">ë¬¼ë¡  Outlierë•Œë¬¸ì— 32bitë¡œ ì²˜ë¦¬í–ˆë˜ ë¶€ë¶„ë“¤ì´ ì—†ì–´ì§€ê³  16bitë¡œ low rankë¡œ ë”°ë¡œ ë¹¼ë‹ˆê¹Œ í–¥ìƒì€ ëì„ ê²ƒì´ì§€ë§Œ, ì œ ìƒê°ì—ëŠ” SVD ì—†ëŠ” W4A4ë‘ ë¹„êµí–ˆë‹¤ë©´, Memoryì™€ ì¶”ë¡ ì‹œê°„ì´ 3ë°° ì´ìƒ ì°¨ì´ë‚˜ì§€ëŠ” ì•Šì„ ê²ƒì…ë‹ˆë‹¤.</p><figure id="1b9451cf-7b79-8020-b2df-cefc97fa8752" class="image"><a href="/files/2025-03-06-svdquant/image%2014.webp"><img style="width:694.984375px" src="/files/2025-03-06-svdquant/image%2014.webp"/></a></figure><h3 id="1b9451cf-7b79-8054-85b1-f77ceb4c8f23" class="">ì •í™•ë„?</h3><p id="1b9451cf-7b79-80ff-9ed1-c193dde950ec" class="">ê¸°ì¡´ ì–‘ìí™”ì—ì„œ ì •í™•ë„ë¥¼ ìœ ì§€í•˜ëŠ” ë¶€ë¶„ì´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë§ì´ ë–¨ì–´ì¡Œì—ˆë‹¤.</p><p id="1b9451cf-7b79-803b-b04c-d868ac6d01cd" class="">(ë‘ë²ˆì§¸ê°€ ê¸°ì¡´ ì–‘ìí™” ê¸°ë²•, ì‹¬ì§€ì–´ W4A4ê°€ ì•„ë‹Œ W4A16ì¸ë°ë„ ë” ë–¨ì–´ì§€ëŠ” ëª¨ìŠµì„ ë³´ì„)</p><figure id="1b9451cf-7b79-80c7-b6e8-fcd54c9ae799" class="image" style="text-align:left"><a href="/files/2025-03-06-svdquant/image%2015.webp"><img style="width:432px" src="/files/2025-03-06-svdquant/image%2015.webp"/></a></figure><h3 id="1b9451cf-7b79-80de-8586-fa234a4e0e1c" class="">ë³´ì¡´ í•  ìˆ˜ ìˆì—ˆë˜ ì´ìœ  â†’ <strong>Low-Rank Branch</strong></h3><ul id="1b9451cf-7b79-8022-be65-ee52029ad106" class="bulleted-list"><li style="list-style-type:disc">ê¸°ì¡´ 4-bit ì–‘ìí™” ë°©ì‹ì—ì„œëŠ” <strong>Weight ì „ì²´ë¥¼ 4-bitë¡œ ë³€í™˜</strong>í•˜ë¯€ë¡œ ì •ë³´ ì†ì‹¤ì´ í¼.</li></ul><ul id="1b9451cf-7b79-8064-8718-d50903d3bb1f" class="bulleted-list"><li style="list-style-type:disc">SVDQuantëŠ” Weightë¥¼ Low-Rank Component (L1L2) ì™€ ì”ì—¬ (R)ë¡œ ë¶„í•´í•œë‹¤.<figure id="230451cf-7b79-808e-a039-c8447097c22a" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mi mathvariant="bold">R</mi><mo>â‰ˆ</mo><munder><munder><mrow><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub></mrow><mo stretchy="true">âŸ</mo></munder><mtext>16-bitÂ low-rankÂ branch</mtext></munder><mo>+</mo><munder><munder><mrow><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">âŸ</mo></munder><mtext>4-bitÂ residual</mtext></munder><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathbf{XW} = \hat{\mathbf{X}} \hat{\mathbf{W}} = \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + \hat{\mathbf{X}} \mathbf{R}\approx \underbrace{\hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2}_{\text{16-bit low-rank branch}}+ \underbrace{Q(\hat{\mathbf{X}}) Q(\mathbf{R})}_{\text{4-bit residual}}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0995em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord mathbf">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4337em;vertical-align:-1.4841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.5159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">16-bitÂ low-rankÂ branch</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.202em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.798em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4841em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5337em;vertical-align:-1.5841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">4-bitÂ residual</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5841em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></figure></li></ul><ul id="1b9451cf-7b79-80c4-9f67-e284236a0719" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow_background"><span style="border-bottom:0.05em solid">L1L2ëŠ” 16-bit precisionìœ¼ë¡œ ìœ ì§€ â†’ ì¤‘ìš”í•œ ì •ë³´ëŠ” ê³ ì •ë°€ë„ë¡œ ë‚¨ê²¨ë‘ .</span></mark></li></ul><ul id="1b9451cf-7b79-806b-b0d5-cdb0a5a8cda9" class="bulleted-list"><li style="list-style-type:disc"><strong>ì”ì—¬ Rë§Œ 4-bitë¡œ ì–‘ìí™”í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”í•¨</strong></li></ul><ul id="1b9451cf-7b79-80b4-9b57-c478678e7d50" class="bulleted-list"><li style="list-style-type:disc">í•œ ë²ˆë§Œ Low-Rank ë¶„í•´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <strong>ë°˜ë³µì ìœ¼ë¡œ Rì„ ìµœì í™”</strong>í•˜ì—¬ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”</li></ul><p id="1b9451cf-7b79-8008-addf-df773f81d36d" class=""> </p><h3 id="1b9451cf-7b79-808d-9c6f-f3db6c7574aa" class="">quantization error</h3><figure id="230451cf-7b79-803f-8520-f790b6db1cd4" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mo fence="true">âˆ¥</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>âˆ’</mo><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>=</mo><msub><mrow><mo fence="true">âˆ¥</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mi mathvariant="bold">R</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo separator="true">,</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\left\| \hat{\mathbf{X}} \hat{\mathbf{W}} - \left( \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + Q(\hat{\mathbf{X}}) Q(\mathbf{R}) \right) \right\|_F= \left\| \hat{\mathbf{X}} \mathbf{R} - Q(\hat{\mathbf{X}}) Q(\mathbf{R}) \right\|_F= E(\hat{\mathbf{X}}, \mathbf{R}),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8497em;vertical-align:-0.6997em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.556em" height="1.800em" viewBox="0 0 556 1800"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.556em" height="1.800em" viewBox="0 0 556 1800"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.2214em;"><span style="top:-2.0003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8497em;vertical-align:-0.6997em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.556em" height="1.800em" viewBox="0 0 556 1800"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord mathbf">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.556em" height="1.800em" viewBox="0 0 556 1800"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.2214em;"><span style="top:-2.0003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1995em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf">R</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></div></figure><p id="1b9451cf-7b79-804e-a8c5-fb4bb7a0d47c" class="">ì´ ì‹ì—ì„œ L1L2+Rë¡œ ë¶„í•´í•¨ìœ¼ë¡œì„œ Quantizationì„ ì§„í–‰í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” Errorë¥¼ ìµœëŒ€í•œ ì¤„ì¸ê±°ì„.</p><p id="1b9451cf-7b79-8018-b00c-d9eb56f9faeb" class=""> </p><p id="1b9451cf-7b79-80cf-8f38-d29ef01a5203" class="block-color-blue_background">Quantization ìì²´ê°€ Outlierë¡œ ì¸í•´ì„œ ì •í™•ë„ë¥¼ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ë°–ì— ì—†ëŠ”ë°, ì´ë¥¼ ìµœëŒ€í•œ ë³´ì¡´í–ˆë‹¤ëŠ” ì ì´ ì—„ì²­ë‚œ ì—°êµ¬ì¸ ê²ƒì„!!!!</p><h1 id="1b9451cf-7b79-804d-9f66-e41d84df02ba" class="block-color-red_background">SVDë¥¼ LLMì— ì¨ë„ ë˜ëŠ”ê°€? ì™œ Diffusionìœ¼ë¡œ ë…¼ë¬¸ì„?</h1><p id="1b9451cf-7b79-80e0-aef1-fbbf56042c83" class="block-color-teal_background">ê¸°ì¡´ ì œ ìƒê° : ì ìš© í•  ìˆ˜ëŠ” ìˆì„ ê²ƒ ê°™ìœ¼ë‚˜, LLMì€ ë³‘ëª©í˜„ìƒì´ <span style="border-bottom:0.05em solid">ë¬´ê±°ìš´ ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •</span>ì—ì„œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ ë’¤ì— ì—°ì‚°ì„ ì¤„ì—¬ë„ Diffusionë§Œí¼ í° íš¨ê³¼ëŠ” ë‚˜íƒ€ë‚  ì§€ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. (<span style="border-bottom:0.05em solid">Diffusionì€ ì—°ì‚°ì´ ë³‘ëª©</span>ì„)</p><p id="1b9451cf-7b79-80df-ace1-c33706c16ab7" class=""> </p><p id="1b9451cf-7b79-8012-9ba8-ed02e08ebd53" class="">ë¬¼ë¡  ê¸°ì¡´ ì œ ìƒê°ë„ ì°¾ì•„ë³´ë‹ˆ ë§ëŠ” ê²ƒ ê°™ìœ¼ë‚˜, ì‹¤ì œë¡œ í™œìš©í•œë‹¤ë©´, ë°”ë¡œ ìœ„ ì§ˆë¬¸ì—ì„œ ë‹¤ë¤˜ë˜ ì •í™•ë„ í–¥ìƒì—ë„ ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì—, ì˜¤íˆë ¤ ì •í™•ë„ ë¶€ë¶„ì—ì„œ ë„ì›€ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><p id="1b9451cf-7b79-8008-81c3-e61e76c68f60" class=""> </p><h3 id="1b9451cf-7b79-804f-8ccf-d771d8e662af" class="">ê¸°ì¡´ ì–‘ìí™”</h3><ul id="1b9451cf-7b79-80d7-9093-d63eb71b6a6f" class="bulleted-list"><li style="list-style-type:disc"><strong>GPTQ</strong> â†’ Post-training quantization ë°©ì‹, Weightë§Œ 4-bit ë³€í™˜.</li></ul><ul id="1b9451cf-7b79-8014-83b1-d7f2d7876902" class="bulleted-list"><li style="list-style-type:disc"><strong>AWQ</strong> â†’ Weight ì¤‘ìš”ë„ë¥¼ ë¶„ì„í•´ ì„ íƒì ìœ¼ë¡œ 4-bit ë³€í™˜.</li></ul><ul id="1b9451cf-7b79-8030-95d4-fd6529cde607" class="bulleted-list"><li style="list-style-type:disc"><strong>SmoothQuant</strong> â†’ Activation ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™ì‹œì¼œ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ì¤„ì´ëŠ” ë°©ì‹.</li></ul><p id="1b9451cf-7b79-801c-a6b9-ddd0e4110575" class=""> </p><h3 id="1b9451cf-7b79-803b-8cf3-cb358fec4a1a" class="">SVDQuant ì‚¬ìš©í•œë‹¤ë©´?</h3><p id="1b9451cf-7b79-8076-af24-d2dcf281b3da" class="">Weightë¥¼ Low-Rank(16-bit) + Residual(4-bit)ë¡œ ë‚˜ëˆ„ì–´ ì¤‘ìš”í•œ ì •ë³´ëŠ” ìœ ì§€í•˜ë©´ì„œ ì••ì¶•í•˜ë¯€ë¡œ</p><p id="1b9451cf-7b79-8076-94a5-f961585b2b47" class="">Diffusionì²˜ëŸ¼ ì •í™•ë„ í–¥ìƒì— ë„ì›€ì´ ë ë“¯ !!!</p><p id="1b9451cf-7b79-80d3-b36d-e9093fc70da1" class=""> </p><p id="1b9451cf-7b79-80d4-ad96-f1468b285f55" class=""> </p><p id="1b9451cf-7b79-8010-846c-d9685870a1ff" class=""> </p><h1 id="1b9451cf-7b79-8050-a9dd-d24ae3c8c99a" class="">For an explanation from the author, Song Han</h1><figure id="1b9451cf-7b79-80aa-9611-df893eea3b07" class="image"><a href="/files/2025-03-06-svdquant/image%2016.webp"><img style="width:709.9921875px" src="/files/2025-03-06-svdquant/image%2016.webp"/></a></figure><p id="1b9451cf-7b79-80a6-83f7-ce2fd3f35fb4" class=""><a href="https://www.youtube.com/watch?v=nYujDH9r69s&amp;t=1s">Youtube [Introduction to SVDQuant for 4-bit Diffusion Models]</a></p><p id="1b9451cf-7b79-801d-bc12-e4601f945f32" class=""> </p><p id="1b9451cf-7b79-807f-8071-f4a9689437c5" class=""> </p><h1 id="1b9451cf-7b79-80d7-8244-d4fca4f1d07e" class="">Demo</h1><p id="1b9451cf-7b79-80ce-9933-f7b6ca6c337c" class=""><a href="https://hanlab.mit.edu/projects/svdquant">https://hanlab.mit.edu/projects/svdquant</a></p><figure id="1b9451cf-7b79-8021-aaef-dd4cf2ca4a7b" class="image"><a href="/files/2025-03-06-svdquant/image%2017.webp"><img style="width:709.9921875px" src="/files/2025-03-06-svdquant/image%2017.webp"/></a></figure></div>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2411.05007Project Pagehttps://hanlab.mit.edu/projects/svdquantGithub Codehttps://github.com/mit-han-lab/nunchakuDemohttps://svdquant.mit.edu/ğŸ’¡Key Differentiatorâ€œOutlier Absorption Using Singular Value Decompositionâ€ Song Han?Song Han is an associate professor at MIT EECS. He earned his PhD from Stanford, pioneering efficient AI computing techniques such as â€œDeep Compressionâ€ (pruning, quantization) and the â€œEfficient Inference Engine,â€ which first introduced weight sparsity to modern AI chips, making it one of the top-5 most cited papers in the 50-year history of ISCA (1953-2023). His innovations, including TinyML and hardware-aware neural architecture search (Once-for-All Network), have advanced AI model deployment on resource-constrained devices. 1. IntroductionLLMê³¼ ë¹„êµí–ˆì„ ë•Œ, ëª¨ë¸ ì‚¬ì´ì¦ˆì— ë”°ë¼ ê³„ì‚° ë¹„ìš©ì´ ë¹ ë¥´ê²Œ ì¦ê°€í•œë‹¤.Mooreâ€™s lawê°€ slow down í•¨ìœ¼ë¡œì„œ, ì €ë ´í•œ ì¶”ë¡ (low-precision inference) ìœ¼ë¡œ ì „í™˜í•˜ëŠ”ì¤‘ â†’ 4bit floating point (FP4)ê°€ ëŒ€ì„¸ì„ LLMlatencyëŠ” ì£¼ë¡œ ê°€ì¤‘ì¹˜(weight) ë¡œë”© ì†ë„ì— ì˜í•´ ê²°ì •&quot;ê°€ì¤‘ì¹˜ë§Œ ì–‘ìí™”(weight-only quantization)&quot; í•´ë„ ì†ë„ë¥¼ ê°œì„  Diffusion ëª¨ë¸ë ˆì´í„´ì‹œëŠ” ê°€ì¤‘ì¹˜ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì†ë„ê°€ ì•„ë‹ˆë¼, ì—°ì‚°ëŸ‰ ìì²´ê°€ ë³‘ëª©ì™œëƒí•˜ë©´ ê°€ì¤‘ì¹˜ë§Œ 4ë¹„íŠ¸ë¡œ ì¤„ì—¬ë„ í™œì„±í™”ê°’ì´ 16ë¹„íŠ¸ì´ë©´, ì—°ì‚° ê³¼ì •ì—ì„œ 16ë¹„íŠ¸ë¡œ ë‹¤ì‹œ ë³€í™˜(upcast)ë˜ë¯€ë¡œ ì—°ì‚°ëŸ‰ì´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ.ê²°êµ­ ì—°ì‚°ëŸ‰ì„ ì¤„ì´ë ¤ë©´ ê°€ì¤‘ì¹˜(weight)ë¿ë§Œ ì•„ë‹ˆë¼ í™œì„±í™”ê°’(activation)ë„ í•¨ê»˜ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”í•´ì•¼ í•¨. ğŸ“¢Input Channel â†’ ì›ë˜ Activationì—ì„œ ë‚˜ì˜¨ ì…ë ¥ ì±„ë„Channel â†’ Weightì˜ ê° ì±„ë„ 1. ê¸°ì¡´ 4ë¹„íŠ¸ ì–‘ìí™”(4-bit Quantization)ì˜ ë¬¸ì œì ê°€ì¤‘ì¹˜(Weight)ì™€ í™œì„±í™”ê°’(Activation) ëª¨ë‘ 4ë¹„íŠ¸ë¡œ ì¤„ì´ë©´ í’ˆì§ˆì´ í¬ê²Œ ì €í•˜ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.íŠ¹íˆ ê¸°ì¡´ ë°©ë²•(ì˜ˆ: Smoothing)ì€ ê°€ì¤‘ì¹˜ì™€ í™œì„±í™”ê°’ ì‚¬ì´ì—ì„œ Outlierë¥¼ ì´ë™ì‹œí‚¤ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆì§€ë§Œ,Diffusion ëª¨ë¸ì—ì„œëŠ” Outlierê°€ ì–‘ìª½(W, X) ëª¨ë‘ì—ì„œ ì‹¬ê°í•˜ê²Œ ë°œìƒí•˜ë¯€ë¡œ íš¨ê³¼ì ì´ì§€ ì•ŠìŒ.ê¸°ì¡´ ë°©ì‹ì€ í™œì„±í™”ê°’(X)ì—ì„œ Outlierë¥¼ ì œê±°í•˜ë ¤ê³  í•˜ë©´ ê°€ì¤‘ì¹˜(W)ë¡œ ì´ë™í•˜ê³ , ë°˜ëŒ€ë¡œ í•˜ë©´ Xì— Outlierê°€ ë‚¨ëŠ” ë¬¸ì œ ë°œìƒ.2. SVDQuantì˜ í•µì‹¬ ì•„ì´ë””ì–´Outlierë¥¼ ë‹¨ìˆœíˆ ì´ë™í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, &quot;í¡ìˆ˜&quot;í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•¨.ì €ë¹„ìš©ì˜ &quot;Low-Rank Branch&quot;ë¥¼ ì¶”ê°€í•˜ì—¬ Outlierë¥¼ ê°€ì¤‘ì¹˜(W)ì—ì„œ í¡ìˆ˜í•¨.ì´ë¥¼ ìœ„í•´ SVD(Singular Value Decomposition, íŠ¹ì´ê°’ ë¶„í•´) ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ê°€ì¤‘ì¹˜ë¥¼ ë‘ ê°œì˜ ì„±ë¶„ìœ¼ë¡œ ë¶„í•´í•¨.3. SVDQuantì˜ ë‹¨ê³„ë³„ ë™ì‘ ë°©ì‹1. Outlier ì´ë™ (Smoothing)ë¨¼ì € Outlierë¥¼ í™œì„±í™”ê°’(X)ì—ì„œ ê°€ì¤‘ì¹˜(W)ë¡œ ì´ë™í•¨.ì´ë¥¼ í†µí•´ í™œì„±í™”ê°’(X)ì´ ë” ê· ì¼í•´ì ¸ì„œ 4ë¹„íŠ¸ ì–‘ìí™”ê°€ ë” ì‰¬ì›Œì§.2. SVD(íŠ¹ì´ê°’ ë¶„í•´)ë¥¼ ì ìš©í•˜ì—¬ ê°€ì¤‘ì¹˜(W)ë¥¼ ë‘ ê°œì˜ ì„±ë¶„ìœ¼ë¡œ ë¶„í•´W â†’ L1L2(ì €ìˆœìœ„ ì„±ë¶„) + ì”ì—¬ ì„±ë¶„(W - L1L2)ë¡œ ë¶„ë¦¬L1L2(ì €ìˆœìœ„ ì„±ë¶„)ì€ 16ë¹„íŠ¸ë¡œ ìœ ì§€í•˜ê³ , W - L1L2(ì”ì—¬ ì„±ë¶„)ë§Œ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”ì¦‰, ì €ìˆœìœ„ ì„±ë¶„(Low-Rank Component)ì´ Outlierë¥¼ í¡ìˆ˜í•˜ë©´ì„œ 4ë¹„íŠ¸ ì–‘ìí™”ê°€ ë” ì‰¬ì›Œì§.3. ì €ìˆœìœ„ ì„±ë¶„ì„ ë”°ë¡œ ê³„ì‚°í•˜ë©´ ë©”ëª¨ë¦¬ ì•¡ì„¸ìŠ¤ ì˜¤ë²„í—¤ë“œê°€ ì¦ê°€í•˜ëŠ” ë¬¸ì œ ë°œìƒì¦‰, L1L2ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ë©´ ì—°ì‚° ì†ë„ê°€ ëŠë ¤ì§€ëŠ” ë¬¸ì œê°€ ìƒê¹€.ê¸°ë³¸ì ìœ¼ë¡œ 4ë¹„íŠ¸ ì—°ì‚°ì˜ ì†ë„ë¥¼ ë†’ì´ë ¤ê³  í–ˆëŠ”ë°, ì €ìˆœìœ„ ì—°ì‚°ì´ ì¶”ê°€ë˜ë©´ ì˜¤íˆë ¤ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ.4. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì „ìš© ì¶”ë¡  ì—”ì§„(Nunchaku) ì„¤ê³„Nunchaku ì—”ì§„ì€ 4ë¹„íŠ¸ ì–‘ìí™” ì—°ì‚°ê³¼ ì €ìˆœìœ„ ì—°ì‚°ì„ í•¨ê»˜ ìµœì í™”í•˜ì—¬ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì„.ì¦‰, L1L2(ì €ìˆœìœ„ ì—°ì‚°)ì™€ 4ë¹„íŠ¸ ì—°ì‚°ì„ í•¨ê»˜ ì²˜ë¦¬í•˜ëŠ” ì»¤ë„(fusion kernel)ë¡œ ë³€í™˜í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”.ì´ë¥¼ í†µí•´ ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ì´ ìƒê¸°ë”ë¼ë„ ì‹¤ì œë¡œëŠ” 4ë¹„íŠ¸ ì—°ì‚°ì˜ ì†ë„ë¥¼ í–¥ìƒí•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë¨. ê¸°ì¡´ ë°©ì‹(SmoothQuant, AWQ)ê³¼ SVDQuantì˜ ì°¨ì´ë°©ë²•ë°©ì‹Outlier ì²˜ë¦¬ ë°©ì‹ì ìš© ëŒ€ìƒë¬¸ì œì SmoothQuant (2023)W4A4Input Channel(Activation) â†’ Channel(Weight)LLM(ëŒ€í˜• ì–¸ì–´ ëª¨ë¸)Outlierê°€ ê°€ì¤‘ì¹˜ì— ëˆ„ì ë¨AWQ (2024)W4A4ê°€ì¤‘ì¹˜ ì¤‘ ì¤‘ìš”í•œ ë¶€ë¶„ì„ ë³´ì¡´í•˜ì—¬ ì–‘ìí™”LLMDiffusion ëª¨ë¸ì—ì„œëŠ” í•œê³„ ê°€ëŠ¥ì„±SVDQuant (2024)W4A4ì €ìˆœìœ„(Low-Rank) ì„±ë¶„ìœ¼ë¡œ Outlier í¡ìˆ˜Diffusion ëª¨ë¸ ìµœì í™”ì¶”ê°€ ì—°ì‚°ì„ í•´ê²°í•´ì•¼ í•¨1. SmoothQuant (2023) â€“ Activationì—ì„œ Weightë¡œ ì´ìƒì¹˜ ì´ë™SmoothQuantì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” í™œì„±í™”ê°’(Activation)ì—ì„œ ë°œìƒí•˜ëŠ” ì´ìƒì¹˜ë¥¼ ê°€ì¤‘ì¹˜(Weight)ë¡œ ì´ë™ì‹œí‚¤ëŠ” ê±°ì•¼â€‹Li á„ƒá…³á†¼ - 2024 - SVDQuanâ€¦.ê¸°ì¡´ ë¬¸ì œTransformer ê¸°ë°˜ ëª¨ë¸ì—ì„œ Self-Attention ì—°ì‚°ì´ ë§ì•„ì„œ í™œì„±í™”ê°’(Activation)ì˜ ë²”ìœ„ê°€ ë„“ì–´ì§€ê³  ì´ìƒì¹˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ë§ì•„.ì´ë¥¼ 8-bitì´ë‚˜ 4-bitë¡œ ì–‘ìí™”í•˜ë©´, ì‘ì€ ê°’ë“¤ì€ ëª¨ë‘ 0ì´ ë˜ê³ , ì •ë³´ ì†ì‹¤ì´ ì‹¬í•´ì§.í•´ê²° ë°©ë²•í™œì„±í™”ê°’(Activation)ì˜ ì±„ë„ë³„ ìŠ¤ì¼€ì¼ë§ì„ ì ìš©í•˜ì—¬, ì´ìƒì¹˜ë¥¼ ê°€ì¤‘ì¹˜(Weight) ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚´.ì¦‰, ì›ë˜ Activation ê°’ì´ í¬ë©´, í•´ë‹¹ ì±„ë„ì„ ìŠ¤ì¼€ì¼ë§í•´ì„œ ì¤„ì´ê³ , ëŒ€ì‹  ê·¸ ê°’ì„ Weightì—ì„œ ë³´ìƒí•´ì£¼ëŠ” ë°©ì‹.ì´ë ‡ê²Œ í•˜ë©´, Activation ê°’ì´ ì–‘ìí™”í•  ë•Œ ì†ì‹¤ ì—†ì´ ë” ê· ë“±í•˜ê²Œ ë¶„í¬í•  ìˆ˜ ìˆìŒ.í•œê³„Weight ìª½ìœ¼ë¡œ ì´ìƒì¹˜ë¥¼ ëª°ì•„ë„£ìœ¼ë©´, Weightì˜ ê°’ì´ ì»¤ì§€ê³ , Weight ì–‘ìí™” ì‹œ ì˜¤ë¥˜ê°€ ì»¤ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŒ.ë”°ë¼ì„œ Weightë¥¼ 4-bitë¡œ ì–‘ìí™”í•  ê²½ìš° ì •ë³´ ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ.2. AWQ (Activation-aware Weight Quantization, 2024) â€“ Weightì—ì„œ Activationìœ¼ë¡œ ì´ìƒì¹˜ ì´ë™AWQëŠ” Weightì˜ ì´ìƒì¹˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ Activationìœ¼ë¡œ ë¶„ì‚°ì‹œí‚¤ëŠ” ë°©ì‹ê¸°ì¡´ ë¬¸ì œSmoothQuant ë°©ì‹ì²˜ëŸ¼ ì´ìƒì¹˜ë¥¼ Weight ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚¤ë©´, Weightì˜ í¬ê¸°ê°€ ì»¤ì ¸ì„œ Weightë¥¼ 4-bitë¡œ ì–‘ìí™”í•  ë•Œ ì •ë³´ ì†ì‹¤ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§.íŠ¹íˆ, Weightì— ì´ìƒì¹˜ê°€ ë§ìœ¼ë©´, ìŠ¤ì¼€ì¼ë§ì„ ì ìš©í•´ë„ ì–‘ìí™” ì˜¤ë¥˜ê°€ ì»¤ì§€ê³  ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒ.í•´ê²° ë°©ë²•ëŒ€ì‹  Weightì—ì„œ Activationìœ¼ë¡œ ì¼ë¶€ ì´ìƒì¹˜ë¥¼ ì´ë™ì‹œì¼œì„œ, Weightê°€ ì–‘ìí™”ë  ë•Œ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”í•¨.ì¦‰, ì¤‘ìš”í•œ Weight ê°’ì„ ë”°ë¡œ ë³´í˜¸í•˜ê³ , ë¶ˆí•„ìš”í•œ í° ê°’ì„ Activation ìª½ìœ¼ë¡œ ì´ë™ì‹œì¼œì„œ Weightë¥¼ ë” ê· ë“±í•œ ë¶„í¬ë¡œ ë§Œë“¤ë„ë¡ ì„¤ê³„.í•œê³„Activationì˜ ë¶„í¬ê°€ ë‹¤ì‹œ ë„“ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŒ â†’ Activationì„ ë‹¤ì‹œ 4-bitë¡œ ì–‘ìí™”í•  ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ.3. SVDQuant (2024) â€“ Outlierë¥¼ Low-Rank Componentë¡œ ì´ë™SVDQuantëŠ” SmoothQuantì™€ AWQì˜ ë¬¸ì œì ì„ ëª¨ë‘ í•´ê²°í•˜ë ¤ê³ , ì´ìƒì¹˜ë¥¼ ì´ë™ì‹œí‚¤ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ Low-Rank Componentë¡œ í¡ìˆ˜í•˜ëŠ” ë°©ì‹ì´ì•¼â€‹Li á„ƒá…³á†¼ - 2024 - SVDQuanâ€¦.í•µì‹¬ ì•„ì´ë””ì–´SmoothQuantì²˜ëŸ¼ Activationì˜ ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™í•˜ë©´ì„œë„,AWQì²˜ëŸ¼ Weightì—ì„œ ë‹¤ì‹œ Activationìœ¼ë¡œ ì´ë™í•˜ëŠ” ëŒ€ì‹ , Low-Rank Componentë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥.ì¦‰, ì´ìƒì¹˜ë¥¼ ì–‘ìí™”í•˜ì§€ ì•Šê³ , 16-bit Low-Rank Componentë¡œ ìœ ì§€í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”.ì¥ì SmoothQuantë‚˜ AWQì²˜ëŸ¼ í•œìª½ìœ¼ë¡œ ì´ìƒì¹˜ë¥¼ ëª°ì•„ë„£ì§€ ì•Šê³ , Low-Rank Branchê°€ ì´ìƒì¹˜ë¥¼ í¡ìˆ˜í•´ì„œ ì†ì‹¤ì„ ë§‰ìŒ.Weightì™€ Activation ëª¨ë‘ ê· ë“±í•œ ë¶„í¬ë¥¼ ê°€ì§€ê²Œ ë˜ì–´, ì–‘ìí™” ì˜¤ë¥˜ê°€ ì¤„ì–´ë“¦.ì‹¤ì œ ì‹¤í—˜ì—ì„œë„ SmoothQuant, AWQë³´ë‹¤ 4-bit ì–‘ìí™”ì—ì„œ ì„±ëŠ¥ì´ ë›°ì–´ë‚¨.ê²°ë¡ SmoothQuant â†’ Activationì˜ ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™ (Weightì˜ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ)AWQ â†’ Weightì˜ ì´ìƒì¹˜ë¥¼ Activationìœ¼ë¡œ ì´ë™ (Activationì˜ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ)SVDQuant â†’ Weightì™€ Activationì—ì„œ Low-Rank Componentë¡œ ì´ë™ (ì´ìƒì¹˜ ìì²´ë¥¼ ì œê±°í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”)ì¦‰, SmoothQuantê³¼ AWQëŠ” ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ Outlierë¥¼ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•˜ë ¤ê³  í–ˆë˜ ì ‘ê·¼ë²•, ë°˜ë©´ SVDQuantëŠ” Outlier ìì²´ë¥¼ Low-Rankë¡œ ë¹¼ë²„ë¦¬ëŠ” ë°©ì‹ì´ë¼ ì •ë³´ ì†ì‹¤ì´ ê°€ì¥ ì ìŒ. 3 QUANTIZATION PRELIMINARYì–‘ìí™”(Quantization)ì˜ ê¸°ë³¸ ê°œë…ë”¥ëŸ¬ë‹ì—ì„œ ì–‘ìí™”ëŠ” ì—°ì‚° ì†ë„ë¥¼ ë†’ì´ê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë°©ë²•.í…ì„œ Xë¥¼ ì–‘ìí™”í•˜ëŠ” ê³¼ì •:QX=round(XsX),sX=maxâ¡(âˆ£Xâˆ£)qmax. Q_X=\mathrm{round}\left( \frac{\mathbf{X}}{s_X} \right), \quad s_X=\frac{\max(|\mathbf{X}|)}{q_\mathrm{max}}.QXâ€‹=round(sXâ€‹Xâ€‹),sXâ€‹=qmaxâ€‹max(âˆ£Xâˆ£)â€‹.ì—¬ê¸°ì„œ QXâ€‹ëŠ” ì–‘ìí™”ëœ(low-bit) ê°’.sXëŠ” ìŠ¤ì¼€ì¼ë§ íŒ©í„°(Scaling Factor).qmaxëŠ” ìµœëŒ€ ì–‘ìí™” ê°’(ë¹„íŠ¸ ìˆ˜ì— ë”°ë¼ ë‹¬ë¼ì§).4ë¹„íŠ¸ ë¶€ë™ì†Œìˆ˜ì  ì–‘ìí™”(4-bit FP)ì—ì„œëŠ” qmax=6ì„.ì–‘ìí™”ëœ í–‰ë ¬ ì—°ì‚°ì„ í˜• ê³„ì¸µ(Linear Layer)ì—ì„œ ì…ë ¥ Xì™€ ê°€ì¤‘ì¹˜ Wê°€ ìˆì„ ë•Œ, ì—°ì‚°ì„ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ ê·¼ì‚¬:XWâ‰ˆQ(X)Q(W)=sXsWâ‹…QXQW.\mathbf{XW} \approx Q(\mathbf{X}) Q(\mathbf{W}) = s_X s_W \cdot Q_X Q_W.XWâ‰ˆQ(X)Q(W)=sXâ€‹sWâ€‹â‹…QXâ€‹QWâ€‹.ì¦‰, ì–‘ìí™”ëœ í…ì„œë¼ë¦¬ ì—°ì‚°í•œ í›„, ìŠ¤ì¼€ì¼ë§ íŒ©í„° sXâ€‹sWâ€‹ë¥¼ ê³±í•˜ì—¬ ë‹¤ì‹œ ì›ë˜ ê°’ì— ê°€ê¹ê²Œ ë³µì›í•¨.GPUì—ì„œ ê°™ì€ ë¹„íŠ¸í­(bit width)ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ ìµœì‹  GPUì—ì„œëŠ” ì…ë ¥(QX)ê³¼ ê°€ì¤‘ì¹˜(QW)ì˜ ë¹„íŠ¸ ìˆ˜ê°€ ë™ì¼í•´ì•¼ ì—°ì‚° ì†ë„ê°€ í–¥ìƒë¨.ë§Œì•½ QXì™€ QWì˜ ë¹„íŠ¸ ìˆ˜ê°€ ë‹¤ë¥´ë©´, ë” ë†’ì€ ë¹„íŠ¸ ê°’ìœ¼ë¡œ ë³€í™˜(upcast)ë˜ë©´ì„œ ì†ë„ ì´ì ì´ ì‚¬ë¼ì§.ì˜ˆ:ê°€ì¤‘ì¹˜(W)ë¥¼ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”(W4)í–ˆì§€ë§Œ, í™œì„±í™”ê°’(X)ì´ 16ë¹„íŠ¸(A16)ë¼ë©´?â†’ ì—°ì‚° ì‹œ W4ê°€ A16ìœ¼ë¡œ ì—…ìºìŠ¤íŠ¸(Upcast)ë˜ì–´ ì‹¤ì œ ì†ë„ í–¥ìƒì´ ì—†ìŒ.â†’ ë”°ë¼ì„œ, W4A4(ê°€ì¤‘ì¹˜ 4ë¹„íŠ¸, í™œì„±í™”ê°’ 4ë¹„íŠ¸) ì¡°í•©ì´ ìµœì í™”ëœ ë°©ì‹.W4A4 ì–‘ìí™”ì—ì„œì˜ ë¬¸ì œì : Outlier(ì´ìƒì¹˜)Diffusion ëª¨ë¸ì—ì„œëŠ” ê°€ì¤‘ì¹˜(W)ì™€ í™œì„±í™”ê°’(X) ì–‘ìª½ì—ì„œ Outlier(ê·¹ë‹¨ì ì¸ ê°’)ê°€ ë§ì´ ë°œìƒí•¨.Outlierê°€ ë§ìœ¼ë©´ ì–‘ìí™” í›„ í’ˆì§ˆì´ í¬ê²Œ ì €í•˜ë¨.ê¸°ì¡´ í•´ê²° ë°©ë²•:Quantization-Aware Training (QAT)ì–‘ìí™”ë¥¼ ê³ ë ¤í•˜ì—¬ ëª¨ë¸ì„ í›ˆë ¨í•˜ëŠ” ë°©ì‹.í•˜ì§€ë§Œ, 100ì–µ ê°œ ì´ìƒì˜ ë§¤ê°œë³€ìˆ˜(ì˜ˆ: FLUX.1 ëª¨ë¸)ë¥¼ ì¡°ì •í•˜ë ¤ë©´ ê³„ì‚° ë¹„ìš©ì´ ë§¤ìš° í¼.Rotation ê¸°ë²• (Ashkboos et al., 2024; Liu et al., 2024c)ê°€ì¤‘ì¹˜ì™€ í™œì„±í™”ê°’ì„ íšŒì „(rotation)í•˜ì—¬ Outlierë¥¼ ì¤„ì´ëŠ” ë°©ë²•.í•˜ì§€ë§Œ, Diffusion ëª¨ë¸ì˜ &quot;Adaptive Normalization Layer&quot;ì—ì„œëŠ” ì ìš©ì´ ì–´ë ¤ì›€.ì´ìœ :Adaptive Normalizationì€ ì‹¤í–‰ ì‹œê°„(runtime) ì¤‘ì— ìƒˆë¡œìš´ ê°€ì¤‘ì¹˜ë¥¼ ìƒì„±.ë”°ë¼ì„œ, ì‚¬ì „ ê³„ì‚°ëœ íšŒì „ í–‰ë ¬ì„ ì ìš©í•  ìˆ˜ ì—†ìŒ.ì‹¤í–‰ ì‹œê°„ì— íšŒì „ì„ ì ìš©í•˜ë©´ ì—°ì‚°ëŸ‰ì´ ì¦ê°€í•˜ì—¬ ì†ë„ê°€ ëŠë ¤ì§. ğŸ“¢ì´ìƒì¹˜(Outlier)ê°€ ìˆìœ¼ë©´ ì–´ë–»ê²Œ ì„±ëŠ¥ì´ ì €í•˜ë ê¹Œ?1. ìŠ¤ì¼€ì¼ë§ íŒ©í„° ë¬¸ì œì–‘ìí™”ëŠ” ë°ì´í„°ì˜ ì „ì²´ ë²”ìœ„(min-max)ë¥¼ ê³ ë ¤í•´ì„œ ê°’ì„ ì¡°ì •í•´ì•¼ í•˜ëŠ”ë°, ì´ìƒì¹˜ê°€ ìˆìœ¼ë©´ ìŠ¤ì¼€ì¼ë§ íŒ©í„°ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì»¤ì§.ëŒ€ë¶€ë¶„ì˜ ê°’ì€ ì‘ì€ ë²”ìœ„ì— ëª°ë ¤ ìˆëŠ”ë°, í•œë‘ ê°œì˜ í° ê°’(ì´ìƒì¹˜) ë•Œë¬¸ì— ìŠ¤ì¼€ì¼ì´ ì»¤ì§€ë©´ ì‘ì€ ê°’ë“¤ì´ ëª¨ë‘ 0 ë˜ëŠ” ë™ì¼í•œ ê°’ìœ¼ë¡œ ë§¤í•‘ë˜ëŠ” ë¬¸ì œê°€ ìƒê²¨.ì˜ˆì œ:ì›ë˜ ê°€ì¤‘ì¹˜ ê°’: [-0.1, -0.05, 0.0, 0.05, 0.1, 5.0] (ì´ìƒì¹˜: 5.0)ì´ìƒì¹˜ê°€ ì—†ì„ ë•Œ: s_X=0.1, ë²”ìœ„ë¥¼ [-8, 7]ë¡œ ë§¤í•‘ ê°€ëŠ¥ì´ìƒì¹˜(5.0)ê°€ í¬í•¨ë  ë•Œ: s_X=5.0, ì‘ì€ ê°’ë“¤ì€ ëª¨ë‘ 0ì´ ë˜ì–´ ì •ë³´ ì†ì‹¤ ë°œìƒ2. ì •ë³´ ì†ì‹¤ (Precision Loss)ì´ìƒì¹˜ë¥¼ ê³ ë ¤í•´ ì „ì²´ ê°’ì„ ì¡°ì •í•˜ë©´, ë‚˜ë¨¸ì§€ ëŒ€ë¶€ë¶„ì˜ ê°’ì´ ë§¤ìš° ì‘ì€ ì°¨ì´ë¥¼ ê°€ì§€ëŠ”ë°ë„ ë™ì¼í•œ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ í‘œí˜„ë  ê°€ëŠ¥ì„±ì´ ë†’ì•„.ì¦‰, ëª¨ë¸ì´ ì‘ì€ ë³€í™”(gradient ë“±)ë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•˜ê³  í‘œí˜„ë ¥ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§.3. í™œì„±í™”(Activation) ì´ìƒì¹˜ë¡œ ì¸í•´ ì—°ì‚°ëŸ‰ ì¦ê°€ì´ìƒì¹˜ê°€ ìˆìœ¼ë©´ ì–‘ìí™”ëœ ê°’ì„ ë‹¤ì‹œ ë¶€ë™ì†Œìˆ˜ì ìœ¼ë¡œ ë³€í™˜í•  ë•Œ FP32(32-bit)ë¡œ ë³€í™˜í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„, ê²°êµ­ ì—°ì‚° ìµœì í™”ê°€ ê¹¨ì§.íŠ¹íˆ Transformer ê¸°ë°˜ ëª¨ë¸ì—ì„œëŠ” Self-Attention ì—°ì‚°ì´ í¬ê¸° ë•Œë¬¸ì— í™œì„±í™”ê°’(Activation)ì˜ ì´ìƒì¹˜ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ê³¼ ì—°ì‚°ëŸ‰ ì¦ê°€ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ. 4 Method 4.1 PROBLEM FORMULATIONì–‘ìí™”ì˜ ì˜¤ë¥˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë¨.E(X,W)=âˆ¥XWâˆ’Q(X)Q(W)âˆ¥FE(\mathbf{X}, \mathbf{W}) = \left\| \mathbf{XW} - Q(\mathbf{X}) Q(\mathbf{W}) \right\|_FE(X,W)=âˆ¥XWâˆ’Q(X)Q(W)âˆ¥Fâ€‹ì›ë˜ í–‰ë ¬ ê³±ì…ˆ XWì™€ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ ì—°ì‚°í•œ Q(X)Q(W)ì˜ ì°¨ì´ë¥¼ ì¸¡ì •í•˜ëŠ” ê°’ ì¢€ ë” ì„¸ë¶„í™”E(X,W)â‰¤âˆ¥Xâˆ¥Fâˆ¥Wâˆ’Q(W)âˆ¥F+âˆ¥Xâˆ’Q(X)âˆ¥F(âˆ¥Wâˆ¥F+âˆ¥Wâˆ’Q(W)âˆ¥F).E(\mathbf{X}, \mathbf{W}) \leq \left\| \mathbf{X} \right\|_F \left\| \mathbf{W} - Q(\mathbf{W}) \right\|_F+ \left\| \mathbf{X} - Q(\mathbf{X}) \right\|_F \left( \left\| \mathbf{W} \right\|_F + \left\| \mathbf{W} - Q(\mathbf{W}) \right\|_F \right).E(X,W)â‰¤âˆ¥Xâˆ¥Fâ€‹âˆ¥Wâˆ’Q(W)âˆ¥Fâ€‹+âˆ¥Xâˆ’Q(X)âˆ¥Fâ€‹(âˆ¥Wâˆ¥Fâ€‹+âˆ¥Wâˆ’Q(W)âˆ¥Fâ€‹).ì´ ì‹ì€ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ê²°ì •í•˜ëŠ” ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ë³´ì—¬ì¤Œ:ê°€ì¤‘ì¹˜ì˜ í¬ê¸°: âˆ¥Wâˆ¥F\|\mathbf{W}\|_Fâˆ¥Wâˆ¥Fâ€‹ï»¿ì…ë ¥ì˜ í¬ê¸°: âˆ¥Xâˆ¥F\|\mathbf{X}\|_Fâˆ¥Xâˆ¥Fâ€‹ï»¿ê°€ì¤‘ì¹˜ì˜ ì–‘ìí™” ì˜¤ë¥˜: âˆ¥Wâˆ’Q(W)âˆ¥F\|\mathbf{W} - Q(\mathbf{W})\|_Fâˆ¥Wâˆ’Q(W)âˆ¥Fâ€‹ï»¿ì…ë ¥ì˜ ì–‘ìí™” ì˜¤ë¥˜: âˆ¥Xâˆ’Q(X)âˆ¥F\|\mathbf{X} - Q(\mathbf{X})\|_Fâˆ¥Xâˆ’Q(X)âˆ¥Fâ€‹ï»¿ì¦‰, ì „ì²´ì ì¸ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ë ¤ë©´ ì´ ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ì¡°ì ˆí•˜ëŠ” ê²ƒì´ í•µì‹¬ì„. 4.2 SVDQUANT: ABSORBING OUTLIERS VIA LOW-RANK BRANCHMigrate outliers from activation to weightAfter Smoothing ë¶€ë¶„ì´ ê¸°ì¡´ ê¸°ë²•ì¸ë°, ë‹¨ì ì´ ìˆìŒâœ… Activation(X)ì˜ ì´ìƒì¹˜ë¥¼ ì—†ì• ëŠ” ê²ƒì€ ì„±ê³µí–ˆì§€ë§Œ,âŒ ëŒ€ì‹  Weight(W)ì˜ ì´ìƒì¹˜ê°€ ì¦ê°€í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ.ê²°ê³¼ì ìœ¼ë¡œ, ì „ì²´ì ì¸ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ì¤„ì´ë ¤ëŠ” ëª©ì ì´ ì œëŒ€ë¡œ ë‹¬ì„±ë˜ì§€ ì•ŠìŒ. Absorb magnified weight outliers with a low-rank branch.Weightë¥¼ ë°”ë¡œ 4-bitë¡œ ì–‘ìí™”í•˜ì§€ ì•Šê³ , Low-Rank Componentë¥¼ ë”°ë¡œ ë¶„ë¦¬í•´ì„œ ì´ìƒì¹˜ë¥¼ í¡ìˆ˜í•˜ëŠ” ì „ëµW^=L1L2+R,whereÂ L1âˆˆRmÃ—rÂ andÂ L2âˆˆRrÃ—n\hat{\mathbf{W}} = \mathbf{L}_1 \mathbf{L}_2 + \mathbf{R}, \quad \text{where } \mathbf{L}_1 \in \mathbb{R}^{m \times r} \text{ and } \mathbf{L}_2 \in \mathbb{R}^{r \times n}W^=L1â€‹L2â€‹+R,whereÂ L1â€‹âˆˆRmÃ—rÂ andÂ L2â€‹âˆˆRrÃ—nL1=UÎ£r\mathbf{L}_1 = \mathbf{U} \boldsymbol{\Sigma}_rL1â€‹=UÎ£râ€‹ï»¿ (ì…ë ¥ ì°¨ì›ì„ ì¤„ì´ëŠ” í–‰ë ¬)L2=VrT\mathbf{L}_2 = \mathbf{V}_r^TL2â€‹=VrTâ€‹ï»¿ (ì¶œë ¥ ì°¨ì›ì„ ì¤„ì´ëŠ” í–‰ë ¬)R\mathbf{R}Rï»¿ (ì”ì—¬ í–‰ë ¬, 4-bitë¡œ ì–‘ìí™”ë  ë¶€ë¶„) SVD(Singular Value Decomposition, íŠ¹ì´ê°’ ë¶„í•´)ì›ë˜ í–‰ë ¬ í¬ê¸°ê°€ mÃ—nì´ë©´, ì§ì ‘ ê³±í•˜ë©´ ì—°ì‚°ëŸ‰ì´ O(mn).í•˜ì§€ë§Œ SVDë¡œ Rank rë§Œ ìœ ì§€í•˜ë©´ ì—°ì‚°ëŸ‰ì´ O(mr+rn)ë¡œ ì¤„ì–´ë“¦.U\mathbf{U}Uï»¿: ì…ë ¥ ì°¨ì› ë³€í™˜ í–‰ë ¬ (mÃ—m)(m \times m)(mÃ—m)ï»¿Î£\boldsymbol{\Sigma}Î£ï»¿: ëŒ€ê° í–‰ë ¬ (íŠ¹ì´ê°’ë“¤ì´ ë“¤ì–´ ìˆëŠ” í–‰ë ¬, mÃ—nm \times nmÃ—nï»¿)VT\mathbf{V}^TVTï»¿: ì¶œë ¥ ì°¨ì› ë³€í™˜ í–‰ë ¬ (nÃ—n)(n \times n)(nÃ—n)ï»¿ í¬ì¸íŠ¸ëŠ” ëŒ€ê° ì›ì†Œ(íŠ¹ì´ê°’, Singular Values)í° íŠ¹ì´ê°’ë“¤ì€ ì¤‘ìš”í•œ ì •ë³´(íŒ¨í„´)ë¥¼ ë‚˜íƒ€ëƒ„.ì‘ì€ íŠ¹ì´ê°’ë“¤ì€ ë…¸ì´ì¦ˆ(ì´ìƒì¹˜ í¬í•¨)ë¥¼ ë‚˜íƒ€ë‚¼ ê°€ëŠ¥ì„±ì´ ë†’ìŒ. Low-Rank ë¶„í•´ XW=X^W^=X^L1L2+X^Râ‰ˆX^L1L2âŸ16-bitÂ low-rankÂ branch+Q(X^)Q(R)âŸ4-bitÂ residual.\mathbf{XW} = \hat{\mathbf{X}} \hat{\mathbf{W}} = \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + \hat{\mathbf{X}} \mathbf{R}\approx \underbrace{\hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2}_{\text{16-bit low-rank branch}}+ \underbrace{Q(\hat{\mathbf{X}}) Q(\mathbf{R})}_{\text{4-bit residual}}.XW=X^W^=X^L1â€‹L2â€‹+X^Râ‰ˆ16-bitÂ low-rankÂ branchX^L1â€‹L2â€‹â€‹â€‹+4-bitÂ residualQ(X^)Q(R)â€‹â€‹.ï»¿ëŒ€ê° ì›ì†Œ ì¤‘ì—ì„œ ìƒìœ„ rê°œì˜ íŠ¹ì´ê°’ë§Œ ìœ ì§€í•˜ì—¬, ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´ë§Œ í¬í•¨í•˜ëŠ” L1,L2ë¥¼ ìƒì„±. â†’ ë”°ë¡œ 16-bit ì—°ì‚°ë‚¨ì€ ë¶€ë¶„(ì‘ì€ íŠ¹ì´ê°’) â†’ Rìœ¼ë¡œ ë¶„ë¦¬ â†’ 4-bit ì—°ì‚° â†’ ì‘ì€ íŠ¹ì´ê°’ë§Œ ë‚¨ì•˜ìœ¼ë¯€ë¡œ Rì„ 4-bitë¡œ ì–‘ìí™”í•˜ë”ë¼ë„ ì •ë³´ ì†ì‹¤ì´ í¬ê²Œ ì¤„ì–´ë“¦ 4.3 NUNCHAKU: Fusing Low-Rank and Low-Bit Branch KernelsLow-Rank Branchì—ì„œ ë°œìƒí•˜ëŠ” ì„±ëŠ¥ ì €í•˜ ë¬¸ì œQKV Projectionê³¼ ê°™ì€ ì—°ì‚°ì—ì„œëŠ” Low-Rank Branchê°€ L2 ìºì‹œë¥¼ ì´ˆê³¼í•˜ë©´ì„œ DRAMì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•¨.ì´ëŠ” ë©”ëª¨ë¦¬ ì ‘ê·¼ ë¹„ìš©ì´ ì¦ê°€í•˜ì—¬ ì—°ì‚° ì†ë„ê°€ ë–¨ì–´ì§€ëŠ” ì›ì¸.Figure 6(a)ì—ì„œ ë³´ë“¯ì´, Low-Rank BranchëŠ” ì „ì²´ 4-bit ì—°ì‚° ì§€ì—°ì˜ 50%ë¥¼ ì°¨ì§€.NUNCHAKU: í•´ê²° ë°©ë²•ë…¼ë¬¸ì—ì„œëŠ” Low-Rank Branchì™€ Low-Bit Branchì˜ ì—°ì‚°ì„ í•˜ë‚˜ë¡œ í•©ì³(fusing) ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì¤„ì´ëŠ” ë°©ë²•ì„ ì œì•ˆ.Figure 6(b)ì—ì„œ ë³´ë“¯ì´, ë‘ ê°œì˜ Kernelì„ í•©ì³ì„œ ë°ì´í„°ë¥¼ ê³µìœ í•¨:Down Projection ì—°ì‚°ì„ Quantization Kernelê³¼ í•©ì¹¨.Up Projection ì—°ì‚°ì„ 4-bit ì—°ì‚° Kernelê³¼ í•©ì¹¨.ì´ë¥¼ í†µí•´ Low-Rank Branchê°€ Low-Bit Branchì™€ í™œì„±í™”ê°’ì„ ê³µìœ í•  ìˆ˜ ìˆì–´, ì¶”ê°€ì ì¸ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì œê±°.ê²°ê³¼ì ìœ¼ë¡œ, Kernel í˜¸ì¶œ íšŸìˆ˜ê°€ ì ˆë°˜ìœ¼ë¡œ ì¤„ì–´ë“¤ì–´ ì†ë„ ê°œì„  íš¨ê³¼ê°€ ìˆìŒ. 5 ExperimentsBenchmark modelsModelArchitectureParametersSpecial FeaturesFLUX.1-devDiT12B50-step guidance-distilledFLUX.1-schnellDiT12B4-step timestep-distilledPixArt-Î£DiT600M20-step defaultSANADiT1.6B32Ã— compression autoencoder, Linear AttentionSDXLUNet2.6B30-stepBaselines QuantizationMethodDescriptionUsage in BenchmarkingNF4(4-bit NormalFloat)Optimized 4-bit weight-only quantization assuming normal distributionUsed as a weight-only quantization baseline for FLUX.1ViDiT-QPer-token quantization + smoothing to reduce outliersAchieves lossless 8-bit quantization on PixArt-Î£MixDQDetects outliers in text embeddings and protects them with 16-bit pre-computationEnables W4A8 quantization with minimal performance drop on SDXL-TurboTensorRTIndustry-standard PTQ toolkit for 8-bit quantizationUses smoothing + percentile calibration over specific timesteps Limitationì—„ì²­ë‚œ ê¸°ìˆ ì´ê³  ê¸°ìˆ ë©´ì—ì„œëŠ” í•œê³„ê°€ ì—†ë‹¤ê³  ìƒê°í•¨. í•˜ì§€ë§Œ, êµ³ì´ í•œê³„ì ì„ ë½‘ìë©´, Song Hanì´ NVIDIAì—ì„œë„ ì—°êµ¬ë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— NVIDIA chipë§Œì„ ìœ„í•´ì„œ ì½”ë“œë¥¼ ì§°ê³ , ì´ì— ìµœì í™”ë˜ì–´ìˆë‹¤.ì‹¬ì§€ì–´ CUDA 12.2 ì´ìƒì—ì„œë§Œ ì‘ë™ ê°€ëŠ¥í•´ì„œ ë‚´ í•™êµ ì„œë²„ë¡œ ëŒë ¤ë³´ë ¤ê³  í–ˆëŠ”ë°, GPU Driver versionì´ ë‚®ì•„ì„œ ì•ˆëŒì•„ê°€ë”ë¼.ë¬¼ë¡  NVIDIA chipì—ì„œ ê·¹í•œì˜ ìµœì í™”ë¥¼ ìœ„í•´ì„œ ì˜€ì§€ë§Œ, ë‹¤ë¥¸ GPU ì¥ë¹„ì—ì„œëŠ” ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.ê°™ì€ ë°©ì‹ì„ ë‹¤ë¥¸ GPU ì¥ë¹„ì™€ Mobile edge deviceë“¤ì— ì ìš©í•œë‹¤ë©´ ì¢‹ì„ ê²ƒì´ë‹¤. ë©”ëª¨ë¦¬ë‘ ì¶”ë¡ ì‹œê°„ë§Œ ì¤„ì¸ê²Œ ì•„ë‹Œê°€? ì •í™•ë„ë¥¼ ì™œ ì–¸ê¸‰?Memory, Latency?ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ SVDì–‘ìí™”ë¡œ ì¸í•´ ë©”ëª¨ë¦¬ì™€ latency ì´ì ì„ ì–»ì€ê²Œ í¬ì¸íŠ¸ ì•„ë‹Œê°€?ë¹„êµê°€ ê¸°ì¡´ 16bit / W4A16 / W4A4(SVD) ì˜€ê¸° ë•Œë¬¸ì— í° ì°¨ì´ë¥¼ ë³´ì—¬ì¤€ ê²ƒ ê°™ë‹¤.Inference timeê³¼ Memory ì¤„ì¸ê²Œ í¬ì¸íŠ¸ì¸ì¤„ ì•Œì•˜ëŠ”ë° ì™„ì „ ì˜ëª» ìƒê°í•œê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤. ë¬¼ë¡  Outlierë•Œë¬¸ì— 32bitë¡œ ì²˜ë¦¬í–ˆë˜ ë¶€ë¶„ë“¤ì´ ì—†ì–´ì§€ê³  16bitë¡œ low rankë¡œ ë”°ë¡œ ë¹¼ë‹ˆê¹Œ í–¥ìƒì€ ëì„ ê²ƒì´ì§€ë§Œ, ì œ ìƒê°ì—ëŠ” SVD ì—†ëŠ” W4A4ë‘ ë¹„êµí–ˆë‹¤ë©´, Memoryì™€ ì¶”ë¡ ì‹œê°„ì´ 3ë°° ì´ìƒ ì°¨ì´ë‚˜ì§€ëŠ” ì•Šì„ ê²ƒì…ë‹ˆë‹¤.ì •í™•ë„?ê¸°ì¡´ ì–‘ìí™”ì—ì„œ ì •í™•ë„ë¥¼ ìœ ì§€í•˜ëŠ” ë¶€ë¶„ì´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë§ì´ ë–¨ì–´ì¡Œì—ˆë‹¤.(ë‘ë²ˆì§¸ê°€ ê¸°ì¡´ ì–‘ìí™” ê¸°ë²•, ì‹¬ì§€ì–´ W4A4ê°€ ì•„ë‹Œ W4A16ì¸ë°ë„ ë” ë–¨ì–´ì§€ëŠ” ëª¨ìŠµì„ ë³´ì„)ë³´ì¡´ í•  ìˆ˜ ìˆì—ˆë˜ ì´ìœ  â†’ Low-Rank Branchê¸°ì¡´ 4-bit ì–‘ìí™” ë°©ì‹ì—ì„œëŠ” Weight ì „ì²´ë¥¼ 4-bitë¡œ ë³€í™˜í•˜ë¯€ë¡œ ì •ë³´ ì†ì‹¤ì´ í¼.SVDQuantëŠ” Weightë¥¼ Low-Rank Component (L1L2) ì™€ ì”ì—¬ (R)ë¡œ ë¶„í•´í•œë‹¤.XW=X^W^=X^L1L2+X^Râ‰ˆX^L1L2âŸ16-bitÂ low-rankÂ branch+Q(X^)Q(R)âŸ4-bitÂ residual.\mathbf{XW} = \hat{\mathbf{X}} \hat{\mathbf{W}} = \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + \hat{\mathbf{X}} \mathbf{R}\approx \underbrace{\hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2}_{\text{16-bit low-rank branch}}+ \underbrace{Q(\hat{\mathbf{X}}) Q(\mathbf{R})}_{\text{4-bit residual}}.XW=X^W^=X^L1â€‹L2â€‹+X^Râ‰ˆ16-bitÂ low-rankÂ branchX^L1â€‹L2â€‹â€‹â€‹+4-bitÂ residualQ(X^)Q(R)â€‹â€‹.L1L2ëŠ” 16-bit precisionìœ¼ë¡œ ìœ ì§€ â†’ ì¤‘ìš”í•œ ì •ë³´ëŠ” ê³ ì •ë°€ë„ë¡œ ë‚¨ê²¨ë‘ .ì”ì—¬ Rë§Œ 4-bitë¡œ ì–‘ìí™”í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”í•¨í•œ ë²ˆë§Œ Low-Rank ë¶„í•´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë°˜ë³µì ìœ¼ë¡œ Rì„ ìµœì í™”í•˜ì—¬ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™” quantization errorâˆ¥X^W^âˆ’(X^L1L2+Q(X^)Q(R))âˆ¥F=âˆ¥X^Râˆ’Q(X^)Q(R)âˆ¥F=E(X^,R),\left\| \hat{\mathbf{X}} \hat{\mathbf{W}} - \left( \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + Q(\hat{\mathbf{X}}) Q(\mathbf{R}) \right) \right\|_F= \left\| \hat{\mathbf{X}} \mathbf{R} - Q(\hat{\mathbf{X}}) Q(\mathbf{R}) \right\|_F= E(\hat{\mathbf{X}}, \mathbf{R}),â€‹X^W^âˆ’(X^L1â€‹L2â€‹+Q(X^)Q(R))â€‹Fâ€‹=â€‹X^Râˆ’Q(X^)Q(R)â€‹Fâ€‹=E(X^,R),ì´ ì‹ì—ì„œ L1L2+Rë¡œ ë¶„í•´í•¨ìœ¼ë¡œì„œ Quantizationì„ ì§„í–‰í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” Errorë¥¼ ìµœëŒ€í•œ ì¤„ì¸ê±°ì„. Quantization ìì²´ê°€ Outlierë¡œ ì¸í•´ì„œ ì •í™•ë„ë¥¼ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ë°–ì— ì—†ëŠ”ë°, ì´ë¥¼ ìµœëŒ€í•œ ë³´ì¡´í–ˆë‹¤ëŠ” ì ì´ ì—„ì²­ë‚œ ì—°êµ¬ì¸ ê²ƒì„!!!!SVDë¥¼ LLMì— ì¨ë„ ë˜ëŠ”ê°€? ì™œ Diffusionìœ¼ë¡œ ë…¼ë¬¸ì„?ê¸°ì¡´ ì œ ìƒê° : ì ìš© í•  ìˆ˜ëŠ” ìˆì„ ê²ƒ ê°™ìœ¼ë‚˜, LLMì€ ë³‘ëª©í˜„ìƒì´ ë¬´ê±°ìš´ ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •ì—ì„œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ ë’¤ì— ì—°ì‚°ì„ ì¤„ì—¬ë„ Diffusionë§Œí¼ í° íš¨ê³¼ëŠ” ë‚˜íƒ€ë‚  ì§€ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. (Diffusionì€ ì—°ì‚°ì´ ë³‘ëª©ì„) ë¬¼ë¡  ê¸°ì¡´ ì œ ìƒê°ë„ ì°¾ì•„ë³´ë‹ˆ ë§ëŠ” ê²ƒ ê°™ìœ¼ë‚˜, ì‹¤ì œë¡œ í™œìš©í•œë‹¤ë©´, ë°”ë¡œ ìœ„ ì§ˆë¬¸ì—ì„œ ë‹¤ë¤˜ë˜ ì •í™•ë„ í–¥ìƒì—ë„ ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì—, ì˜¤íˆë ¤ ì •í™•ë„ ë¶€ë¶„ì—ì„œ ë„ì›€ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê¸°ì¡´ ì–‘ìí™”GPTQ â†’ Post-training quantization ë°©ì‹, Weightë§Œ 4-bit ë³€í™˜.AWQ â†’ Weight ì¤‘ìš”ë„ë¥¼ ë¶„ì„í•´ ì„ íƒì ìœ¼ë¡œ 4-bit ë³€í™˜.SmoothQuant â†’ Activation ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™ì‹œì¼œ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ì¤„ì´ëŠ” ë°©ì‹. SVDQuant ì‚¬ìš©í•œë‹¤ë©´?Weightë¥¼ Low-Rank(16-bit) + Residual(4-bit)ë¡œ ë‚˜ëˆ„ì–´ ì¤‘ìš”í•œ ì •ë³´ëŠ” ìœ ì§€í•˜ë©´ì„œ ì••ì¶•í•˜ë¯€ë¡œDiffusionì²˜ëŸ¼ ì •í™•ë„ í–¥ìƒì— ë„ì›€ì´ ë ë“¯ !!! For an explanation from the author, Song HanYoutube [Introduction to SVDQuant for 4-bit Diffusion Models] Demohttps://hanlab.mit.edu/projects/svdquant]]></summary></entry><entry><title type="html">Ablation Study ë€?</title><link href="https://hoonably.github.io/blog/Ablation-Study/" rel="alternate" type="text/html" title="Ablation Study ë€?"/><published>2025-03-05T08:20:00+00:00</published><updated>2025-03-05T08:20:00+00:00</updated><id>https://hoonably.github.io/blog/Ablation-Study</id><content type="html" xml:base="https://hoonably.github.io/blog/Ablation-Study/"><![CDATA[<p><a href="https://hanlab.mit.edu/projects/svdquant">SVDQuant Project</a></p> <p>ë…¼ë¬¸ì„ ì½ë‹¤ê°€ ë„ëŒ€ì²´ Ablation Studyê°€ ë­ì§€? í–ˆë‹¤.</p> <p>í•œêµ­ì–´ë¡œ ì§ì—­í•˜ë©´ ì ˆì œ ì—°êµ¬ì¸ë° í•´ì„í•´ë„ ì´ê²Œ ë­”ì§€ ì‹¶ì–´ì„œ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë´¤ë‹¤.</p> <blockquote> <p>ëª¨ë¸ì—ì„œ íŠ¹ì • ìš”ì†Œë¥¼ ì œê±°í•˜ê±°ë‚˜ ë³€ê²½í•˜ë©´ì„œ í•´ë‹¹ ìš”ì†Œê°€ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•˜ëŠ” ì‹¤í—˜</p> </blockquote> <hr/> <h3 id="-ablation-studyì˜-ëª©ì ">ğŸ’¡ Ablation Studyì˜ ëª©ì </h3> <ol> <li>ê° êµ¬ì„± ìš”ì†Œì˜ ì¤‘ìš”ë„ í‰ê°€ <ul> <li>ëª¨ë¸ì—ì„œ íŠ¹ì • ìš”ì†Œ(ì˜ˆ: íŠ¹ì • ë ˆì´ì–´, ì†ì‹¤ í•¨ìˆ˜, ë°ì´í„° ì²˜ë¦¬ ê¸°ë²• ë“±)ë¥¼ ì œê±°í•˜ê±°ë‚˜ ìˆ˜ì •í–ˆì„ ë•Œ ì„±ëŠ¥ì´ ì–¼ë§ˆë‚˜ ë–¨ì–´ì§€ëŠ”ì§€ ë³¸ë‹¤.</li> <li>ì˜ˆë¥¼ ë“¤ì–´ â€œSVDQuantì—ì„œ SVDë¥¼ ì•ˆ ì“°ë©´ ì„±ëŠ¥ì´ ì–´ë–»ê²Œ ë˜ì§€?â€ ê°™ì€ ì‹¤í—˜.</li> </ul> </li> <li>ìµœì ì˜ ëª¨ë¸ êµ¬ì„± ì°¾ê¸° <ul> <li>ì—¬ëŸ¬ ìš”ì†Œë¥¼ ì‹¤í—˜ì ìœ¼ë¡œ ë¹„êµí•˜ë©´ì„œ ë¶ˆí•„ìš”í•œ ë¶€ë¶„ì„ ì œê±°í•´ <strong>ë” ê°€ë³ê³  ë¹ ë¥¸ ëª¨ë¸</strong>ì„ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ.</li> </ul> </li> <li>ì´ë¡ ì  ì •ë‹¹ì„± ê²€ì¦ <ul> <li>â€œìš°ë¦¬ê°€ ì œì•ˆí•œ ë°©ë²•ì´ ì •ë§ íš¨ê³¼ê°€ ìˆëŠ”ì§€?â€ë¥¼ ì¦ëª…í•˜ëŠ” ê³¼ì •.</li> </ul> </li> </ol> <hr/> <h3 id="-ì˜ˆì œ-svdquant-ë…¼ë¬¸ì—ì„œ-ablation-study">ğŸ’¡ ì˜ˆì œ: SVDQuant ë…¼ë¬¸ì—ì„œ Ablation Study</h3> <figure> <picture> <img src="https://github.com/user-attachments/assets/f36e5dd1-951f-44e7-a2a0-37ab7ec0aa11" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>SVDQuant ë…¼ë¬¸ì—ì„œëŠ” <strong>Figure 10</strong>ì—ì„œ ë‹¤ì–‘í•œ ì‹¤í—˜ì„ í•¨:</p> <ul> <li><strong>SVDë§Œ ì ìš©</strong> â†’ ì„±ëŠ¥ì´ ë‚®ì•„ì§ âŒ</li> <li><strong>ê¸°ë³¸ì ì¸ 4-bit ì–‘ìí™”</strong> â†’ í’ˆì§ˆì´ ë§ì´ ë–¨ì–´ì§ âŒ</li> <li><strong>Smoothed Quantization ì¶”ê°€</strong> â†’ ì¡°ê¸ˆ ë‚˜ì•„ì§€ì§€ë§Œ ì—¬ì „íˆ ë¶€ì¡±í•¨ âŒ</li> <li><strong>LoRC ë°©ì‹ ì ìš©</strong> â†’ íš¨ê³¼ê°€ ì ìŒ âŒ</li> <li><strong>SVDQuant ë°©ì‹ ì ìš©</strong> â†’ ê°€ì¥ ì¢‹ì€ ê²°ê³¼ âœ…</li> </ul> <p>ì¦‰, <strong>ê° ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ì œê±°í•˜ë©´ì„œ ì‹¤í—˜</strong>ì„ ì§„í–‰í•´ì„œ â€œSVDQuantê°€ ì™œ íš¨ê³¼ì ì¸ê°€?â€ë¥¼ ì¦ëª…í•¨.</p> <hr/> <h3 id="-ì‰½ê²Œ-ë¹„ìœ í•˜ë©´">ğŸ’¡ ì‰½ê²Œ ë¹„ìœ í•˜ë©´?</h3> <p>Ablation StudyëŠ” ë§ˆì¹˜ <strong>ìš”ë¦¬ì—ì„œ íŠ¹ì • ì¬ë£Œë¥¼ ë¹¼ë³´ë©´ì„œ ë§›ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ì‹¤í—˜í•˜ëŠ” ê³¼ì •</strong>ê³¼ ë¹„ìŠ·í•¨</p> <ul> <li>ì¹´ë ˆë¥¼ ë§Œë“¤ë©´ì„œ <strong>â€œì–‘íŒŒë¥¼ ë¹¼ë©´?â€</strong>, <strong>â€œí›„ì¶”ë¥¼ ë¹¼ë©´?â€</strong>, <strong>â€œì†Œê¸ˆì„ ì¤„ì´ë©´?â€</strong> í•˜ëŠ” ì‹ìœ¼ë¡œ ì‹¤í—˜</li> <li>ìµœì¢…ì ìœ¼ë¡œ â€œì´ ì¬ë£Œê°€ í•µì‹¬ì´êµ¬ë‚˜!â€ë¥¼ ì°¾ì•„ë‚´ëŠ” ê³¼ì •</li> </ul> <p>ê·¸ë˜ì„œ ë…¼ë¬¸ì—ì„œ <strong>Ablation Study</strong>ë¼ê³  í•˜ë©´ â€œ<strong>ì´ ê¸°ëŠ¥ì´ ì—†ì—ˆìœ¼ë©´ ì–´ë• ì„ê¹Œ?</strong>â€œë¥¼ ì‹¤í—˜í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•˜ë©´ ë¨.</p>]]></content><author><name></name></author><category term="Study"/><summary type="html"><![CDATA[SVDQuant Project]]></summary></entry><entry><title type="html">Ablation Study ë€?</title><link href="https://hoonably.github.io/blog/ablation-study/" rel="alternate" type="text/html" title="Ablation Study ë€?"/><published>2025-03-05T08:20:00+00:00</published><updated>2025-03-05T08:20:00+00:00</updated><id>https://hoonably.github.io/blog/ablation-study</id><content type="html" xml:base="https://hoonably.github.io/blog/ablation-study/"><![CDATA[<p><a href="https://hanlab.mit.edu/projects/svdquant">SVDQuant Project</a></p> <p>ë…¼ë¬¸ì„ ì½ë‹¤ê°€ ë„ëŒ€ì²´ Ablation Studyê°€ ë­ì§€? í–ˆë‹¤.</p> <p>í•œêµ­ì–´ë¡œ ì§ì—­í•˜ë©´ ì ˆì œ ì—°êµ¬ì¸ë° í•´ì„í•´ë„ ì´ê²Œ ë­”ì§€ ì‹¶ì–´ì„œ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë´¤ë‹¤.</p> <blockquote> <p>ëª¨ë¸ì—ì„œ íŠ¹ì • ìš”ì†Œë¥¼ ì œê±°í•˜ê±°ë‚˜ ë³€ê²½í•˜ë©´ì„œ í•´ë‹¹ ìš”ì†Œê°€ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•˜ëŠ” ì‹¤í—˜</p> </blockquote> <hr/> <h3 id="-ablation-studyì˜-ëª©ì ">ğŸ’¡ Ablation Studyì˜ ëª©ì </h3> <ol> <li>ê° êµ¬ì„± ìš”ì†Œì˜ ì¤‘ìš”ë„ í‰ê°€ <ul> <li>ëª¨ë¸ì—ì„œ íŠ¹ì • ìš”ì†Œ(ì˜ˆ: íŠ¹ì • ë ˆì´ì–´, ì†ì‹¤ í•¨ìˆ˜, ë°ì´í„° ì²˜ë¦¬ ê¸°ë²• ë“±)ë¥¼ ì œê±°í•˜ê±°ë‚˜ ìˆ˜ì •í–ˆì„ ë•Œ ì„±ëŠ¥ì´ ì–¼ë§ˆë‚˜ ë–¨ì–´ì§€ëŠ”ì§€ ë³¸ë‹¤.</li> <li>ì˜ˆë¥¼ ë“¤ì–´ â€œSVDQuantì—ì„œ SVDë¥¼ ì•ˆ ì“°ë©´ ì„±ëŠ¥ì´ ì–´ë–»ê²Œ ë˜ì§€?â€ ê°™ì€ ì‹¤í—˜.</li> </ul> </li> <li>ìµœì ì˜ ëª¨ë¸ êµ¬ì„± ì°¾ê¸° <ul> <li>ì—¬ëŸ¬ ìš”ì†Œë¥¼ ì‹¤í—˜ì ìœ¼ë¡œ ë¹„êµí•˜ë©´ì„œ ë¶ˆí•„ìš”í•œ ë¶€ë¶„ì„ ì œê±°í•´ <strong>ë” ê°€ë³ê³  ë¹ ë¥¸ ëª¨ë¸</strong>ì„ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ.</li> </ul> </li> <li>ì´ë¡ ì  ì •ë‹¹ì„± ê²€ì¦ <ul> <li>â€œìš°ë¦¬ê°€ ì œì•ˆí•œ ë°©ë²•ì´ ì •ë§ íš¨ê³¼ê°€ ìˆëŠ”ì§€?â€ë¥¼ ì¦ëª…í•˜ëŠ” ê³¼ì •.</li> </ul> </li> </ol> <hr/> <h3 id="-ì˜ˆì œ-svdquant-ë…¼ë¬¸ì—ì„œ-ablation-study">ğŸ’¡ ì˜ˆì œ: SVDQuant ë…¼ë¬¸ì—ì„œ Ablation Study</h3> <figure> <picture> <img src="https://github.com/user-attachments/assets/f36e5dd1-951f-44e7-a2a0-37ab7ec0aa11" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>SVDQuant ë…¼ë¬¸ì—ì„œëŠ” <strong>Figure 10</strong>ì—ì„œ ë‹¤ì–‘í•œ ì‹¤í—˜ì„ í•¨:</p> <ul> <li><strong>SVDë§Œ ì ìš©</strong> â†’ ì„±ëŠ¥ì´ ë‚®ì•„ì§ âŒ</li> <li><strong>ê¸°ë³¸ì ì¸ 4-bit ì–‘ìí™”</strong> â†’ í’ˆì§ˆì´ ë§ì´ ë–¨ì–´ì§ âŒ</li> <li><strong>Smoothed Quantization ì¶”ê°€</strong> â†’ ì¡°ê¸ˆ ë‚˜ì•„ì§€ì§€ë§Œ ì—¬ì „íˆ ë¶€ì¡±í•¨ âŒ</li> <li><strong>LoRC ë°©ì‹ ì ìš©</strong> â†’ íš¨ê³¼ê°€ ì ìŒ âŒ</li> <li><strong>SVDQuant ë°©ì‹ ì ìš©</strong> â†’ ê°€ì¥ ì¢‹ì€ ê²°ê³¼ âœ…</li> </ul> <p>ì¦‰, <strong>ê° ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ì œê±°í•˜ë©´ì„œ ì‹¤í—˜</strong>ì„ ì§„í–‰í•´ì„œ â€œSVDQuantê°€ ì™œ íš¨ê³¼ì ì¸ê°€?â€ë¥¼ ì¦ëª…í•¨.</p> <hr/> <h3 id="-ì‰½ê²Œ-ë¹„ìœ í•˜ë©´">ğŸ’¡ ì‰½ê²Œ ë¹„ìœ í•˜ë©´?</h3> <p>Ablation StudyëŠ” ë§ˆì¹˜ <strong>ìš”ë¦¬ì—ì„œ íŠ¹ì • ì¬ë£Œë¥¼ ë¹¼ë³´ë©´ì„œ ë§›ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ì‹¤í—˜í•˜ëŠ” ê³¼ì •</strong>ê³¼ ë¹„ìŠ·í•¨</p> <ul> <li>ì¹´ë ˆë¥¼ ë§Œë“¤ë©´ì„œ <strong>â€œì–‘íŒŒë¥¼ ë¹¼ë©´?â€</strong>, <strong>â€œí›„ì¶”ë¥¼ ë¹¼ë©´?â€</strong>, <strong>â€œì†Œê¸ˆì„ ì¤„ì´ë©´?â€</strong> í•˜ëŠ” ì‹ìœ¼ë¡œ ì‹¤í—˜</li> <li>ìµœì¢…ì ìœ¼ë¡œ â€œì´ ì¬ë£Œê°€ í•µì‹¬ì´êµ¬ë‚˜!â€ë¥¼ ì°¾ì•„ë‚´ëŠ” ê³¼ì •</li> </ul> <p>ê·¸ë˜ì„œ ë…¼ë¬¸ì—ì„œ <strong>Ablation Study</strong>ë¼ê³  í•˜ë©´ â€œ<strong>ì´ ê¸°ëŠ¥ì´ ì—†ì—ˆìœ¼ë©´ ì–´ë• ì„ê¹Œ?</strong>â€œë¥¼ ì‹¤í—˜í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•˜ë©´ ë¨.</p>]]></content><author><name></name></author><category term="Study"/><summary type="html"><![CDATA[SVDQuant Project]]></summary></entry><entry><title type="html">Python env (Conda, Homebrew)</title><link href="https://hoonably.github.io/blog/python-env/" rel="alternate" type="text/html" title="Python env (Conda, Homebrew)"/><published>2025-02-17T07:26:20+00:00</published><updated>2025-02-17T07:26:20+00:00</updated><id>https://hoonably.github.io/blog/python-env</id><content type="html" xml:base="https://hoonably.github.io/blog/python-env/"><![CDATA[<h1 id="python--python3-alias">Python â†’ Python3 alias</h1> <p>aliasëŠ” ë§ê·¸ëŒ€ë¡œ ë³„ì¹­ì„ ì„¤ì •í•´ì£¼ëŠ” ëª…ë ¹ì–´</p> <p>pythonì´ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ python3ë¡œ ë™ì‘í•˜ë„ë¡ í•´ë¼!ëŠ” ì˜ë¯¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">python</span><span class="o">=</span>python3
</code></pre></div></div> <h1 id="macos-ê¸°ë³¸">macOS ê¸°ë³¸</h1> <ul> <li>macOS ê¸°ë³¸í¬í•¨</li> <li>/usr/bin/python3 (ë¹„ì¶”ì²œ, ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€)</li> <li>ì•„ë˜ íŒ¨í‚¤ì§€ë“¤ì€ macOS ê¸°ë³¸ íŒ¨í‚¤ì§€ë¼ ì§€ìš¸ í•„ìš” ì—†ìŒ</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/bin/python3 <span class="nt">-m</span> pip list
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë§¥ ê¸°ë³¸ í™˜ê²½</span>
Package    Version
<span class="nt">----------</span> <span class="nt">-------</span>
altgraph   0.17.2
future     0.18.2
macholib   1.15.2
pip        25.0.1
setuptools 58.0.4
six        1.15.0
wheel      0.37.0
</code></pre></div></div> <h1 id="homebrew">â­Â Homebrew</h1> <ul> <li>brew install pythonìœ¼ë¡œ ì‰½ê²Œ ì„¤ì¹˜ ê°€ëŠ¥.</li> <li>ìµœì‹  Python ë²„ì „ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.</li> <li>/opt/homebrew/bin/python3ì— ì„¤ì¹˜ë¨</li> <li><code class="language-plaintext highlighter-rouge">pip3</code>ìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬ ê°€ëŠ¥í•˜ë©°, ì‹œìŠ¤í…œ ê¸°ë³¸ Pythonê³¼ ë¶„ë¦¬ë¨.</li> <li> <p>ì„¤ì¹˜</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  /bin/bash <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> <span class="o">[</span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh]<span class="o">(</span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="o">)</span><span class="si">)</span><span class="s2">"</span>
</code></pre></div> </div> </li> <li> <p>Homebrewë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">echo</span> <span class="s1">'export PATH="/opt/homebrew/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.zshrc
  <span class="nb">source</span> ~/.zshrc
</code></pre></div> </div> </li> <li> <p>ì„¤ì¹˜ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  which brew
  brew <span class="nt">-v</span>
</code></pre></div> </div> </li> </ul> <h1 id="anaconda">â­Â Anaconda</h1> <ul> <li>ë°ì´í„° ê³¼í•™, ë¨¸ì‹ ëŸ¬ë‹(ML), ê³¼í•™ ì»´í“¨íŒ… í™˜ê²½ì— ìµœì í™”ë¨.</li> <li>íŒ¨í‚¤ì§€ ê´€ë¦¬ê°€ ì‰½ê³ , conda ëª…ë ¹ì–´ë¡œ ê°€ìƒí™˜ê²½ì„ ë§Œë“¤ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŒ.</li> <li> <p>Jupyter Notebook, SciPy, TensorFlow ë“± ì£¼ìš” ë°ì´í„° ê³¼í•™ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ë¨.</p> <p>â†’ AI ê´€ë ¨ ì¼ì„ í•  ë•Œ ê°€ìƒí™˜ê²½ì„ ë§Œë“¤ì–´ì„œ í™œìš©í•˜ì.</p> </li> <li>homebrewë¥¼ í†µí•œ ì„¤ì¹˜</li> </ul> <p>â†’ ê²½ë¡œê°€ homebrew/anaconda ë¡œ ì„¤ì¹˜ë¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> anaconda 
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì„¤ì¹˜ ì¤‘ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì´ ì½˜ë‹¤ê°€ ì„¤ì¹˜ëœ ìœ„ì¹˜ì„</span>
<span class="c"># ì´ ìœ„ì¹˜ë¥¼ ~/.zshrc íŒŒì¼ì— ì¶”ê°€</span>
<span class="nv">PREFIX</span><span class="o">=</span>/opt/homebrew/anaconda3
</code></pre></div></div> <ul> <li> <p><code class="language-plaintext highlighter-rouge">~/.zshrc</code> íŒŒì¼ì— homebrewë‚´ìš© ì£¼ì„ì²˜ë¦¬í•˜ê³  ë‹¤ìŒ ì¶”ê°€</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># export PATH="/opt/homebrew/bin:$PATH"</span>
  <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"/opt/homebrew/anaconda3/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div> </div> </li> <li> <p>ì„¤ì¹˜ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">source</span> ~/.zshrc
  which conda
  conda <span class="nt">-V</span>
</code></pre></div> </div> </li> </ul> <h2 id="conda-ê°€ìƒí™˜ê²½">conda ê°€ìƒí™˜ê²½</h2> <ul> <li>ê°€ìƒí™˜ê²½ ìƒì„±</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">--name</span> &lt;í™˜ê²½ëª…&gt; <span class="nv">python</span><span class="o">=</span>&lt;íŒŒì´ì¬ ë²„ì „&gt;
conda create <span class="nt">--name</span> py39 <span class="nv">python</span><span class="o">=</span>3.9
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ í™œì„±í™”</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda activate &lt;í™˜ê²½ëª…&gt;
conda activate py39
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ë¹„í™œì„±í™”</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda deactivate
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ë‚´ íŒ¨í‚¤ì§€ ì„¤ì¹˜</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda <span class="nb">install</span> &lt;íŒ¨í‚¤ì§€ëª…&gt;
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ëª©ë¡ í™•ì¸</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda <span class="nb">env </span>list
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ì‚­ì œ</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda remove <span class="nt">--name</span> &lt;í™˜ê²½ëª…&gt; <span class="nt">--all</span>
<span class="c"># conda remove --name py39 --all</span>
</code></pre></div></div> <ul> <li>ì´ë¦„ë³€ê²½ â†’ ì•ˆë¨ â†’ ë³µì œ í›„ ì‚­ì œ</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">--name</span> &lt;ìƒˆë¡œìš´ í™˜ê²½&gt; <span class="nt">--clone</span> &lt;ì‚­ì œí•  í™˜ê²½&gt;
conda remove <span class="nt">--name</span> &lt;ì‚­ì œí•  í™˜ê²½&gt; <span class="nt">--all</span>
</code></pre></div></div> <h3 id="conda-ì´ˆê¸°í™”">conda ì´ˆê¸°í™”</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda init zsh
<span class="nb">source</span> ~/.zshrc
</code></pre></div></div> <h3 id="ìë™-ì½˜ë‹¤-ì‹¤í–‰-ì—†ì• ê¸°--ë§¥-ê¸°ë³¸-íŒŒì´ì¬ì´-ê¸°ë³¸">ìë™ ì½˜ë‹¤ ì‹¤í–‰ ì—†ì• ê¸° â†’ ë§¥ ê¸°ë³¸ íŒŒì´ì¬ì´ ê¸°ë³¸</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># base ìë™ í™œì„±í™” ë„ê¸°</span>
conda config <span class="nt">--set</span> auto_activate_base <span class="nb">false
source</span> ~/.zshrc

<span class="c"># ë°˜ëŒ€ëŠ” trueë¡œ ë°”ê¾¸ë©´ ë¨</span>
</code></pre></div></div> <h3 id="baseë§Œ-í‘œì‹œ-ì—†ì• ê³ -ë‚˜ë¨¸ì§€ëŠ”-py36ì²˜ëŸ¼-ëœ¨ë„ë¡">(base)ë§Œ í‘œì‹œ ì—†ì• ê³  ë‚˜ë¨¸ì§€ëŠ” (py36)ì²˜ëŸ¼ ëœ¨ë„ë¡</h3> <p>ë‹¤ìŒ ë‚´ìš©ì„ .zshrcì— ì €ì¥</p> <p><code class="language-plaintext highlighter-rouge">conda config --set auto_activate_base false</code> ì—¬ì•¼í•¨</p> <p>ê¸°ë³¸ì€ ì›ë˜ ë§¥ ê¸°ë³¸ íŒŒì´ì¬ì¸ë°, 2)ì—ì„œ ìë™ìœ¼ë¡œ base í™œì„±í™”</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># &gt;&gt;&gt; base í™˜ê²½ì—ì„œë§Œ (base) ìˆ¨ê¸°ê¸° &gt;&gt;&gt;</span>
<span class="c"># 1) ì´ˆê¸° PS1 ì €ì¥ (ì¤‘ë³µ ë°©ì§€ìš© ì²´í¬)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$ORIGINAL_PS1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">export </span><span class="nv">ORIGINAL_PS1</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PS1</span><span class="s2">"</span>
<span class="k">fi</span>
<span class="c"># 2) base ìë™ í™œì„±í™”</span>
conda activate base
<span class="c"># 3) baseì¼ ë•Œë§Œ (base) í‘œì‹œë¥¼ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜</span>
<span class="k">function </span>_conda_prompt_override<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$CONDA_DEFAULT_ENV</span> <span class="o">==</span> <span class="s2">"base"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        <span class="c"># baseì¼ ë•Œ í”„ë¡¬í”„íŠ¸ë¥¼ ì›ë˜ PS1ìœ¼ë¡œ ëŒë ¤ì„œ (base) ìˆ¨ê¸°ê¸°</span>
        <span class="nv">PS1</span><span class="o">=</span><span class="s2">"</span><span class="nv">$ORIGINAL_PS1</span><span class="s2">"</span>
    <span class="k">fi</span>
    <span class="c"># baseê°€ ì•„ë‹ ë•, (env_name)ì´ ê·¸ëŒ€ë¡œ í‘œì‹œë¨</span>
<span class="o">}</span>
<span class="c"># 4) Zshì˜ precmd_functionsì— ë“±ë¡</span>
precmd_functions+<span class="o">=(</span>_conda_prompt_override<span class="o">)</span>
<span class="c"># &lt;&lt;&lt; base í™˜ê²½ì—ì„œë§Œ (base) ìˆ¨ê¸°ê¸° &lt;&lt;&lt;</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/.zshrc
</code></pre></div></div> <h1 id="pyenv">pyenv</h1> <p>ì—¬ëŸ¬ Python ë²„ì „ì„ ê´€ë¦¬í•´ì•¼ í•œë‹¤ë©´ ìœ ìš©</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv <span class="o">(</span>pyenv <span class="nb">install</span> &lt;version&gt;<span class="o">)</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="Tip"/><summary type="html"><![CDATA[Python â†’ Python3 alias]]></summary></entry></feed>