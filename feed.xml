<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://hoonably.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://hoonably.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-10-03T10:16:03+00:00</updated><id>https://hoonably.github.io/feed.xml</id><title type="html">hoonably</title><subtitle>Undergraduate student at UNIST (CSE), interested in AI, optimization, and systems programming. </subtitle><entry><title type="html">AdaSkip: Adaptive Sublayer Skipping for Accelerating Long-Context LLM Inference</title><link href="https://hoonably.github.io/blog/adaskip/" rel="alternate" type="text/html" title="AdaSkip: Adaptive Sublayer Skipping for Accelerating Long-Context LLM Inference"/><published>2025-08-19T13:17:59+00:00</published><updated>2025-08-19T13:17:59+00:00</updated><id>https://hoonably.github.io/blog/adaskip</id><content type="html" xml:base="https://hoonably.github.io/blog/adaskip/"><![CDATA[<table class="simple-table" id="24d451cf-7b79-80e0-832e-e915430f84e2"><tbody><tr id="24d451cf-7b79-80a9-be4a-fbdaeb8d0f6e"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">ArXiv</th><td class="" id="L|H:" style="width:580.5px"><a href="https://arxiv.org/abs/2501.02336">https://arxiv.org/abs/2501.02336</a></td></tr><tr id="24d451cf-7b79-8054-ac63-fc85c69c224f"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Github Code</th><td class="" id="L|H:" style="width:580.5px"><a href="https://github.com/ASISys/AdaSkip">https://github.com/ASISys/AdaSkip</a></td></tr><tr id="24d451cf-7b79-8077-afe3-f1b5664d54a0"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Authors</th><td class="" id="L|H:" style="width:580.5px">Zhuomin He1*â€ , Yizhen Yao1*â€ , Pengfei Zuo2*, Bin Gao3â€ , Qinya Li1â€¡, Zhenzhe Zheng1, Fan Wu1 </td></tr><tr id="24d451cf-7b79-8002-a892-d132798b2050"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Affiliation</th><td class="" id="L|H:" style="width:580.5px">1Shanghai Jiao Tong University 2Huawei Cloud 3National University of Singapore</td></tr></tbody></table> <figure class="block-color-teal_background callout" id="24d451cf-7b79-8088-a547-f99297709497" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">Â <strong>Key Differentiator</strong><li style="list-style-type:disc">Â <strong>Sublayer-wise skipping</strong><li style="list-style-type:circle">ê¸°ì¡´ì€ layer ì „ì²´ ë‹¨ìœ„ë¡œ ìŠ¤í‚µí–ˆì§€ë§Œ, </li><li style="list-style-type:circle">Attentionê³¼ FFNì„ ë¶„ë¦¬í•´ì„œ ì„ íƒì ìœ¼ë¡œ ê±´ë„ˆëœ€</li></li><li style="list-style-type:disc">Â <strong>Auto-adaptive</strong><li style="list-style-type:circle">ê¸°ì¡´ì—ëŠ” Decodingë‹¨ê³„ì—ë§Œ ìŠ¤í‚µì„ í–ˆì§€ë§Œ,</li><li style="list-style-type:circle">IO similarity ê¸°ë°˜ìœ¼ë¡œ Â <strong>prefilling(offline)</strong> + Â <strong>decoding(online)</strong> ë‹¨ê³„ë¥¼ ë‹¤ë¥´ê²Œ ë‹¤ë£¸</li></li><li style="list-style-type:disc">Â <strong>Applicable to both prefilling &amp; decoding</strong><li style="list-style-type:circle">Prefilling(ì²˜ìŒ ì…ë ¥ ì²˜ë¦¬ ë‹¨ê³„)ì—ì„œë„ ìŠ¤í‚µ ì „ëµì„ ì“°ê³ ,</li><li style="list-style-type:circle">Decoding(í† í°ë³„ ìƒì„± ë‹¨ê³„)ì—ì„œë„ online learningìœ¼ë¡œ ë™ì  ë³´ì •</li></li></div></figure> <figure class="block-color-gray_background callout" id="24d451cf-7b79-809f-a5f9-e7d087874772" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ¤·</span></div><div style="width:100%">Why I chose this paper?<li style="list-style-type:disc">VLM Agent ê²½ëŸ‰í™”í•´ì„œ ëª¨ë°”ì¼ì—ì„œ ì˜ ëŒì•„ê°€ê²Œ í•˜ëŠ” ì—°êµ¬ ì§„í–‰ì¤‘</li><li style="list-style-type:disc">Early Exit ë°©ì‹ì„ í†µí•´ ë” ì •í™•ë„ê°€ ì¢‹ì•„ì§€ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ ì•„ì´ë””ì–´ ì–»ê¸° ìœ„í•´ì„œ</li><li style="list-style-type:disc">ì–´ë–»ê²Œ ì‹¤í—˜í–ˆëŠ”ì§€ ì°¸ê³ í•˜ê¸° ìœ„í•´ì„œ</li></div></figure> <p class="" id="24e451cf-7b79-8083-bd6c-c82630114214"> <div style="position:relative; width:100%; aspect-ratio:1214/749;"> <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSGf8m157PaZPS_j_VhaS315z1Dwmb1mld2LltaPJiEP4p1jG2N6F1HbcLG56UqnA/pubembed?start=false&amp;loop=false&amp;delayms=3000" style="position:absolute; top:0; left:0; width:100%; height:100%;" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"> </iframe> </div> </p> <p class="" id="24d451cf-7b79-804c-8eeb-fa916ea7fdeb"> </p> <h1 class="" id="24d451cf-7b79-8086-bc50-c33ac590f0dc">Background and Motivation</h1> <h3 class="" id="24d451cf-7b79-808c-aecd-e7db57d8c3e4">IO Similarity and Transformer Module Importance</h3> <p class="" id="24e451cf-7b79-80ec-b8fb-d48b6c5b1ad0"> </p> <p class="" id="24e451cf-7b79-8039-9c16-efd042867301">Â <strong>IO Similarity? (Input-Output)</strong></p> <p class="" id="24e451cf-7b79-8085-b4db-fd7c2a8ba52d">Transformerì˜ í•œ ëª¨ë“ˆ(í•œ ë¸”ë¡ì˜ Attention ì„œë¸Œë ˆì´ì–´ or FFN ì„œë¸Œë ˆì´ì–´)ì—ì„œ</p> <p class="" id="24f451cf-7b79-80c2-bf26-cbfdfe4a2c1e">ì…ë ¥ ë²¡í„°ì™€ ì¶œë ¥ ë²¡í„°ê°€ ì–¼ë§ˆë‚˜ ë¹„ìŠ·í•œì§€ ì½”ì‚¬ì¸ ìœ ì‚¬ë„(cosine similarity)ë¡œ ì¸¡ì •</p> <figure class="equation" id="254451cf-7b79-8007-ba3e-cf6b5ff4fd50"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mo>â‹…</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover></mrow><mrow><mi mathvariant="normal">âˆ¥</mi><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="normal">âˆ¥</mi><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ¥</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msqrt><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>a</mi><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt><mtext>â€‰</mtext><msqrt><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>b</mi><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} Similarity(\vec{a}, \vec{b}) = \frac{\vec{a} \cdot \vec{b}}{\|\vec{a}\| \|\vec{b}\|} = \frac{\sum_{i=1}^n a_i b_i}{\sqrt{\sum_{i=1}^n a_i^2} \, \sqrt{\sum_{i=1}^n b_i^2}} \end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:2.7844em;vertical-align:-1.1422em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6422em;"><span style="top:-3.6422em;"><span class="pstrut" style="height:3.6544em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6544em;"><span style="top:-2.1326em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ¥</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mord">âˆ¥âˆ¥</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mord">âˆ¥</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1174em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.494em;"><span style="top:-2.1727em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9373em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8973em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg height="1.28em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 1296" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M263,681c0.7,0,18,39.7,52,119 c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120 c340,-704.7,510.7,-1060.3,512,-1067 l0 -0 c4.7,-7.3,11,-11,19,-11 H40000v40H1012.3 s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232 c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1 s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26 c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3027em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9373em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8973em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg height="1.28em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 1296" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M263,681c0.7,0,18,39.7,52,119 c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120 c340,-704.7,510.7,-1060.3,512,-1067 l0 -0 c4.7,-7.3,11,-11,19,-11 H40000v40H1012.3 s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232 c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1 s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26 c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3027em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1422em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6422em;"><span style="top:-3.6422em;"><span class="pstrut" style="height:3.6544em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1422em;"><span></span></span></span></span></span></span></span></span></div></figure> <figure class="image" id="24d451cf-7b79-8051-b2f2-e0d377f6d7a9"></figure> <li style="list-style-type:disc">IO similarityê°€ ë†’ë‹¤ â†’ ì…ë ¥ê³¼ ì¶œë ¥ì´ ê±°ì˜ ê°™ìŒ â†’ ëª¨ë“ˆì´ í° ë³€í™” ì—†ì´ ë°ì´í„°ë¥¼ ì „ë‹¬ â†’ ì¤‘ìš”ë„ê°€ ë‚®ìŒ</li> <li style="list-style-type:disc">IO similarityê°€ ë‚®ë‹¤ â†’ ì…ë ¥ê³¼ ì¶œë ¥ì´ ë§ì´ ë‹¤ë¦„ â†’ ëª¨ë“ˆì´ ì ê·¹ì ìœ¼ë¡œ ë³€í™˜ â†’ ì¤‘ìš”ë„ê°€ ë†’ìŒ</li> <p class="" id="24e451cf-7b79-80c5-bd25-f2c5827dd410"> </p> <p class="" id="24e451cf-7b79-800e-9673-e5bd6f62365e">Â <br/> <strong>IO Similarityì™€ ì¤‘ìš”ë„ì˜ ê´€ê³„ ê²€ì¦</strong></p> <p class="" id="24e451cf-7b79-8088-9548-eba12b1a30ab">1ì°¨ ì‹¤í–‰: ê° ë ˆì´ì–´ì˜ IO similarityë¥¼ ì¸¡ì •í•˜ì—¬ í”„ë¡œíŒŒì¼ë§.</p> <p class="" id="24e451cf-7b79-80dc-a691-e52d0cae7c0a">2ì°¨ ì‹¤í–‰: íŠ¹ì • similarity ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë ˆì´ì–´ë¥¼ ì„ íƒì ìœ¼ë¡œ ìŠ¤í‚µ(skip)í•˜ê³  ì„±ëŠ¥(GPT score) í™•ì¸.</p> <p class="" id="24e451cf-7b79-8095-aab1-c6e1eb280280">ê²°ê³¼:</p> <li style="list-style-type:disc">Â <strong>LeastSkip</strong>: IO similarityê°€ ë‚®ì€ ë ˆì´ì–´ë¥¼ ìŠ¤í‚µ â†’ ì„±ëŠ¥ ê¸‰ê²©íˆ í•˜ë½ (1ê°œë§Œ ìŠ¤í‚µí•´ë„ ì ìˆ˜ &lt; 1.0).</li> <li style="list-style-type:disc">Â <strong>MostSkip</strong>: IO similarityê°€ ë†’ì€ ë ˆì´ì–´ë¥¼ ìŠ¤í‚µ â†’ 1, 3, 5ê°œ ìŠ¤í‚µ ì‹œì—ë„ ì ìˆ˜ 8.9, 6.1, 4.2 ìœ ì§€.</li> <p class="" id="24e451cf-7b79-809b-b977-d269e4a749a1">Â <strong>â†’ IO similarityê°€ ë†’ì„ìˆ˜ë¡ ìŠ¤í‚µí•´ë„ ì„±ëŠ¥ ì†ìƒì´ ì ë‹¤</strong>.</p> <p class="" id="24e451cf-7b79-809f-b22d-cfb75bb71fac"> </p> <p class="" id="24e451cf-7b79-80fe-9ef2-c89d3d271468"> </p> <h3 class="" id="24d451cf-7b79-80b1-ba1f-cf609611b598">Existing Layer-wise Skipping Strategies</h3> <figure class="image" id="24d451cf-7b79-80f1-be30-f71c2ca2eaef"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image.webp" style="width:709.9928588867188px"/></picture></figure> <ol class="numbered-list" id="24e451cf-7b79-8017-8160-e64415da6ea6" start="1" type="1"><li>Â <strong>Early Skipping</strong><p class="" id="24e451cf-7b79-808b-bbf5-c19efa3601b7">í•­ìƒ ì•ìª½ ëª‡ ê°œ ë ˆì´ì–´ë¥¼ ê³ ì •ì ìœ¼ë¡œ ìŠ¤í‚µ.</p><li style="list-style-type:disc">ì¥ì : ë°°ì¹˜(batch) ì—°ì‚° í˜¸í™˜ì„± ì¢‹ìŒ.</li><li style="list-style-type:disc">ë‹¨ì : ì•ë¶€ë¶„ì´ ì¤‘ìš”í•œ ê²½ìš° ì„±ëŠ¥ ì†ì‹¤ ê°€ëŠ¥.</li></li></ol> <ol class="numbered-list" id="24e451cf-7b79-8025-ba9b-c97a4f5c9af8" start="2" type="1"><li>Â <strong>Periodic Skipping</strong><p class="" id="24e451cf-7b79-80ff-a74a-de11f5360bcf">ì¼ì • ê°„ê²©ìœ¼ë¡œ ì¤‘ê°„ ë ˆì´ì–´ë¥¼ ìŠ¤í‚µ (ì˜ˆ: 4ê°œë§ˆë‹¤ 1ê°œ ìŠ¤í‚µ).</p><li style="list-style-type:disc">ì¥ì : ë°°ì¹˜ ì—°ì‚° ê°€ëŠ¥.</li><li style="list-style-type:disc">ë‹¨ì : ë ˆì´ì–´ ì¤‘ìš”ë„ì˜ ë³€ë™ì„±ì„ ë°˜ì˜í•˜ì§€ ëª»í•¨.</li></li></ol> <ol class="numbered-list" id="24e451cf-7b79-801a-b88e-f5d8f2903ccf" start="3" type="1"><li>Â <strong>Early Exit</strong><p class="" id="24e451cf-7b79-80e3-9c36-ce23d84b12ff">ê° ë ˆì´ì–´ ê³„ì‚° í›„ ì¡°ê±´(ì˜ˆ: confidence)ì´ ì¶©ì¡±ë˜ë©´ ë’¤ ê³„ì‚° ìƒëµ.</p><li style="list-style-type:disc">ì¥ì : ë¶ˆí•„ìš”í•œ ì—°ì‚° ì ˆì•½.</li><li style="list-style-type:disc">ë‹¨ì : ì¤‘ìš”í•œ ë’·ë¶€ë¶„ ë ˆì´ì–´ë¥¼ ê±´ë„ˆë›¸ ìœ„í—˜, classifier í•™ìŠµì´ë‚˜ ëª¨ë¸ íŒŒì¸íŠœë‹ í•„ìš”.</li></li></ol> <p class="" id="24d451cf-7b79-8032-a7f3-fdc3c1339a43"> </p> <p class="" id="24d451cf-7b79-8047-8b5a-c61840b024dc"> </p> <h3 class="" id="24d451cf-7b79-802d-8614-df7908349ea7">Motivation</h3> <p class="" id="24d451cf-7b79-805b-b569-df56965105c1">ê¸°ì¡´ ë ˆì´ì–´ ìŠ¤í‚¤í•‘ ì „ëµë“¤ì´ ì¥ë¬¸ ë§¥ë½ ì¶”ë¡ ì—ì„œ í•œê³„ê°€ ìˆëŠ” ì´ìœ </p> <p class="" id="24e451cf-7b79-8022-ac05-e0f7f3957d91"> </p> <blockquote class="" id="24d451cf-7b79-80b9-b3fb-f5fb08ce387b">Â <strong>Observation 1: <br/>The layer importance distribution exhibits significant variation across diverse models.<br/>ëª¨ë¸ì— ë”°ë¼ ë ˆì´ì–´ ì¤‘ìš”ë„ ë¶„í¬ê°€ í¬ê²Œ ë‹¤ë¥´ë‹¤.</strong></blockquote> <figure class="image" id="24f451cf-7b79-80e7-86c8-e60cb79cc7f5"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%201.webp" style="width:768px"/></picture></figure> <li style="list-style-type:disc">ê¸°ì¡´ layer-wise skipping ê¸°ë²•ì€ â€œí•­ìƒ ê°™ì€ ìœ„ì¹˜ì˜ ë ˆì´ì–´â€ë¥¼ ê±´ë„ˆë›°ëŠ”ë°,<p class="" id="24e451cf-7b79-80a9-82ad-c8c4caf0cdd3">ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë¸ë³„ ì¤‘ìš”ë„ íŒ¨í„´ ì°¨ì´ë¥¼ ë¬´ì‹œí•˜ê²Œ ë¼ì„œ Â <strong>ì ì‘ì„±ì´ ë–¨ì–´ì§</strong>.</p></li> <li style="list-style-type:disc">ë”°ë¼ì„œ Â <strong>ëª¨ë¸ë³„ë¡œ ë§ì¶¤í˜•(Adaptive) ìŠ¤í‚µ ì „ëµ</strong>ì´ í•„ìš”.</li> <p class="" id="24d451cf-7b79-8044-827f-d907668b745e"> </p> <blockquote class="" id="24d451cf-7b79-801a-b3d0-c8965fe84169">Â <strong>Observation 2: <br/>The importance distributions of attention and FFN modules are different.<br/>ì–´í…ì…˜(Attention)ê³¼ FFN(Feed-Forward Network) ëª¨ë“ˆì˜ ì¤‘ìš”ë„ ë¶„í¬ê°€ ì„œë¡œ ë‹¤ë¥´ë‹¤.</strong></blockquote> <figure class="image" id="24f451cf-7b79-80f4-af53-d2e18d511280"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%202.webp" style="width:709.9928588867188px"/></picture></figure> <li style="list-style-type:disc">Transformer ë ˆì´ì–´ëŠ” ë³´í†µ Â <strong>Attention sublayer</strong>ì™€ Â <strong>FFN sublayer</strong>ë¡œ êµ¬ì„±ë¨.</li> <li><details><summary>Attention sublayerì™€ FFN sublayerê°€ ë­ì•¼?</summary><p class="" id="24e451cf-7b79-8027-8cbe-ce7912f5efe5">Â <strong>Attention sublayer</strong>: </p><p class="" id="24e451cf-7b79-8059-85e2-cc6aaf7c93e6">ë¬¸ì¥ ì† ë‹¨ì–´ë“¤ì´ ì„œë¡œë¥¼ ì–¼ë§ˆë‚˜ ì°¸ê³ í•´ì•¼ í•˜ëŠ”ì§€ ê³„ì‚°í•˜ëŠ” ë¶€ë¶„</p><p class="" id="24e451cf-7b79-8021-8166-ee3e57196f21">â†’ "ì´ ë‹¨ì–´ê°€ ì € ë‹¨ì–´ì™€ ì–¼ë§ˆë‚˜ ê´€ë ¨ ìˆëŠ”ì§€" ì ìˆ˜ë¥¼ ë§¤ê¸°ê³ , ì¤‘ìš”í•œ ì •ë³´ì— ë” ì§‘ì¤‘í•˜ë„ë¡</p><p class="" id="24e451cf-7b79-809e-b384-c8754204b45f">Â <strong>FFN (Feed-Forward Network) sublayer</strong>: </p><p class="" id="24e451cf-7b79-80a7-beb3-c6ffa5312098">Attentionì—ì„œ ëª¨ì•„ì˜¨ ì •ë³´ë¥¼ ê° ë‹¨ì–´ë³„ë¡œ ë”°ë¡œ Â <strong>ê°€ê³µ</strong>í•˜ëŠ” ì‘ì€ ì‹ ê²½ë§</p><p class="" id="24e451cf-7b79-80a0-a28d-c876a6d2a764">â†’ "ì§‘ì¤‘í•´ì„œ ëª¨ì€ ì •ë³´"ë¥¼ ë” ë³µì¡í•˜ê²Œ ë³€í˜•í•˜ê³ , ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê²¨ì¤Œ</p></details></li> <li style="list-style-type:disc">ì´ ë‘˜ì˜ IO similarityë¥¼ ë”°ë¡œ ë¶„ì„í•´ ë³´ë‹ˆ ë¶„í¬ê°€ ë‹¤ë¥´ê²Œ ë‚˜ì˜´.</li> <li style="list-style-type:disc">Â <strong>Attention</strong>: ìµœê³  IO similarityê°€ ê±°ì˜ Â <strong>0.97ìœ¼ë¡œ ë†’ê³ </strong>, ê°’ì´ ì„œë¡œ ë¹„ìŠ·í•˜ê²Œ ëª¨ì—¬ ìˆìŒ.</li> <li style="list-style-type:disc">Â <strong>FFN</strong>: ìµœê³  IO similarityê°€ 0.95 ì •ë„ì´ê³ , ê°’ì´ í¼ì ¸ ìˆìŒ.</li> <p class="" id="24e451cf-7b79-8038-b28e-ec18882f8efe">â†’ Attentionì€ FFNë³´ë‹¤ ìŠ¤í‚µí•  í›„ë³´ê°€ ë§ìŒ</p> <p class="" id="24e451cf-7b79-8095-8a7c-fd302c1fa6d3">â†’ ê¸°ì¡´ ë°©ë²•ì²˜ëŸ¼ ë ˆì´ì–´ ì „ì²´ë¥¼ í•œ ë²ˆì— ìŠ¤í‚µí•˜ëŠ” ê±´ Â <strong>ë¹„íš¨ìœ¨ì </strong>ì´ê³ ,<div class="indented"><p class="" id="24e451cf-7b79-80af-9121-f7bb54ea9d57">Â <strong>sublayer ë‹¨ìœ„(Attention, FFN ê°ê°)ë¡œ ë”°ë¡œ ìŠ¤í‚µ ì—¬ë¶€ë¥¼ ê²°ì •</strong>í•˜ëŠ” ê²Œ ë” íš¨ê³¼ì ì„.</p></div></p> <p class="" id="24e451cf-7b79-80f3-b0e4-e73465f01654"> </p> <p class="" id="24d451cf-7b79-8090-80d6-d1f036a77593"> </p> <blockquote class="" id="24d451cf-7b79-80c8-9ce6-edc92cf4e1fb">Â <strong>Observation 3: <br/>The importance distribution of sublayers in the prefilling and decoding phases have similar trends but different fluctuation degrees.<br/>í”„ë¦¬í•„ë§ê³¼ ë””ì½”ë”© ë‹¨ê³„ì—ì„œ ì„œë¸Œë ˆì´ì–´ ì¤‘ìš”ë„ ë¶„í¬ì˜ ê²½í–¥ì´ ìœ ì‚¬í•˜ì§€ë§Œ, ë³€ë™ ì •ë„ëŠ” ë‹¤ë¥´ë‹¤.</strong></blockquote> <figure class="image" id="24d451cf-7b79-8010-b303-eb6b00e8eec8"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%203.webp" style="width:709.9928588867188px"/></picture></figure> <li style="list-style-type:disc">Prefilling: ì²˜ìŒ ë¬¸ë§¥ì„ ì½ì–´ë“¤ì´ëŠ” ë‹¨ê³„.</li> <li style="list-style-type:disc">Decoding: í† í°ì„ í•˜ë‚˜ì”© ìƒì„±í•˜ëŠ” ë‹¨ê³„.</li> <p class="" id="24e451cf-7b79-8094-9baa-c857b7621db8">ë‘ ë‹¨ê³„ì—ì„œ Attentionê³¼ FFNì˜ IO similarity ë³€í™”ë¥¼ ë¹„êµ:</p> <li style="list-style-type:disc">Â <strong>ì „ì²´ì ì¸ ì¶”ì„¸ëŠ” ë¹„ìŠ·</strong> â†’ ë‘ ë‹¨ê³„ì—ì„œ ë¹„ìŠ·í•œ ìŠ¤í‚µ ì „ëµì„ ê³µìœ í•  ìˆ˜ ìˆìŒ.</li> <li style="list-style-type:disc">í•˜ì§€ë§Œ FFN sublayerëŠ” IO similarityê°€ Decoding ë‹¨ê³„ì—ì„œ Prefilling ë•Œë³´ë‹¤ Â <strong>ë†’ìŒ</strong></li> <p class="" id="24e451cf-7b79-808e-ade3-f02b9a10b3fd">â†’ Decoding ë‹¨ê³„ì—ì„œ Â <strong>FFN sublayerë¥¼ ë” ë§ì´ ìŠ¤í‚µí•´ë„</strong> ì„±ëŠ¥ ì˜í–¥ì´ ì ì„ ê°€ëŠ¥ì„±ì´ í¼.</p> <p class="" id="24e451cf-7b79-800e-842d-ceb9dea51ef0"> </p> <p class="" id="24e451cf-7b79-80c0-8af4-e64bec59b9e3"> </p> <p class="" id="24e451cf-7b79-80b8-a5ad-f41a26480a83"> </p> <hr id="24d451cf-7b79-809f-88c3-d1391b06767e"/> <p class="" id="24e451cf-7b79-80d2-9e03-e20731d662f4"> </p> <h1 class="" id="24d451cf-7b79-8045-ac71-c1e26ac02d5f">Methodology</h1> <h3 class="" id="24e451cf-7b79-804e-ba9a-ec19532b59c6">Sublayer Skipping during Prefilling with Offline Importance Learning</h3> <p class="" id="24e451cf-7b79-805e-a24e-d5fa415ade39"> </p> <p class="" id="24e451cf-7b79-806a-87b2-edb8f310a7a7">Â <strong>ì™œ Prefilling ë‹¨ê³„ì—ì„œ ìŠ¤í‚µì´ ì¤‘ìš”í•œê°€?</strong></p> <li style="list-style-type:disc">Prefillingì€ ê¸´ ì…ë ¥ì„ ì²˜ìŒ ì½ëŠ” ë‹¨ê³„ë¼ì„œ:<li style="list-style-type:circle">TTFT (Time To First Token)ê°€ ê¸¸ì–´ì§</li><li style="list-style-type:circle">Â <strong>KV ìºì‹œ</strong> ì‚¬ìš©ëŸ‰ì´ ë§ìŒ</li></li> <li style="list-style-type:disc">ëª¨ë¸ë§ˆë‹¤ IO similarity ë¶„í¬ê°€ ë‹¬ë¼ì„œ, Â <strong>ê³ ì •ëœ ë ˆì´ì–´ ìŠ¤í‚µ</strong>ì€ ìµœì ì´ ì•„ë‹˜.</li> <li style="list-style-type:disc">ë¬¸ì œ: Prefilling ì‹œì‘ ì „ì—ëŠ” Â <strong>ì¤‘ìš”ë„ì— ëŒ€í•œ ì‚¬ì „ ì •ë³´ê°€ ì—†ìŒ</strong> â†’ adaptive skippingì´ ì–´ë ¤ì›€.</li> <p class="" id="24e451cf-7b79-8013-a350-fe2ab385760b"> </p> <p class="" id="24e451cf-7b79-80a9-a5d6-f594fd67ee38"> </p> <p class="" id="24e451cf-7b79-805c-91d3-dd38c6377b40">Â <strong>Insight</strong></p> <figure class="image" id="24e451cf-7b79-8078-8dd3-c148b958e6b7" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%204.webp" style="width:480px"/></picture></figure> <li style="list-style-type:disc">hit rate = unimportant sublayer(= skip target)ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ë§ì·„ëŠ”ì§€ ì •í™•ë„</li> <li style="list-style-type:disc">skipí•œ sublayer ê°œìˆ˜ : 4, 6, 10</li> <li style="list-style-type:disc">ê·¸ ì¤‘ì—ì„œ ì–¼ë§ˆë‚˜ ì¼ì¹˜í•˜ê²Œ ì„ íƒë˜ì—ˆëŠ”ì§€(hit)ë¥¼ í‰ê·  : 3.76, 4.86, 9.31</li> <p class="" id="253451cf-7b79-803c-a61a-dd30824ad13c"> </p> <p class="" id="24e451cf-7b79-8075-8156-ff7953fdb274">ì—¬ëŸ¬ ë°ì´í„°ì…‹ê³¼ LLaMA3.1-8B-128k ëª¨ë¸ë¡œ Prefilling IO similarityë¥¼ ì¸¡ì •</p> <p class="" id="24e451cf-7b79-805c-99a4-f8ae7000e3e9">â†’ í•œ ë°ì´í„°ì…‹ì—ì„œ ì¸¡ì •í•œ í‰ê·  IO similarityë¡œ ë‹¤ë¥¸ ë°ì´í„°ì…‹ì—ì„œ ìŠ¤í‚µ ëŒ€ìƒì„ ì˜ˆì¸¡í•´ë„ Â <strong>Hit Rate</strong>ê°€ ë†’ìŒ</p> <li style="list-style-type:disc">Prefillingì—ì„œ Â <strong>ê³¼ê±° IO similarity â†’ í˜„ì¬ ìŠ¤í‚µ ëŒ€ìƒ ì˜ˆì¸¡</strong>ì´ ê°€ëŠ¥í•˜ê³ , ë°ì´í„°ì…‹ ê°„ ê³µìœ ë„ ê°€ëŠ¥.</li> <p class="" id="24e451cf-7b79-801a-aa8f-e2ec6103bec2"> </p> <p class="" id="24e451cf-7b79-8049-a03a-cfa90d232310"> </p> <p class="" id="24e451cf-7b79-80eb-b836-da495c8644eb">Â <strong>Offline Importance Learning Workflow</strong></p> <figure class="image" id="254451cf-7b79-8075-91c6-df807307c2b9"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%205.webp" style="width:709.9928588867188px"/></picture></figure> <ol class="numbered-list" id="24e451cf-7b79-80d6-93ee-f5e295957b74" start="1" type="1"><li>Â <strong>ë°ì´í„° ìˆ˜ì§‘</strong><li style="list-style-type:disc">ì—¬ëŸ¬ ê°œì˜ inference task(í”„ë¡¬í”„íŠ¸)ë¥¼ ì¤€ë¹„</li><li style="list-style-type:disc">ê° taskëŠ” ê¸¸ì´ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆê³ , ëª¨ë¸ì—ëŠ” Mê°œì˜ transformer ë ˆì´ì–´(ê°ê° attention + FFN sublayer)ê°€ ìˆìŒ</li><li style="list-style-type:disc">ê° sublayer(ì˜ˆ: attention 1, FFN 1, attention 2, FFN 2, â€¦)ë³„ë¡œ ì…ë ¥ ë²¡í„° vs ì¶œë ¥ ë²¡í„°ì˜ ìœ ì‚¬ë„(IO similarity)ë¥¼ ì¸¡ì •</li><li style="list-style-type:disc">ëª¨ë“  taskì˜ í† í°ë§ˆë‹¤ ê°’ì„ ëª¨ì•„ Â <strong>í‰ê·  IO similarity</strong>ë¥¼ êµ¬í•¨ â†’ ì´ê²Œ â€œì–¼ë§ˆë‚˜ ëœ ì¤‘ìš”í•œì§€â€ë¥¼ ì•Œë ¤ì¤Œ<figure class="equation" id="254451cf-7b79-8009-83ed-d361038be7a3"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msub><mover accent="true"><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>=</mo><mtext>Â </mtext><mfrac><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>T</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></munderover><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo separator="true">,</mo><msubsup><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo stretchy="false">)</mo></mrow><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi mathvariant="normal">âˆ£</mi><msub><mi>T</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></mfrac></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\overline{Similarity}_{j} =Â \frac{\sum_{i=1}^{N} \sum_{t=1}^{|T_i|} Similarity(\vec{a}^{\,j}_{it}, \vec{b}^{\,j}_{it})}{\sum_{i=1}^{N} |T_i|}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:2.8886em;vertical-align:-1.1943em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6943em;"><span style="top:-3.6943em;"><span class="pstrut" style="height:3.7176em;"></span><span class="mord"><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">Â </span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7176em;"><span style="top:-2.1567em;"><span class="pstrut" style="height:3.0279em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span><span style="top:-3.2579em;"><span class="pstrut" style="height:3.0279em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7176em;"><span class="pstrut" style="height:3.0279em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0279em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">âˆ£</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1709em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1943em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6943em;"><span style="top:-3.6943em;"><span class="pstrut" style="height:3.7176em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1943em;"><span></span></span></span></span></span></span></span></span></div></figure><p class="" id="24e451cf-7b79-8051-b357-c2233899b8c4">a_{jit} = ì…ë ¥ ë²¡í„°, b_{jit} = ì¶œë ¥ ë²¡í„°.</p><p class="" id="254451cf-7b79-80e1-9c70-d7657cbfc77e"> </p></li></li></ol> <ol class="numbered-list" id="24e451cf-7b79-80a0-9738-f494c9d55b52" start="2" type="1"><br/><li>Â <strong>Deviation ë³´ì • (Scale factor)</strong><li style="list-style-type:disc">ë‹¨ìˆœ similarityë§Œ ì“°ë©´ ì…ë ¥ê³¼ ì¶œë ¥ ë²¡í„° í¬ê¸° ì°¨ì´ ë•Œë¬¸ì— ì•½ê°„ì˜ ì˜¤ì°¨ê°€ ìƒê¹€</li><li style="list-style-type:disc">ê·¸ë˜ì„œ ê° sublayerì— ëŒ€í•´ Â <strong>ì…ë ¥ê³¼ ì¶œë ¥ ë²¡í„° í¬ê¸° ë¹„ìœ¨</strong>ì„ í‰ê·  ë‚´ì„œ ë³´ì • ê³„ìˆ˜(scale factor)ë¥¼ ê³„ì‚°<figure class="equation" id="254451cf-7b79-80b5-aa64-f6cdc71257f4"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msub><mover accent="true"><mrow><mi>S</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>=</mo><mtext>Â </mtext><mfrac><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>T</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></munderover><mfrac><mrow><mo stretchy="false">âˆ¥</mo><msubsup><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo stretchy="false">âˆ¥</mo></mrow><mrow><mo stretchy="false">âˆ¥</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo stretchy="false">âˆ¥</mo></mrow></mfrac></mrow><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi mathvariant="normal">âˆ£</mi><msub><mi>T</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></mfrac></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\overline{Scale}_{j} =Â \frac{\sum_{i=1}^{N} \sum_{t=1}^{|T_i|} \frac{\lVert \vec{b}^{\,j}_{it} \rVert}{\lVert \vec{a}^{\,j}_{it} \rVert}}{\sum_{i=1}^{N} |T_i|}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:3.4847em;vertical-align:-1.4923em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9923em;"><span style="top:-3.9923em;"><span class="pstrut" style="height:4.3137em;"></span><span class="mord"><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">Â </span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3137em;"><span style="top:-2.3486em;"><span class="pstrut" style="height:3.2198em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span><span style="top:-3.4498em;"><span class="pstrut" style="height:3.2198em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.3137em;"><span class="pstrut" style="height:3.2198em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0279em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">âˆ£</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2198em;"><span style="top:-2.5217em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">âˆ¥</span><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.714em;"><span class="pstrut" style="height:2.714em;"></span><span class="mord mathnormal mtight">a</span></span><span style="top:-2.714em;"><span class="pstrut" style="height:2.714em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay mtight" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9548em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-2.9837em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.2453em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span><span class="mclose mtight">âˆ¥</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5356em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">âˆ¥</span><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-2.714em;"><span class="pstrut" style="height:2.714em;"></span><span class="mord mathnormal mtight">b</span></span><span style="top:-2.9774em;"><span class="pstrut" style="height:2.714em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay mtight" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9548em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-2.9837em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.2453em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span><span class="mclose mtight">âˆ¥</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7039em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1709em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4923em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9923em;"><span style="top:-3.9923em;"><span class="pstrut" style="height:4.3137em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4923em;"><span></span></span></span></span></span></span></span></span></div></figure><p class="" id="24e451cf-7b79-8007-8f83-ef71955a7084">ë³´ì •ëœ ì¶œë ¥ ë²¡í„°: </p><figure class="equation" id="254451cf-7b79-800d-9eb1-f298cac646f4"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msubsup><mover accent="true"><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>^</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo>=</mo><msub><mover accent="true"><mrow><mi>S</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>â‹…</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\hat{\vec{b}}^{\,j}_{it} = \overline{Scale}_{j} \cdot \vec{a}^{\,j}_{it}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.8154em;vertical-align:-0.6577em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1577em;"><span style="top:-3.1577em;"><span class="pstrut" style="height:3.4554em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2409em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span style="top:-3.5464em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4554em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.6938em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6577em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1577em;"><span style="top:-3.1577em;"><span class="pstrut" style="height:3.4554em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6577em;"><span></span></span></span></span></span></span></span></span></div></figure><p class="" id="254451cf-7b79-800d-aa33-f82a9cb6461b"> </p></li></li></ol> <ol class="numbered-list" id="24e451cf-7b79-8089-853b-f1cbb0144a32" start="3" type="1"><li>Â <strong>Sublayer ì¤‘ìš”ë„ ì •ë ¬</strong><li style="list-style-type:disc">ëª¨ë“  sublayer(attention+FFN, ì´ 2Mê°œ)ì— ëŒ€í•´ í‰ê·  similarityë¥¼ êµ¬í–ˆìœ¼ë‹ˆ</li><li style="list-style-type:disc">Similarityâ€¾ ê°’ì´ ë†’ì€ ìˆœì„œ(= ëœ ì¤‘ìš”í•œ ìˆœì„œ)ë¡œ ì •ë ¬</li><p class="" id="254451cf-7b79-8051-9180-db47c545eae5"> </p></li></ol> <ol class="numbered-list" id="24e451cf-7b79-8079-a8b3-cee88663c37a" start="4" type="1"><li>Â <strong>ê°€ì† ë¹„ìœ¨(Acceleration ratio) Î±ë¡œ ìŠ¤í‚µëŸ‰ ì¡°ì •</strong><li style="list-style-type:disc">ì „ì²´ ì†ë„ â†” ì„±ëŠ¥ trade-offë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ Â <strong>acceleration ratio Î±</strong>ë¥¼ ì„¤ì •.</li><li style="list-style-type:disc">Î±ê°€ í¬ë©´ ë” ë§ì´ ìŠ¤í‚µ, ì‘ìœ¼ë©´ ëœ ìŠ¤í‚µ.</li><figure class="equation" id="254451cf-7b79-805f-b540-ca5d3d2c9497"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mi>m</mi><mo>=</mo><mi>M</mi><mo>âˆ’</mo><mfrac><mi>M</mi><mi>Î±</mi></mfrac></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}m = M - \frac{M}{\alpha}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.7732em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2732em;"><span style="top:-3.2732em;"><span class="pstrut" style="height:3.3603em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7732em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2732em;"><span style="top:-3.2732em;"><span class="pstrut" style="height:3.3603em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7732em;"><span></span></span></span></span></span></span></span></span></div></figure><li style="list-style-type:disc">ìµœì¢…ì ìœ¼ë¡œ ìƒìœ„(ëœ ì¤‘ìš”í•œ) 2mê°œì˜ sublayerë¥¼ ìŠ¤í‚µ ëŒ€ìƒìœ¼ë¡œ ì„ íƒ.</li></li></ol> <p class="" id="24f451cf-7b79-80d7-83ad-d2600d352f4d"> </p> <p class="" id="24e451cf-7b79-80ab-8de3-ce0cce1db563"> </p> <li style="list-style-type:disc">Â <strong>Prefilling ì „</strong>: ê³¼ê±° ë°ì´í„°ë¡œ ë¯¸ë¦¬ sublayer ì¤‘ìš”ë„ë¥¼ í•™ìŠµ.</li> <li style="list-style-type:disc">Â <strong>Prefilling ì¤‘</strong>: IO similarityë¥¼ ìƒˆë¡œ ì¸¡ì •í•  í•„ìš” ì—†ì´, ê³¼ê±° í‰ê· ê°’ + ë³´ì •ì¹˜ë¡œ ìŠ¤í‚µ ëŒ€ìƒ ê²°ì •.</li> <p class="" id="254451cf-7b79-8076-9ccf-cb71b91f9789"> </p> <p class="" id="254451cf-7b79-80d5-8435-cf16592427d2"> </p> <hr id="254451cf-7b79-800a-bdbf-c770896819b2"/> <p class="" id="254451cf-7b79-8045-a14f-eb50e795fa46"> </p> <p class="" id="24e451cf-7b79-8075-963e-daea14c81931"> </p> <h3 class="" id="24d451cf-7b79-809d-8626-d9f304c69da1">Â <strong>Extra FFN Sublayer Skipping during Decoding with Online Importance Learning</strong></h3> <p class="" id="24e451cf-7b79-8071-b273-c6235f2cc813">Prefilling ë‹¨ê³„ì—ì„œ ì´ë¯¸ ìŠ¤í‚µí•  sublayerë¥¼ ì •í–ˆì§€ë§Œ, Decoding ì¤‘ì— ì‹¤ì‹œê°„ ë°ì´í„°(online learning)ë¥¼ í™œìš©í•´ ë” ë§ì€ FFNì„ ê±´ë„ˆë›°ì–´ ì†ë„ë¥¼ ë†’ì´ëŠ” ì „ëµ</p> <p class="" id="254451cf-7b79-8007-a5ed-e4779246307a"> </p> <p class="" id="24e451cf-7b79-80b0-b684-d9fff2a6b53a"> </p> <p class="" id="24e451cf-7b79-80b6-8311-f4fdcf7d579a">Â <strong>Decoding ë‹¨ê³„ì—ì„œ FFNì„ ë” ìŠ¤í‚µí•  ìˆ˜ ìˆë‚˜?</strong></p> <li style="list-style-type:disc">Observation 3ì— ë”°ë¥´ë©´:<ol class="numbered-list" id="24e451cf-7b79-80ca-9522-c23df64f29e4" start="1" type="1"><li>Prefillingê³¼ Decodingì˜ Â <strong>IO similarity ì¶”ì„¸</strong>ëŠ” ë¹„ìŠ·í•¨ â†’ Prefillingì—ì„œ ê³¨ë¼ë‚¸ ìŠ¤í‚µ í›„ë³´ë¥¼ Decodingì—ì„œë„ ì¬ì‚¬ìš© ê°€ëŠ¥.</li></ol><ol class="numbered-list" id="24e451cf-7b79-802c-a416-ec83406fe7d7" start="2" type="1"><li>í•˜ì§€ë§Œ Â <strong>FFN sublayerëŠ” Decodingì—ì„œ IO similarityê°€ ë” ë†’ìŒ</strong> â†’ ì¦‰, ëœ ì¤‘ìš”í•œ ê²½ìš°ê°€ ë§ìœ¼ë‹ˆ Â <strong>ë” ë§ì´ ìŠ¤í‚µ ê°€ëŠ¥</strong>.</li></ol></li> <p class="" id="254451cf-7b79-80e8-81ca-e78e1cf0b12c"> </p> <p class="" id="254451cf-7b79-8009-9100-ccd0f5055359"> </p> <p class="" id="24e451cf-7b79-80e4-afc1-f8588614fffe"> </p> <p class="" id="24e451cf-7b79-80c2-a962-d73abb2410c7">Â <strong>Insight</strong></p> <p class="" id="24e451cf-7b79-802e-965a-cf0e69335b8e">Decodingì´ ì‹œì‘ë  ë•Œ, Â <strong>ì²˜ìŒ ëª‡ ê°œ í† í°</strong>ì˜ IO similarityë§Œ ì¸¡ì •í•´ë„ ì´í›„ ìƒì„±ì—ì„œ ì¤‘ìš”í•œ sublayerë¥¼ ì˜ ì˜ˆì¸¡ ê°€ëŠ¥</p> <p class="" id="253451cf-7b79-808c-a6e3-d44b420b2086"> </p> <figure class="image" id="253451cf-7b79-8028-acaf-fc82c9652b2d"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%206.webp" style="width:681.9885864257812px"/></picture><figcaption>ì‹¤í—˜ (LLaMA3.1-8B-128k)</figcaption></figure> <li style="list-style-type:disc">hit rate = unimportant sublayer(= skip target)ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ë§ì·„ëŠ”ì§€ ì •í™•ë„</li> <li style="list-style-type:disc">ì´ˆê¸° window sizeë¥¼ ëŠ˜ë¦´ìˆ˜ë¡ hit rateê°€ ì˜¬ë¼ê°€ë‹¤ ì–´ëŠ ì§€ì  ì´í›„ ê±°ì˜ ì¼ì •.</li> <p class="" id="24e451cf-7b79-805e-8d80-f1008fe2d9ea">â†’ êµ³ì´ ëª¨ë“  í† í°ì„ ë¶„ì„í•  í•„ìš” ì—†ì´, Â <strong>ì´ˆë°˜ Pê°œì˜ í† í°ë§Œ ë³´ê³  ê²°ì •</strong>í•´ë„ ì¶©ë¶„.</p> <p class="" id="254451cf-7b79-8015-9f04-fe31c8677974"> </p> <p class="" id="254451cf-7b79-8053-bce5-f234e7fa1baf"> </p> <p class="" id="254451cf-7b79-8061-8a4b-cf18c09f92d6"> </p> <p class="" id="24e451cf-7b79-8071-ba45-c8c3ca6b40e3">Â <strong>Online Importance Learning Workflow</strong></p> <figure class="image" id="254451cf-7b79-8096-9c9a-f421a1bb5d51"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%207.webp" style="width:709.9928588867188px"/></picture></figure> <ol class="numbered-list" id="24e451cf-7b79-8041-838e-e0fc00a581aa" start="1" type="1"><li>Â <strong>Input</strong><li style="list-style-type:disc">Prefillingì—ì„œ ì´ë¯¸ ì •í•œ â€œìŠ¤í‚µ í›„ë³´ ì§‘í•©(skipped)â€</li><li style="list-style-type:disc">Decoding ì´ˆë°˜ Â <strong>Pê°œ í† í°</strong></li><p class="" id="254451cf-7b79-8062-8ae9-c0600701ec4c"> </p></li></ol> <ol class="numbered-list" id="24e451cf-7b79-80e3-b312-f88cb0efb472" start="2" type="1"><li>Â <strong>ì´ˆê¸° ìœˆë„ìš°ë¡œ FFN ì¤‘ìš”ë„ ì¸¡ì •</strong><li style="list-style-type:disc">ê° FFN ì„œë¸Œë ˆì´ì–´ jì— ëŒ€í•´, ì²˜ìŒ Pê°œì˜ ë””ì½”ë”© í† í°ì— ëŒ€í•œ Â <strong>IO similarity í‰ê· </strong>ì„ ê³„ì‚°<figure class="equation" id="254451cf-7b79-80fe-916b-eb4d7d19baf6"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msubsup><mover accent="true"><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi><mi>P</mi></msubsup><mo>=</mo><mtext>Â </mtext><mfrac><mrow><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>P</mi></munderover><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mi>t</mi><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo separator="true">,</mo><msubsup><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mi>t</mi><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo stretchy="false">)</mo></mrow><mi>P</mi></mfrac></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\overline{Similarity}^{P}_{j} =Â \frac{\sum_{t=1}^{P} Similarity(\vec{a}^{\,j}_{t}, \vec{b}^{\,j}_{t})}{P}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:2.3569em;vertical-align:-0.9285em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4285em;"><span style="top:-3.4285em;"><span class="pstrut" style="height:3.6709em;"></span><span class="mord"><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1257em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.3473em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">Â </span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6709em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9285em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4285em;"><span style="top:-3.4285em;"><span class="pstrut" style="height:3.6709em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9285em;"><span></span></span></span></span></span></span></span></span></div></figure><li style="list-style-type:circle">ajt = ì…ë ¥ ë²¡í„°, bjt = ì¶œë ¥ ë²¡í„°</li></li><p class="" id="254451cf-7b79-8025-8402-fbdb488eb8e2"> </p></li></ol> <ol class="numbered-list" id="24e451cf-7b79-805d-8c2c-f11a78268b4c" start="3" type="1"><li>Â <strong>Prefilling ê²°ê³¼ì™€ ë¹„êµ</strong><li style="list-style-type:disc">Prefillingì—ì„œ ìŠ¤í‚µëœ sublayerë“¤ì˜ similarity ì¤‘ ìµœì†Œê°’ì„ Â <strong>Î²</strong>ë¡œ ì„¤ì •</li><li style="list-style-type:disc">â€œì´ ê°’ ì´ìƒì´ë©´ â€˜ëœ ì¤‘ìš”í•œ ì¶•â€™ì— ì†í•˜ë¯€ë¡œ, ë””ì½”ë”©ì—ì„œë„ ì¶”ê°€ë¡œ ìŠ¤í‚µí•´ë„ ê´œì°®ë‹¤â€<figure class="equation" id="254451cf-7b79-8000-86df-c996b166a05a"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mi>Î²</mi><mo>=</mo><mi>min</mi><mo>â¡</mo><mo stretchy="false">{</mo><msub><mover accent="true"><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>âˆ£</mo><mi>j</mi><mo>âˆˆ</mo><mi>s</mi><mi>k</mi><mi>i</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>d</mi><mo stretchy="false">}</mo></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\beta = \min \{ \overline{Similarity}_{j} \mid j \in skipped \}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.2747em;vertical-align:-0.3873em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8873em;"><span style="top:-2.9929em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop">min</span><span class="mopen">{</span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">ki</span><span class="mord mathnormal">pp</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mclose">}</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3873em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8873em;"><span style="top:-2.8873em;"><span class="pstrut" style="height:2.8944em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3873em;"><span></span></span></span></span></span></span></span></span></div></figure><li style="list-style-type:circle">Â <strong>index</strong>: ëª¨ë“  FFN sublayer ì¸ë±ìŠ¤ ì§‘í•©.</li><li style="list-style-type:circle">Â <strong>skipped</strong>: Prefillingì—ì„œ ì´ë¯¸ ìŠ¤í‚µí•˜ë˜ sublayer ì§‘í•©.</li></li><p class="" id="253451cf-7b79-80ae-b315-cbbea0a554ad"> </p></li></ol> <ol class="numbered-list" id="24e451cf-7b79-8031-b591-c2f0ca4f574c" start="4" type="1"><li>Â <strong>ì¶”ê°€ FFN ìŠ¤í‚µ ì„ ë³„</strong><li style="list-style-type:disc">ëª¨ë“  FFN ì„œë¸Œë ˆì´ì–´ ì¸ë±ìŠ¤ ì§‘í•©ì„ í›‘ìœ¼ë©´ì„œ <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mover accent="true"><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi><mi>P</mi></msubsup></mrow><annotation encoding="application/x-tex">\overline{Similarity}^{P}_{j}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.5088em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1257em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.3473em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> â‰¥ Î² ì¸ FFN sublayerë¥¼ ì°¾ê¸°</li><p class="" id="254451cf-7b79-8018-9894-e8336bdb96d8"> </p></li></ol> <ol class="numbered-list" id="24e451cf-7b79-80eb-a352-f36b7537b29c" start="5" type="1"><li>Â <strong>ìµœì¢… ìŠ¤í‚µ ì§‘í•© ìƒì„±</strong><li style="list-style-type:disc">Prefillingì—ì„œ ìŠ¤í‚µí•œ sublayer + ì¶”ê°€ë¡œ ì°¾ì€ FFN sublayerë¥¼ í•©ì³ ìµœì¢… ìŠ¤í‚µ ì§‘í•© ì™„ì„±í•˜ê¸°</li><li style="list-style-type:disc">skipped^(P) = skipped âˆª EXTRA_SKIP</li><p class="" id="254451cf-7b79-80e2-97db-d7ab42851d82"> </p></li></ol> <ol class="numbered-list" id="24e451cf-7b79-8013-8664-c6db79c2ac0c" start="6" type="1"><li>Â <strong>ë³´ì •(Scale Compensation)</strong><li style="list-style-type:disc">Prefillingì—ì„œ ë¯¸ë¦¬ êµ¬í•´ë‘” í‰ê·  ìŠ¤ì¼€ì¼ ê°’ <code>Scaleâ€¾j</code> ë¥¼ ì´ìš©í•´ ì…ë ¥ ë²¡í„°ë¥¼ ë³´ì •<figure class="equation" id="254451cf-7b79-8058-9689-dab1d4d518a9"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msubsup><mover accent="true"><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>^</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo>=</mo><msub><mover accent="true"><mrow><mi>S</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>â‹…</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\hat{\vec{b}}^{\,j}_{it} = \overline{Scale}_{j} \cdot \vec{a}^{\,j}_{it}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.8154em;vertical-align:-0.6577em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1577em;"><span style="top:-3.1577em;"><span class="pstrut" style="height:3.4554em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2409em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span style="top:-3.5464em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4554em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.6938em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6577em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1577em;"><span style="top:-3.1577em;"><span class="pstrut" style="height:3.4554em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6577em;"><span></span></span></span></span></span></span></span></span></div></figure></li></li></ol> <p class="" id="254451cf-7b79-80c8-a2cf-ce3285d10f0b"> </p> <p class="" id="254451cf-7b79-807e-b959-fb97fdf3c407"> </p> <figure class="block-color-orange_background callout" id="254451cf-7b79-80d6-a536-f8a1f7a3f36d" style="white-space:pre-wrap;display:flex"><div style="width:100%"><li style="list-style-type:disc">Â <strong>ì¶”ê°€ ê°€ì†</strong>: Prefillingë§Œ ì¼ì„ ë•Œë³´ë‹¤ ë” ë§ì€ FFNì„ ìŠ¤í‚µ â†’ ë” í° ì†ë„ í–¥ìƒ</li><li style="list-style-type:disc">Â <strong>ì„±ëŠ¥ ìœ ì§€</strong>: ì´ˆê¸° í† í°ìœ¼ë¡œ ì¶”ì •í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ì €í•˜ë¥¼ ìµœì†Œí™”</li><li style="list-style-type:disc">Â <strong>ì‹¤ì‹œê°„ ì ì‘</strong>: í˜„ì¬ ë¬¸ë§¥(context)ì— ë§ì¶° ë™ì ìœ¼ë¡œ ê²°ì •</li>â†’ Decoding ì´ˆê¸°ì— Â <strong>í•œ ë²ˆ ë” ì—…ë°ì´íŠ¸</strong>í•´ì„œ, ëœ ì¤‘ìš”í•œ FFNì„ ê±´ë„ˆë›°ëŠ” ë°©ì‹</div></figure> <p class="" id="24e451cf-7b79-8052-9ab1-cf71a8ea3f08"> </p> <p class="" id="24e451cf-7b79-80c9-8bcc-ea1aca4991a2"> </p> <p class="" id="24e451cf-7b79-80e6-aabc-d1913bb737b3"> </p> <p class="" id="24e451cf-7b79-80ca-820d-dc0d0fa79a57"> </p> <h1 class="" id="24e451cf-7b79-8009-9f54-e0197b9059be">Experiments</h1> <h3 class="" id="254451cf-7b79-8042-ac5e-f2a26d227c4f">Setting</h3> <li style="list-style-type:disc">Â <strong>MFieldQA, TREC, TriviaQA</strong> â†’ ì‘ì€/ì¤‘ê°„ í¬ê¸° ë°ì´í„°ì…‹ â†’ Â <strong>ì„¸ë¶€ ë¶„ì„ìš© (ATTN vs FFN ë³„ hit rate ë“±)</strong></li> <li style="list-style-type:disc">Â <strong>GovReport, MultiNews</strong> â†’ ê¸´ ë¬¸ë§¥ ìš”ì•½ ë°ì´í„°ì…‹ â†’ Â <strong>End-to-End ê°€ì† ì‹¤í—˜ìš© (ì‹¤ì œ ì„±ëŠ¥ + ì†ë„)</strong></li> <p class="" id="254451cf-7b79-8097-ad36-cca3154ebabe"> </p> <li style="list-style-type:disc">Hardware: NVIDIA A100 GPUs (80GB)</li> <li style="list-style-type:disc">KV cache enabled</li> <li style="list-style-type:disc">Â <strong>Prefilling phase</strong>ì—ì„œ Â <strong>acceleration ratio Î±</strong>ëŠ” ì–¼ë§ˆë‚˜ ë§ì€ sublayerê°€ skipë˜ëŠ”ì§€ ë³´ê³  ê²°ì •</li> <li style="list-style-type:disc">Â <strong>Decoding phase online learning</strong>ì—ì„œ ì²« í† í° ê°œìˆ˜ëŠ” ì¤‘ìš”ë„ ë³´ê³  ì¶”ì •í•¨ (P = 20, 50, 100)</li> <p class="" id="254451cf-7b79-803b-a52c-d445e75ece5c"> </p> <h3 class="" id="254451cf-7b79-801b-b1d3-e2ea3d412540">Results of Prefilling Tasks, Decoding Tasks</h3> <figure class="image" id="252451cf-7b79-802f-8385-f6c4e90c16a3"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%208.webp" style="width:709.9921875px"/></picture></figure> <p class="" id="252451cf-7b79-800d-9f20-f38477049a63"> </p> <p class="" id="252451cf-7b79-80ce-9c6d-d3fd22c95a31">F1 : QAê°™ì€ê±°ì—ì„œ ì •ë°€ë„, ì¬í˜„ìœ¨ ì¡°í™”í‰ê· </p> <p class="" id="252451cf-7b79-801c-aa53-d0266ec56894">ACC : ë¶„ë¥˜ ë¬¸ì œì—ì„œ ì •í™•ë„</p> <p class="" id="252451cf-7b79-8090-8a54-c286e6c36244">Rouge-L : ìƒì„± íƒœìŠ¤í¬ì—ì„œ ì°¸ì¡° ìš”ì•½ê³¼ ëª¨ë¸ ì¶œë ¥ ê°„ì˜ longest common subsequence ê¸°ë°˜ ìœ ì‚¬ë„</p> <p class="" id="252451cf-7b79-8078-9131-fd9c8bb4ad54"> </p> <p class="" id="252451cf-7b79-8032-822c-ca8350ffa64d">SU (Speedup) : ê¸°ì¡´ ëŒ€ë¹„ ì†ë„ í–¥ìƒë¹„ìœ¨</p> <p class="" id="252451cf-7b79-80da-8b3d-d0a1a01f7c5a">ì‹¤ì œ SpeedupëŠ” ì™œ AdaSkipì´ ë‹¤ë¥¸ skip ë³´ë‹¤ ë¹ ë¥¼ê¹Œ??</p> <p class="" id="252451cf-7b79-8040-8002-ea5f91eeca62">â†’ Â <strong>ì§„ì§œ ì“¸ëª¨ì—†ëŠ” sublayerë§Œ ê³¨ë¼ë‚´ ê±´ë„ˆëœ€</strong> â†’ Â <strong>ë” ë§ì€ ì—°ì‚° ì ˆì•½ + ì„±ëŠ¥ ìœ ì§€</strong> </p> <blockquote class="" id="252451cf-7b79-80e6-a235-e05f2d9518e4">â€œAdaSkip achieves superior speedup compared with the state-of-the-art skipping strategies, as it adaptively skips the most unimportant sublayers in both prefilling and decoding phases without requiring additional training.â€</blockquote> <p class="" id="254451cf-7b79-8064-bd88-f93e1e531ba9"> </p> <p class="" id="254451cf-7b79-8087-b194-d4f219d13993"> </p> <p class="" id="252451cf-7b79-8022-a515-f0e0a473b353"> </p> <p class="" id="252451cf-7b79-8059-93a5-f1f2707e3e83"> </p> <h3 class="" id="252451cf-7b79-80b2-a0c0-d55f824775aa">Results of End-to-End Testing</h3> <figure class="image" id="252451cf-7b79-8063-8986-cbd2d0bd1491"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%209.webp" style="width:709.984375px"/></picture></figure> <p class="" id="252451cf-7b79-804f-a95e-d7bb8e1237fd">ì‹¤ì œë¡œ ì „ì²´ë¥¼ ì‹¤í–‰í•´ë„ AdaSkipì´ ì •í™•ë„ê°€ ë†’ìŒ</p> <p class="" id="254451cf-7b79-80a9-b3a1-fb7fc7e3ef81"> </p> <p class="" id="254451cf-7b79-8095-8fd1-c4aeb3d93769"> </p> <p class="" id="254451cf-7b79-8043-a97b-ddd706f6b708"> </p> <hr id="254451cf-7b79-80b3-9cd1-d33f72a8247d"/> <p class="" id="254451cf-7b79-803f-a353-fa089647a365"> </p> <h1 class="" id="254451cf-7b79-8072-8395-cf05ac20438a">Limitation &amp; Future Work</h1> <p class="" id="254451cf-7b79-802d-9f6f-f930cf258c36">Â <strong>Prefilling ë‹¨ê³„ì—ì„œ ì‚¬ì „ ë°ì´í„°ê°€ í•„ìš”í•¨</strong></p> <p class="" id="254451cf-7b79-8036-b67d-cb1fa85bb10d">ì²˜ìŒ ì‹¤í–‰í•  ë•ŒëŠ” ì–´ë–¤ ë ˆì´ì–´ë¥¼ ê±´ë„ˆë›¸ì§€ ì•Œ ìˆ˜ ì—†ì–´ì„œ ê³¼ê±° ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì˜ˆì¸¡í•´ì•¼ í•˜ëŠ” êµ¬ì¡°.</p> <p class="" id="254451cf-7b79-80f7-a66b-ee0c47085a22">â†’ Prefillingì—ì„œ ë” ì •êµí•œ Â <strong>zero-shot layer importance predictor</strong> ì„¤ê³„</p> <p class="" id="254451cf-7b79-801d-868f-e87e4a8b891d"> </p> <p class="" id="254451cf-7b79-802d-84b6-d6843f767e71">Â <strong>ëª¨ë¸Â·ë°ì´í„°ì…‹ íŠ¹í™” ì ì‘ì„± ë¬¸ì œ</strong></p> <p class="" id="254451cf-7b79-8091-81b1-c47e2b308d6a">ì™„ì „íˆ ìƒˆë¡œìš´ ëª¨ë¸ì´ë‚˜ ë„ë©”ì¸ì— ì ìš©í•  ë•ŒëŠ” ì•„ì§ í•œê³„ê°€ ìˆë‹¤</p> <p class="" id="254451cf-7b79-806a-be2c-e0bcc7348acf">â†’ Dataset ê°„ transferë¥¼ ë„˜ì–´ Â <strong>cross-model generalization</strong>ê¹Œì§€ í™•ì¥</p> <p class="" id="254451cf-7b79-8099-a175-e8730f70bf32"> </p> <p class="" id="254451cf-7b79-8046-968a-fa3c6fc02df2">Â <strong>Not adaptive parameter Î± (acceleration ratio)</strong>, Â <strong>P (online learning window size)</strong> </p> <p class="" id="254451cf-7b79-802d-935b-e21f9a872139">ì‹¤í—˜ìê°€ Î±ì™€ Pë¥¼ ê³ ì •í•´ì„œ ì„¤ì •í•´ì•¼ í•¨ â†’ ë°ì´í„°ì…‹ì´ë‚˜ íƒœìŠ¤í¬ê°€ ë°”ë€Œë©´ ìµœì ê°’ì´ ë‹¬ë¼ì§</p> <p class="" id="254451cf-7b79-8033-a0cd-c5f4282b1bb5">â†’ ëª¨ë¸ì´ ìŠ¤ìŠ¤ë¡œ Î±ì™€ Pë¥¼ ìƒí™©ì— ë§ê²Œ ì¡°ì •í•  ìˆ˜ ìˆëŠ” ë©”ì»¤ë‹ˆì¦˜ ê°œë°œ<div class="indented"><p class="" id="254451cf-7b79-8059-9314-d60e65980585">(reinforcement learning, Bayesian optimization, online feedback loop ë“±)</p></div></p> <p class="" id="254451cf-7b79-80ac-86a2-d98d57a27ca2">â†’ íƒœìŠ¤í¬ ë‚œì´ë„ë‚˜ ë¬¸ë§¥ ê¸¸ì´ì— ë”°ë¼ dynamicí•˜ê²Œ skip ratioë¥¼ ì¡°ì ˆ â†’ ë” ë²”ìš©ì ì´ê³  ì•ˆì •ì ì¸ ì„±ëŠ¥ í™•ë³´.</p> <p class="" id="252451cf-7b79-8038-a01f-f2755297ca04"> </p> <p class="" id="24d451cf-7b79-80b4-a009-e232f58cd204"> </p> <hr id="24d451cf-7b79-8089-ab82-f70d38c4d727"/> <h1 class="" id="24d451cf-7b79-80ca-ab4c-dc62797d77a7">Q&amp;A</h1> <p class="" id="24d451cf-7b79-8059-95bd-e22c0ea86038">ë…¼ë¬¸ Presentation ë°œí‘œ ì¤‘ ì œëŒ€ë¡œ ë‹µë³€ ëª»í•œ Q&amp;A</p> <h3 class="block-color-orange_background" id="254451cf-7b79-8077-9209-cc45d15cc6c9">GPT Score</h3> <p class="" id="254451cf-7b79-8026-a9a9-f76388369686">ê°•ë ¥í•œ í‰ê°€ì ëª¨ë¸(GPT-4, Claude, Gemini ë“±)ì„ ë¶ˆëŸ¬ì™€ì„œ</p> <li style="list-style-type:disc">ë¬¸ì œì™€ í›„ë³´ ë‹µë³€ì„ ê°™ì´ ì œì‹œ</li> <li style="list-style-type:disc">í‰ê°€ ëª¨ë¸ì´ ì–´ëŠ ìª½ì´ ë” ë‚«ë‹¤ê³  íŒë‹¨í•˜ê±°ë‚˜ ì ìˆ˜ ë§¤ê¸°ê¸°</li> <p class="" id="254451cf-7b79-8010-acb5-e838bf1d4a19">â†’ ì‚¬ëŒì´ ì§ì ‘ í‰ê°€í•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¥´ê³  ì¼ê´€ì„± ìˆìŒ</p> <p class="" id="254451cf-7b79-80f4-b2fa-d520e8f2d39d"> </p> <p class="" id="254451cf-7b79-80ff-a1da-fb8f7dd2cf5d"> </p> <p class="" id="254451cf-7b79-80b0-a0bb-df4a4c19473f"> </p> <h3 class="block-color-orange_background" id="254451cf-7b79-80ad-ac0b-f2f2cf6a0610">Skip ë°©ë²•ì€ ì´ì „ ê²°ê³¼ê°€ í•„ìš”í• í…ë° ì–´ë–»ê²Œ í•˜ëŠ”ê±°ì§€?</h3> <blockquote class="" id="254451cf-7b79-80c7-b245-eeb90049fa9f">Early Exitì€ ì¢…ë£Œí•˜ëŠ”ê±°ë‹ˆê¹Œ ìƒê´€ ì—†ëŠ”ë°, Skip ë°©ë²•ì€ ì´ì „ ê²°ê³¼ê°€ í•„ìš”í• í…ë°â€¦<figure class="image" id="254451cf-7b79-80a2-a861-d83b95270397"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image.webp" style="width:674.609375px"/></picture></figure></blockquote> <p class="" id="254451cf-7b79-80b1-96b7-cfae1090d7f7"> </p> <p class="" id="254451cf-7b79-8015-b7d0-d344f972b17c">ì´ ë…¼ë¬¸ì—ì„œ Scaling í•œë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆì—ˆì–´ì„œ, ê·¸ê²Œ ì¼ë°˜ì ì¸ê±´ì§€ ì´ ë…¼ë¬¸ì—ì„œ ë„ì…í•œê±´ì§€ í™•ì‹¤í•˜ì§€ ì•Šì•˜ì—ˆëŠ”ë°, ì´ ë…¼ë¬¸ì—ì„œ ë„ì…í•œ ê±°ì˜€ë‹¤</p> <p class="" id="254451cf-7b79-8075-a470-fba04e5bd0ec"> </p> <p class="" id="254451cf-7b79-80a9-bb59-cbcc5574b08e">Â <strong>Identity Mapping (ì…ë ¥ ê·¸ëŒ€ë¡œ ì „ë‹¬)</strong></p> <li style="list-style-type:disc">ìŠ¤í‚µëœ ë ˆì´ì–´ëŠ” ì•„ë¬´ ê³„ì‚°ë„ í•˜ì§€ ì•Šê³ , ì…ë ¥ì„ ê·¸ëŒ€ë¡œ ë‹¤ìŒ ë ˆì´ì–´ë¡œ ë„˜ê¹€</li> <li style="list-style-type:disc">Transformerì—ì„œ <code>output = input + f(input)</code> ì—ì„œ <code>f(input) = 0</code></li> <li style="list-style-type:disc">ê¸°ì¡´ ë°©ë²•ë“¤ì€ ì´ê±¸ ì¼ìŒ. (SkipDecode, Unified Layer Skipping)</li> <p class="" id="254451cf-7b79-80cd-9917-e123707e0209"> </p> <p class="" id="254451cf-7b79-8020-95ca-c0e72050f8ee">Â <strong>Scaling (ì…ë ¥ì— ë³´ì • ê³„ìˆ˜ ê³±í•˜ê¸°) - </strong>AdaSkip</p> <li style="list-style-type:disc">ë‹¨ìˆœíˆ ì…ë ¥ ajë¥¼ ì¶œë ¥ ëŒ€ì‹  ì“°ë©´ í¬ê¸° ì°¨ì´ ë•Œë¬¸ì— deviation(í¸ì°¨)ì´ ìƒê¹€</li> <li style="list-style-type:disc">ê·¸ë˜ì„œ ê° sublayerì— ëŒ€í•´ Â <strong>ì…ë ¥ê³¼ ì¶œë ¥ ë²¡í„° í¬ê¸° ë¹„ìœ¨</strong>ì„ í‰ê·  ë‚´ì„œ ë³´ì • ê³„ìˆ˜(scale factor)ë¥¼ ê³„ì‚°<figure class="equation" id="254451cf-7b79-8067-afbb-dfd899422107"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msub><mover accent="true"><mrow><mi>S</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>=</mo><mtext>Â </mtext><mfrac><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>T</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></munderover><mfrac><mrow><mo stretchy="false">âˆ¥</mo><msubsup><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo stretchy="false">âˆ¥</mo></mrow><mrow><mo stretchy="false">âˆ¥</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo stretchy="false">âˆ¥</mo></mrow></mfrac></mrow><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi mathvariant="normal">âˆ£</mi><msub><mi>T</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></mfrac></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\overline{Scale}_{j} =Â \frac{\sum_{i=1}^{N} \sum_{t=1}^{|T_i|} \frac{\lVert \vec{b}^{\,j}_{it} \rVert}{\lVert \vec{a}^{\,j}_{it} \rVert}}{\sum_{i=1}^{N} |T_i|}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:3.4847em;vertical-align:-1.4923em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9923em;"><span style="top:-3.9923em;"><span class="pstrut" style="height:4.3137em;"></span><span class="mord"><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">Â </span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3137em;"><span style="top:-2.3486em;"><span class="pstrut" style="height:3.2198em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span><span style="top:-3.4498em;"><span class="pstrut" style="height:3.2198em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.3137em;"><span class="pstrut" style="height:3.2198em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0279em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">âˆ£</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2198em;"><span style="top:-2.5217em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">âˆ¥</span><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.714em;"><span class="pstrut" style="height:2.714em;"></span><span class="mord mathnormal mtight">a</span></span><span style="top:-2.714em;"><span class="pstrut" style="height:2.714em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay mtight" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9548em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-2.9837em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.2453em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span><span class="mclose mtight">âˆ¥</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5356em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">âˆ¥</span><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-2.714em;"><span class="pstrut" style="height:2.714em;"></span><span class="mord mathnormal mtight">b</span></span><span style="top:-2.9774em;"><span class="pstrut" style="height:2.714em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay mtight" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9548em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-2.9837em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.2453em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span><span class="mclose mtight">âˆ¥</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7039em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1709em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4923em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9923em;"><span style="top:-3.9923em;"><span class="pstrut" style="height:4.3137em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4923em;"><span></span></span></span></span></span></span></span></span></div></figure><p class="" id="254451cf-7b79-80c6-997b-dba13a578328">ë³´ì •ëœ ì¶œë ¥ ë²¡í„°: </p><figure class="equation" id="254451cf-7b79-8079-b84a-edc6706669e3"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><msubsup><mover accent="true"><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>^</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup><mo>=</mo><msub><mover accent="true"><mrow><mi>S</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy="true">â€¾</mo></mover><mi>j</mi></msub><mo>â‹…</mo><msubsup><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow><mrow><mtext>â€‰</mtext><mi>j</mi></mrow></msubsup></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation}\hat{\vec{b}}^{\,j}_{it} = \overline{Scale}_{j} \cdot \vec{a}^{\,j}_{it}\end{equation}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.8154em;vertical-align:-0.6577em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1577em;"><span style="top:-3.1577em;"><span class="pstrut" style="height:3.4554em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2409em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span style="top:-3.5464em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4554em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.6938em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span><span style="top:-3.8144em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em" xmlns="http://www.w3.org/2000/svg"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9426em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6577em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1577em;"><span style="top:-3.1577em;"><span class="pstrut" style="height:3.4554em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6577em;"><span></span></span></span></span></span></span></span></span></div></figure></li> <p class="" id="254451cf-7b79-8038-aaea-e9bbb4198245"> </p> <p class="" id="254451cf-7b79-80f6-88b6-f7505f0b68d0"> </p> <p class="" id="254451cf-7b79-803b-8c43-e4ed0bf9281a"> </p> <h3 class="block-color-orange_background" id="254451cf-7b79-80df-a2ca-cc086d5aac00">Prefillingì€ ë³‘ë ¬ì´ ê°€ëŠ¥í•´ì„œ Decodingë³´ë‹¤ ê¸ˆë°© í•˜ì§€ ì•Šë‚˜?</h3> <p class="" id="254451cf-7b79-80fc-b931-d9533ead479f">ê·¼ë° Prefillingì€ ë³‘ë ¬ì´ ê°€ëŠ¥í•´ì„œ Decodingì´ ë” ì˜¤ë˜ê±¸ë¦¬ì§€ ì•Šì•„? ì™œ Prefillingì—ì„œ êµ³ì´?</p> <p class="" id="254451cf-7b79-80be-8da6-c70c7b01c553">ê¸°ì¡´ ê¸°ë²•ë“¤ì€ Decodingì—ì„œ skipí•˜ëŠ” ë°©ì‹ì„ ì±„íƒí–ˆìŒ</p> <p class="" id="254451cf-7b79-80af-a309-ed2a68f6f03c"> </p> <li style="list-style-type:disc">Â <strong>Prefilling</strong>: ë³‘ë ¬ì´ë¼ ì†ë„ ìì²´ëŠ” ë¹ ë¥´ì§€ë§Œ, ê³„ì‚°ëŸ‰ê³¼ ë©”ëª¨ë¦¬ ì†Œë¹„ê°€ ë§¤ìš° í¼<p class="" id="254451cf-7b79-8053-b95e-c4ae5b0d7c07">â†’ TTFT(ì²« í† í° ì§€ì—°)ê°€ ê¸¸ì–´ì§</p><p class="" id="254451cf-7b79-809d-a53a-d88df8e53e03">â†’ ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” "ì²« ì‘ë‹µê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„"ì´ ê¸¸ì–´ì§</p></li> <p class="" id="254451cf-7b79-80e7-946e-e9d1700c8d02"> </p> <li style="list-style-type:disc">Â <strong>Decoding</strong>: í† í°ì´ í•˜ë‚˜ì”© ë‚˜ì˜¤ë©´ì„œ ì²´ê° ì†ë„ëŠ” ë¹ ë¥´ê²Œ ë³´ì¼ ìˆ˜ ìˆìŒ (streaming)</li> <p class="" id="254451cf-7b79-8015-b51a-ec3e6090cc68"> </p> <p class="" id="254451cf-7b79-8039-a637-c2fc6e6faa82">Â <strong>Prefillì—ì„œ Skip</strong></p> <p class="" id="254451cf-7b79-800d-9423-d61a72a8e8f7">â†’ ë§ì€ ì…ë ¥ í† í° Ã— ë§ì€ ë ˆì´ì–´ë¼ë©´, sublayer í•˜ë‚˜ë§Œ ìŠ¤í‚µí•´ë„ ì „ì²´ ê³„ì‚°ëŸ‰ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŒ</p> <p class="" id="254451cf-7b79-80e1-a552-e952dbef5d77">â†’ ì¦‰, í­ë°œì ì¸ ì—°ì‚°ëŸ‰ì´ ë“¤ì–´ê°€ëŠ” ì§€ì ì´ë¼ skip íš¨ìœ¨ì´ í¼</p> <p class="" id="254451cf-7b79-8003-a41c-d6812f7139e5"> </p> <p class="" id="254451cf-7b79-8048-8b62-e2701ab7d700"> </p> <h3 class="block-color-orange_background" id="254451cf-7b79-80d3-be21-cbd916961f5d">Skip Decode, Unified Skippingì€ ì´ë¯¸ ìˆëŠ”ê±´ê°€?</h3> <blockquote class="" id="254451cf-7b79-80eb-8def-c536a52c03d6">ì´ë¯¸ ìˆëŠ”ê±° ì“´ê±´ê°€? ì•„ë‹ˆë©´ ë­”ê°€ ê·¸ skipì— ë§ê²Œ ë§Œë“ ê±´ê°€?<br/>ë§‰ ì •í™•ë„ 0.0ë„ ìˆë˜ë° ì œëŒ€ë¡œ ì¸¡ì •í•œê²Œ ë§ì•„?</blockquote> <p class="" id="254451cf-7b79-8017-912d-e49a3a70692d"> </p> <p class="" id="254451cf-7b79-8081-aca6-c1f475de9926">early skippingìœ¼ë¡œ SkipDecode, periodic skippingìœ¼ë¡œ Unified Skipping ì„ baselineìœ¼ë¡œ ì‚¬ìš©</p> <p class="" id="254451cf-7b79-8037-87ef-f2531b859749">Â <strong><span style="border-bottom:0.05em solid">ê·¼ë°, ì´ ê¸°ë²•ë“¤ì€ ì›ë˜ Decodingë‹¨ê³„ìš©ì„</span></strong></p> <p class="" id="254451cf-7b79-800b-b613-e308f9cb837a"> </p> <p class="" id="254451cf-7b79-80ea-95e0-c27fd8f26f78">Â <strong>ë””ì½”ë”© íƒœìŠ¤í¬ëŠ” ì›ë˜ ì„¤ê³„ëŒ€ë¡œ, Prefillì´ë‘ end-to-end íƒœìŠ¤í¬ëŠ” ê°™ì€ ìŠ¤í‚µ ê·œì¹™ì„ í™•ì¥ ì ìš©</strong></p> <figure class="image" id="254451cf-7b79-8005-8221-f7d4ae1eabd4"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%208.webp" style="width:709.9786376953125px"/></picture></figure> <blockquote class="" id="254451cf-7b79-805e-b049-c3423e86bf5c">â€œIts Vicuna Rouge-L scores for the two summarization tasks fall below 4.0, possibly due to the accumulation of errors in the autoregressive process.â€</blockquote> <p class="" id="254451cf-7b79-802d-b799-e93cc7f11523">ê·¸ë¦¬ê³  Decodingì—ì„œë„ ê½¤ ì°¨ì´ê°€ í°ë°, ì˜¤í† ë¦¬ê·¸ë ˆì‹œë¸Œ ìƒì„± ê³¼ì •ì—ì„œì˜ ì˜¤ì°¨ ëˆ„ì (accumulation of errors) ë•Œë¬¸ì¼ ìˆ˜ ìˆë‹¤ê³  ì–¸ê¸‰í•¨</p> <p class="" id="254451cf-7b79-801c-be69-c0cd32fef7b7"> </p> <p class="" id="254451cf-7b79-8018-a37a-f55f856081c2">â†’ Decodingìš© ë°©ì‹ì„ ì–µì§€ë¡œ ê·œì¹™ì„ í™•ì¥í•´ì„œ ì˜¤ì°¨ê°€ ëˆ„ì ë˜ì–´ ì„±ëŠ¥ì´ 0.0ì²˜ëŸ¼ ë‚®ê²Œ ë‚˜ì˜¨ ê²ƒì´ë‹¤!</p> <p class="" id="254451cf-7b79-804b-8c86-f46025109f2e"> </p> <p class="" id="254451cf-7b79-80a3-ba39-ddbab9d10096"> </p> <p class="" id="254451cf-7b79-809d-aaea-d117be63adb3"> </p> <h3 class="block-color-orange_background" id="254451cf-7b79-80ff-8fd2-e039be1ee99b">ì™œ Offline Learningí• ë•Œ ë‹¤ë¥¸ Datasetìœ¼ë¡œ í•´ë„ ë¹„ìŠ·í•´? Observationì—ëŠ” ì•„ë‹ˆë¼ë©°</h3> <p class="" id="254451cf-7b79-80c1-91ba-cfa21f7082ff"> </p> <figure class="image" id="254451cf-7b79-809c-a2c2-f03322636eef"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%201.webp" style="width:576px"/></picture></figure> <p class="" id="254451cf-7b79-8003-8fb8-d2bc58530e39">ì˜¤í•´í–ˆëŠ”ë° Observation1ì—ì„œëŠ” Â <strong><span style="border-bottom:0.05em solid">Modelë³„</span></strong>ë¡œ ì°¨ì´ í¬ë‹¤ê³  í–ˆìŒ!</p> <figure class="image" id="254451cf-7b79-802b-ac13-fe3805516824"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-08-19-adaskip/image%204.webp" style="width:384px"/></picture></figure> <p class="" id="254451cf-7b79-80ea-9bba-d54cbac530b1">Offline Importance Learning during Prefilling ì—ì„œ</p> <p class="" id="254451cf-7b79-80de-b583-ec0ee0539922">ë‹¤ë¥¸ Â <strong><span style="border-bottom:0.05em solid">Dataset</span></strong>ìœ¼ë¡œ ì¸¡ì •í•´ë„ ê´œì°®ë‹¤ê³  í–ˆìŒ!</p> <p class="" id="254451cf-7b79-806c-9f4c-c042f7529b81"> </p> <p class="" id="254451cf-7b79-8033-bb70-c17061b92eff">Â <strong>â†’ Limitation : Modelë³„ë¡œ ì°¨ì´ê°€ í¬ë‹ˆê¹Œ ê²°êµ­ ëª¨ë¸ì„ ë°”ê¾¼ë‹¤ë©´ Offline Learningìœ¼ë¡œ ë˜ í•™ìŠµí•´ì•¼í•¨</strong></p> <p class="" id="254451cf-7b79-8012-b57d-f676edf1dd05"> </p> <p><span class="sans" style="font-size:14px;padding-top:2em"></span></p>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2501.02336Github Codehttps://github.com/ASISys/AdaSkipAuthorsZhuomin He1*â€ , Yizhen Yao1*â€ , Pengfei Zuo2*, Bin Gao3â€ , Qinya Li1â€¡, Zhenzhe Zheng1, Fan Wu1 Affiliation1Shanghai Jiao Tong University 2Huawei Cloud 3National University of Singapore ğŸ’¡Â Key DifferentiatorÂ Sublayer-wise skippingê¸°ì¡´ì€ layer ì „ì²´ ë‹¨ìœ„ë¡œ ìŠ¤í‚µí–ˆì§€ë§Œ, Attentionê³¼ FFNì„ ë¶„ë¦¬í•´ì„œ ì„ íƒì ìœ¼ë¡œ ê±´ë„ˆëœ€Â Auto-adaptiveê¸°ì¡´ì—ëŠ” Decodingë‹¨ê³„ì—ë§Œ ìŠ¤í‚µì„ í–ˆì§€ë§Œ,IO similarity ê¸°ë°˜ìœ¼ë¡œ Â prefilling(offline) + Â decoding(online) ë‹¨ê³„ë¥¼ ë‹¤ë¥´ê²Œ ë‹¤ë£¸Â Applicable to both prefilling &amp; decodingPrefilling(ì²˜ìŒ ì…ë ¥ ì²˜ë¦¬ ë‹¨ê³„)ì—ì„œë„ ìŠ¤í‚µ ì „ëµì„ ì“°ê³ ,Decoding(í† í°ë³„ ìƒì„± ë‹¨ê³„)ì—ì„œë„ online learningìœ¼ë¡œ ë™ì  ë³´ì • ğŸ¤·Why I chose this paper?VLM Agent ê²½ëŸ‰í™”í•´ì„œ ëª¨ë°”ì¼ì—ì„œ ì˜ ëŒì•„ê°€ê²Œ í•˜ëŠ” ì—°êµ¬ ì§„í–‰ì¤‘Early Exit ë°©ì‹ì„ í†µí•´ ë” ì •í™•ë„ê°€ ì¢‹ì•„ì§€ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ ì•„ì´ë””ì–´ ì–»ê¸° ìœ„í•´ì„œì–´ë–»ê²Œ ì‹¤í—˜í–ˆëŠ”ì§€ ì°¸ê³ í•˜ê¸° ìœ„í•´ì„œ]]></summary></entry><entry><title type="html">TTRL: Test-Time Reinforcement Learning</title><link href="https://hoonably.github.io/blog/ttrl/" rel="alternate" type="text/html" title="TTRL: Test-Time Reinforcement Learning"/><published>2025-07-30T16:30:11+00:00</published><updated>2025-07-30T16:30:11+00:00</updated><id>https://hoonably.github.io/blog/ttrl</id><content type="html" xml:base="https://hoonably.github.io/blog/ttrl/"><![CDATA[<table class="simple-table" id="23f451cf-7b79-80d5-ba3c-ee8bbfa08ffd"><tbody><tr id="23f451cf-7b79-80ae-9180-ffcfd13e000a"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">ArXiv</th><td class="" id="L|H:" style="width:580.5px"><a href="https://arxiv.org/abs/2504.16084">https://arxiv.org/abs/2504.16084</a></td></tr><tr id="23f451cf-7b79-802d-a5ea-ee3926e2f82e"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Github Code</th><td class="" id="L|H:" style="width:580.5px"><a href="https://github.com/PRIME-RL/TTRL">https://github.com/PRIME-RL/TTRL</a></td></tr><tr id="23f451cf-7b79-8046-b211-ebd8ca0d2c04"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Authors</th><td class="" id="L|H:" style="width:580.5px">Yuxin Zuo, Kaiyan Zhang, Li Sheng, Shang Qu, Ganqu Cui, Xuekai Zhu, Haozhan Li, Yuchen Zhang, Xinwei Long, Ermo Hua, Biqing Qi, Youbang Sun, Zhiyuan Ma, Lifan Yuan, Ning Ding, Bowen Zhou</td></tr><tr id="23f451cf-7b79-80dd-8748-e9bd04a6d391"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Affiliation</th><td class="" id="L|H:" style="width:580.5px">Tsinghua University, Shanghai AI Lab</td></tr></tbody></table> <figure class="block-color-teal_background callout" id="23f451cf-7b79-8013-9cec-eb52c92f1382" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">Â <strong>Key Differentiator</strong><br/>(1) ë‹¤ì–‘í•œ ë‹µë³€ì„ ìƒì„±í•˜ê³  (Test-Time Scaling)<br/>(2) majority votingì„ í†µí•´ "ì´ ë‹µë³€ì€ good, ì´ê±´ bad"ë¼ëŠ” í‰ê°€ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±<br/>(3) ì´ë¥¼ rewardë¡œ ë³€í™˜í•´ RL ìˆ˜í–‰<br/><mark class="highlight-default">Test Timeì— </mark><mark class="highlight-red">ììœ¨ì , ë°˜ë³µì , label-free </mark><mark class="highlight-default">ë°©ì‹ìœ¼ë¡œ í•™ìŠµ</mark>í•˜ê³  ë” ì¢‹ì€ ê²°ê³¼ë¥¼ ë‚´ëŠ” íš¨ê³¼<br/><mark class="highlight-blue">ë‹µì•ˆì§€ ì•ˆì£¼ê³  ë¬¸ì œë§Œ ì¤¬ëŠ”ë°, ì•Œì•„ì„œ ë°˜ë³µì ìœ¼ë¡œ ë¬¸ì œí’€ë©´ì„œ ë˜‘ë˜‘í•´ì§„ë‹¤!</mark></div></figure> <p class="" id="241451cf-7b79-8076-ad27-c26847b7af24"> </p> <figure class="block-color-gray_background callout" id="241451cf-7b79-80fa-b229-c30666fbb446" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ¤·</span></div><div style="width:100%">Why I chose this paper?<li style="list-style-type:disc">Test-Time ë…¼ë¬¸ë“¤ì„ ë§ì´ ë´¤ì§€ë§Œ, Reinforcement Learningì€ ì²˜ìŒ ë“¤ì–´ë´ì„œ ê¶ê¸ˆí–ˆë‹¤.</li><li style="list-style-type:disc">ì•„ì¹´ì´ë¸Œì—ë§Œ ìˆê³ , ìµœê·¼ì— ì œì¶œëœ ë…¼ë¬¸ì¸ë°, github starì´ 700ê°œë‚˜ ë˜ì–´ìˆì–´ì„œ ê¶ê¸ˆí–ˆë‹¤.</li></div></figure> <p class="" id="241451cf-7b79-80d1-b270-d25db6e9cd8b"> <div style="position:relative; width:100%; aspect-ratio:1214/749;"> <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQARrBbkuRqM9EqKFgs3jAdleCsGjfMThhlSn8FygDT3Mt6UvdJqNL50-ce-NAEmA/pubembed?start=false&amp;loop=false&amp;delayms=3000" style="position:absolute; top:0; left:0; width:100%; height:100%;" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"> </iframe> </div> </p> <p class="" id="240451cf-7b79-8026-8478-d8919bd0068d"> </p> <blockquote class="" id="241451cf-7b79-80eb-a84e-d40e74898049">ê¸°ì¡´ì˜ Â <strong>Test-Time Scaling</strong>ì´ë‚˜ Â <strong>Reinforcement Learning</strong>ì„ ë¨¼ì € ì„¤ëª…í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ<p class="" id="240451cf-7b79-80f8-b8da-d10107724a5a">Â <strong>5 Related Works</strong>ë¥¼ ë¨¼ì € ì½ì—ˆë‹¤.</p></blockquote> <h1 class="" id="23f451cf-7b79-8044-989f-d261c9456ba2">5 Related Works </h1> <h2 class="" id="23f451cf-7b79-8033-92a6-eac5f84bc160">5.1 Test-Time Scaling</h2> <p class="" id="23f451cf-7b79-80a1-a4e2-fb2c87423d91">= LLMì´ í…ŒìŠ¤íŠ¸(ì¶”ë¡ ) ì‹œì ì—ì„œ ë” ë§ì€ ê³„ì‚° ìì›ì„ ì‚¬ìš©í•´ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ë°©ë²•</p> <p class="" id="23f451cf-7b79-801b-8b2f-cb9270214b29">â†’ ì¦‰, í•™ìŠµëœ ëª¨ë¸ êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³ , Â <strong>test-timeì— inference ë°©ì‹ë§Œ í™•ì¥</strong>í•˜ëŠ” ì „ëµ</p> <p class="" id="23f451cf-7b79-800f-9f45-da5854c20383"> </p> <p class="" id="23f451cf-7b79-80cd-8c25-ee13e76d7d65">â‘  Parallel Generation</p> <p class="" id="23f451cf-7b79-8096-a88f-fe4a659d8e80">í•˜ë‚˜ì˜ ì…ë ¥ì— ëŒ€í•´ ì—¬ëŸ¬ ê°œì˜ outputì„ ìƒì„±í•˜ê³  ê·¸ ì¤‘ â€œì¢‹ì€ ê²ƒâ€ì„ ì„ íƒ</p> <li style="list-style-type:disc">Â <strong>Self-Consistency</strong> (Wang et al., 2022)<li style="list-style-type:circle">ì—¬ëŸ¬ CoT ë‹µë³€ì„ ë§Œë“¤ê³  ê°€ì¥ ë§ì€ ë¹ˆë„ë¥¼ ê°€ì§„ ë‹µë³€ì„ ì„ íƒ (majority voting)</li></li> <li style="list-style-type:disc">Â <strong>Best-of-N</strong> (Stiennon et al., 2020; Nakano et al., 2021)<li style="list-style-type:circle">reward functionì´ë‚˜ score functionìœ¼ë¡œ best ë‹µë³€ ì„ íƒ</li></li> <li style="list-style-type:disc">Â <strong>Reward-guided Search</strong> (Deng &amp; Raffel, 2023; Khanov et al., 2024)<li style="list-style-type:circle">samplingëœ ê²°ê³¼ì— external reward functionì„ ì ìš©í•´ ì„ íƒ</li></li> <p class="" id="23f451cf-7b79-8044-958d-e876f7f0fdfe">â†’ ì´ì²˜ëŸ¼ parallelí•˜ê²Œ ì—¬ëŸ¬ ë‹µì•ˆì„ ë§Œë“¤ê³  í•˜ë‚˜ë¥¼ Â <strong>â€œì„ íƒâ€í•˜ê±°ë‚˜ â€œaggregationâ€</strong> í•˜ëŠ” ê²Œ ê³µí†µ</p> <p class="" id="23f451cf-7b79-80e8-93f8-dfb589c80f15"> </p> <p class="" id="23f451cf-7b79-80d4-bc81-c312689c822a">â‘¡ Sequential Generation</p> <p class="" id="23f451cf-7b79-807d-9ba1-f35787194528">í•˜ë‚˜ì˜ ë‹µë³€ì„ ê¸¸ê²Œ, ì ì§„ì ìœ¼ë¡œ í™•ì¥í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ë©° reasoning</p> <li style="list-style-type:disc">Â <strong>Chain-of-Thought (CoT)</strong> prompting (Wei et al., 2022)<li style="list-style-type:circle">ì¤‘ê°„ reasoning stepì„ ëª…ì‹œì ìœ¼ë¡œ ìœ ë„</li></li> <li style="list-style-type:disc">Â <strong>Reflective reasoning</strong> (Madaan et al., 2023)<li style="list-style-type:circle">ìŠ¤ìŠ¤ë¡œ ë‹µì„ ê²€í† í•˜ê³  ìˆ˜ì •</li></li> <p class="" id="23f451cf-7b79-80cb-bb1d-d12800e91d84">â†’ reasoning depthë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ self-correctionì„ ìœ ë„</p> <p class="" id="23f451cf-7b79-80b6-8771-e2e6ce5cd7b5"> </p> <p class="" id="23f451cf-7b79-806b-a3f5-ccdb4c5b35dd">í•œê³„: ëŒ€ë¶€ë¶„ì˜ TTSëŠ” prompt-basedì´ë©°, Â <strong>ëª¨ë¸ íŒŒë¼ë¯¸í„° ìì²´ëŠ” ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ</strong></p> <p class="" id="23f451cf-7b79-8019-8025-ee1cb15a5c14"> </p> <table class="simple-table" id="23f451cf-7b79-80b2-ab20-cac97ed3662a"><thead class="simple-table-header"><tr id="23f451cf-7b79-802c-b7a6-dde261647268"><th class="simple-table-header-color simple-table-header" id="dgVD" style="width:253.203125px">ê¸°ì¡´ TTS</th><th class="simple-table-header-color simple-table-header" id="?GWK" style="width:368.99998474121094px">TTRL</th></tr></thead><tbody><tr id="23f451cf-7b79-80d5-b628-dbb22f086d79"><td class="" id="dgVD" style="width:253.203125px">inference timeì—ë§Œ ì‚¬ìš©</td><td class="" id="?GWK" style="width:368.99998474121094px">inference + parameter update (TTT) í¬í•¨</td></tr><tr id="23f451cf-7b79-80af-8e56-fa25a34d2c88"><td class="" id="dgVD" style="width:253.203125px">majority votingë§Œ ì‚¬ìš©</td><td class="" id="?GWK" style="width:368.99998474121094px">majority voting â†’ rewardë¡œ ì „í™˜í•˜ì—¬ RL ìˆ˜í–‰</td></tr><tr id="23f451cf-7b79-80e3-8c35-ecc7053d19e1"><td class="" id="dgVD" style="width:253.203125px">non-parametric</td><td class="" id="?GWK" style="width:368.99998474121094px">parametric update í¬í•¨</td></tr></tbody></table> <p class="" id="23f451cf-7b79-80fa-8a1b-fd0b7206516d"> </p> <h2 class="" id="23f451cf-7b79-80df-960a-f10bab20ab52">5.2 RL for Reasoning</h2> <p class="" id="23f451cf-7b79-8008-aba5-e9d6d24d7450"> </p> <p class="" id="23f451cf-7b79-80ec-811a-c889338e0cdc">Â <strong>Human Preference ê¸°ë°˜</strong></p> <ol class="numbered-list" id="23f451cf-7b79-807e-a9dc-f245579ed6f2" start="1" type="1"><li>Human ë˜ëŠ” annotatorê°€ ì—¬ëŸ¬ ë‹µ ì¤‘ ì„ í˜¸ë„ë¥¼ ë§¤ê¹€</li></ol> <ol class="numbered-list" id="23f451cf-7b79-80a9-8976-df4e7934194c" start="2" type="1"><li>Preference Model í•™ìŠµ â†’ rewardë¡œ ì‚¬ìš©</li></ol> <ol class="numbered-list" id="23f451cf-7b79-809d-b843-c86c5017dc1a" start="3" type="1"><li>PPO ë“±ìœ¼ë¡œ policy (LLM) ì—…ë°ì´íŠ¸</li></ol> <li style="list-style-type:disc">ê°•ì : ìì—°ì–¸ì–´ì  open-ended instructionì—ëŠ” ì í•©</li> <li style="list-style-type:disc">í•œê³„: Â <strong>ì‚¬ëŒì˜ labelì´ í•„ìš”</strong>í•˜ê³ , Â <strong>ìˆ˜ì¹˜ì  í‰ê°€ ë¶ˆê°€ëŠ¥í•œ domain</strong>ì—ì„œë§Œ ê°€ëŠ¥</li> <p class="" id="23f451cf-7b79-8049-9b2a-ed686d3173af"> </p> <p class="" id="23f451cf-7b79-80c5-acf4-f617b87f179c">Â <strong>Rule-based Reward ê¸°ë°˜</strong></p> <p class="" id="23f451cf-7b79-80a9-8004-d20bba2d0799">reasoning domain (ì˜ˆ: ìˆ˜í•™)ì—ì„œëŠ” ì •ë‹µì„ ëª…í™•í•˜ê²Œ íŒë³„í•  ìˆ˜ ìˆìŒ</p> <p class="" id="23f451cf-7b79-8058-a479-ec3199ba3775">â†’ ë§ì•˜ìœ¼ë©´ reward = 1, í‹€ë ¸ìœ¼ë©´ 0 ê°™ì€ Â <strong>rule-based reward</strong> ì‚¬ìš© ê°€ëŠ¥</p> <p class="" id="23f451cf-7b79-8017-a9d6-d26d14787daa"> </p> <p class="" id="23f451cf-7b79-805a-a6ad-cf611db203ff">Â <strong>GRPO (Group Relative Policy Optimization)</strong>:</p> <p class="" id="23f451cf-7b79-80d7-b457-e0378ef2a6d8">DeepSeek-R1ì—ì„œ ì‚¬ìš©. ìˆ˜í•™ ë¬¸ì œì— ëŒ€í•´ ê¸´ CoT ìƒì„± ìœ ë„</p> <p class="" id="23f451cf-7b79-8022-be2a-dbb9bc4c8417">PPOë„ ì‚¬ìš©ë˜ì§€ë§Œ, ìˆ˜ì¹˜ì  rewardì˜ ì•ˆì •ì„±ê³¼ gradient varianceê°€ ë¬¸ì œë¨</p> <p class="" id="23f451cf-7b79-80f0-9c70-e92f46a01e81"> </p> <table class="simple-table" id="23f451cf-7b79-8022-8cce-f248269d8bc0"><thead class="simple-table-header"><tr id="23f451cf-7b79-80cc-8860-f94665397978"><th class="simple-table-header-color simple-table-header" id=":{rp" style="width:121.6875px">êµ¬ë¶„</th><th class="simple-table-header-color simple-table-header" id="d@~H">RLHF</th><th class="simple-table-header-color simple-table-header" id="|Fw|" style="width:172.4375px">GRPO / Rule-based RL</th><th class="simple-table-header-color simple-table-header" id="Qb=S" style="width:169.2890625px">TTRL</th></tr></thead><tbody><tr id="23f451cf-7b79-8050-803e-e70b82cf0fa2"><td class="" id=":{rp" style="width:121.6875px">supervision source</td><td class="" id="d@~H">human preference</td><td class="" id="|Fw|" style="width:172.4375px">rule-based labels <br/>(ì •ë‹µì¡´ì¬)<br/></td><td class="" id="Qb=S" style="width:169.2890625px">Â <strong>majority voting</strong> <br/>(pseudo-label)<br/></td></tr><tr id="23f451cf-7b79-80a0-a5c5-fcdec2ab6d1c"><td class="" id=":{rp" style="width:121.6875px">label í•„ìš” ì—¬ë¶€</td><td class="" id="d@~H">í•„ìš”</td><td class="" id="|Fw|" style="width:172.4375px">í•„ìš”</td><td class="" id="Qb=S" style="width:169.2890625px">Â <strong>ë¶ˆí•„ìš” (label ì—†ìŒ)</strong></td></tr><tr id="23f451cf-7b79-8056-b43b-d981996bdb42"><td class="" id=":{rp" style="width:121.6875px">í•™ìŠµ ì‹œì </td><td class="" id="d@~H">offline RL</td><td class="" id="|Fw|" style="width:172.4375px">offline RL</td><td class="" id="Qb=S" style="width:169.2890625px">Â <strong>Test-time (online RL)</strong></td></tr><tr id="23f451cf-7b79-80bf-bd04-ea80e41d363c"><td class="" id=":{rp" style="width:121.6875px">task</td><td class="" id="d@~H">open-domain instruction</td><td class="" id="|Fw|" style="width:172.4375px">math, logic, program</td><td class="" id="Qb=S" style="width:169.2890625px">math, logic, program</td></tr></tbody></table> <p class="" id="241451cf-7b79-806c-b521-c5d44a654156"> </p> <p class="" id="241451cf-7b79-8005-9b3e-c9ab4028de22"> </p> <hr id="23f451cf-7b79-80cb-a4c8-ceb48ca34901"/> <h1 class="" id="23f451cf-7b79-8060-9397-c7cadf70a7e0">2. Test-Time Reinforcement Learning (TTRL)</h1> <blockquote class="" id="23f451cf-7b79-8098-b1f7-ff2cdc96f014">We study the problem of training a pre-trained model during test time using RL without ground-truth labels. We call this setting Test-Time Reinforcement Learning.</blockquote> <p class="" id="240451cf-7b79-80c8-80f9-c687549fa84f"> </p> <h2 class="" id="23f451cf-7b79-80bf-bbb8-c9d97d99d929">2.1 Methodology</h2> <figure class="image" id="23f451cf-7b79-806a-9b7e-dbaa8db953f7"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image.webp" style="width:709.9715576171875px"/></picture></figure> <p class="" id="23f451cf-7b79-80b2-9528-c205bc70d15b">ë…¹ìƒ‰ ë°°ê²½ì´ TTS + ì´í›„ ë‚˜ì˜¨ ê²°ê³¼ë¡œ reward calaulationì„ í†µí•´ Test-Timeì— Training</p> <p class="" id="240451cf-7b79-805e-a015-e91b2dc1b750">M: í•œ ë¬¸ì œ(q)ì— ëŒ€í•´ ìƒì„±í•˜ëŠ” Â <strong>ë‹µë³€ ìˆ˜</strong></p> <p class="" id="240451cf-7b79-800d-9b93-e29aeea82944">N = batch_size(í•˜ë‚˜ì˜ í•™ìŠµ stepì—ì„œ ì‚¬ìš©í•˜ëŠ” Â <strong>ë¬¸ì œ ìˆ˜)</strong></p> <p class="" id="240451cf-7b79-80b8-b020-ce347a6beebf">ì²«ë²ˆì§¸ ë¬¸ì œì— Mê°œì˜ ë‹µë³€ ë‚´ê³ , votingí•˜ê³  reward ê³„ì‚°í•´ì„œ ëª¨ì•„ë†“ì€ê²Œ R(y1, y)</p> <p class="" id="23f451cf-7b79-80f7-81e9-f7f74a50a932"> </p> <h3 class="" id="23f451cf-7b79-8023-b22e-e40da8d0d0d7">ìƒíƒœ(state)ì™€ í–‰ë™(action)</h3> <li style="list-style-type:disc">ì£¼ì–´ì§„ ë¬¸ì œ(prompt) xë¥¼ ìƒíƒœ(state)ë¡œ ë³´ê³ ,</li> <li style="list-style-type:disc">LLMì€ ê·¸ì— ëŒ€í•œ ë‹µë³€ yë¥¼ Â <strong>policy </strong><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ£</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_{\theta}(y \mid x) </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span>ë¡œë¶€í„° ìƒì„± (sampling)</li> <p class="" id="23f451cf-7b79-80bf-9a18-de6f9fb17744">â†’ Â <strong>LLMì˜ ë‹µë³€ í–‰ìœ„ = RLì˜ action</strong></p> <p class="" id="23f451cf-7b79-80cd-a504-e3c6dcaea997"> </p> <h3 class="" id="23f451cf-7b79-8028-8c1f-e6223b724e26">Rollout: ë‹µë³€ ì—¬ëŸ¬ ê°œ ìƒì„±</h3> <figure class="image" id="240451cf-7b79-8043-8848-f09b06b6c981"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%201.webp" style="width:709.9928588867188px"/></picture></figure> <p class="" id="23f451cf-7b79-8020-b683-f5d4bae8b936">Ground-truth labelì´ ì—†ì´ reward signalì„ ë³´ë‚´ì•¼í•˜ë‹ˆê¹Œ, Â <strong>ì—¬ëŸ¬ê°œì˜ candidate(í›„ë³´) outputì„ ìƒì„±</strong></p> <p class="" id="23f451cf-7b79-80a4-897e-c2a8ef3e923b">â†’ <mark class="highlight-red_background">xì— ëŒ€í•´ ë‹µë³€ {y1,...,yM} ì„ sampling</mark> </p> <p class="" id="240451cf-7b79-80c0-aa38-c3559d8b9ec3">ëœë¤ì„± ìˆëŠ” ìƒ˜í”Œë§ìœ¼ë¡œ Â <strong>M=64</strong>ê°œì˜ ë‹¤ì–‘í•œ ë‹µë³€ ìƒì„±(appendixì—ì„œëŠ” 16)</p> <p class="" id="23f451cf-7b79-807c-9a25-e4cf1ca78dae">â†’ ë‹¨ì¼ ë‹µì´ ì•„ë‹Œ ë‹¤ì–‘í•œ reasoning pathë¥¼ í™•ë³´í•´ì•¼ votingì´ ì˜ë¯¸ ìˆìŒ</p> <p class="" id="241451cf-7b79-80d9-92fd-cfb2d1631f29"> </p> <li><details><summary>ì—¬ëŸ¬ê°œì˜ ë‹µë³€ì€ ìë™ìœ¼ë¡œ ëœë¤ë˜ëŠ”ê²ƒì¸ê°€? ë”°ë¡œ ì„¤ì •ì„ ë°”ê¿”ì£¼ëŠ”ê²ƒì¸ê°€?</summary><p class="" id="23f451cf-7b79-807e-ac23-f61a4362df9b">ì›ë˜ LLMì€ ê°™ì€ ì…ë ¥ì— ëŒ€í•´ì„œë„ ëœë¤í•˜ê²Œ ë‹¤ë¥´ê²Œ ë‚˜ì˜¤ê¸´ í•¨.</p><p class="" id="23f451cf-7b79-8026-b7ab-d85cef1bfb6e">íŒŒë¼ë¯¸í„°ë¥¼ ì¼ë¶€ëŸ¬ ë³€í™”ì‹œí‚¤ì§„ ì•Šê³ , Â <strong>Randomized decoding ì„¤ì •</strong></p><p class="" id="23f451cf-7b79-802e-b82a-cda6ca3dc509">â†’ temperature, top-p, top-k, sampling íšŸìˆ˜ ë“±ìœ¼ë¡œ ì¡°ì ˆ</p><figure class="image" id="23f451cf-7b79-8014-914d-da89d38eec5f"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%202.webp" style="width:672px"/></picture></figure><li style="list-style-type:disc"><code>temperature = 0.6</code></li><li style="list-style-type:disc"><code>top-p = 0.95</code></li><p class="" id="23f451cf-7b79-8073-bea1-d393e8b776f4">â†’ samplingëœ ë‹µë³€ì´ ë‹¤ë¥´ê²Œ ë‚˜ì˜¤ë„ë¡ ìœ ë„</p><p class="" id="23f451cf-7b79-8018-ad0d-ce9c89ba386c"> </p><blockquote class="" id="23f451cf-7b79-8091-b236-d5d02f1fdc6a">Temperature: Setting the temperature to 1.0, as opposed to 0.6, increases the modelâ€™s output entropy. This promotes more extensive exploration and allows the model to make better use of its prior knowledge for self-improvement, which is particularly important when addressing challenging benchmarks.</blockquote><p class="" id="23f451cf-7b79-8065-a0b4-cd5d24e95c61">ì‹¤ì œë¡œ ì´í›„ ì‹¤í—˜ì—ì„œ Parameterì— ë”°ë¥¸ ë¹„êµê°€ ìˆê³ , </p><p class="" id="241451cf-7b79-80f1-a257-d2b750388110">Dataset ë‚œì´ë„ì— ë”°ë¼ì„œ ì¡°ì •ì´ í•„ìš”í•˜ë‹¤ëŠ” í•œê³„ë¥¼ ë°í˜.</p><p class="" id="241451cf-7b79-80d7-adf4-c620fca26c46">(Figure 11 : Inappropriate RL Hyperparameters)</p><p class="" id="241451cf-7b79-8095-b24f-fd52a4df6557">ì–´ë ¤ìš´ taskì— ëŒ€í•´ì„œëŠ” Temperatureì„ 1.0ìœ¼ë¡œ í•´ì•¼ íš¨ê³¼ê°€ ì¢‹ìŒ.</p><p class="" id="241451cf-7b79-804a-9854-e9cc681a5e3e">â†’ temperature ë†’ì´ë©´ diversity ì¦ê°€ â†’ exploration ì¦ê°€ â†’ high entropy â†’ ë‹¤ì–‘í•œ ë‹µë³€</p><p class="" id="23f451cf-7b79-80f2-b4b5-c4de0e277aea"> </p></details></li> <p class="" id="240451cf-7b79-80d8-a5f5-c3286a44d0ad"> </p> <p class="" id="23f451cf-7b79-802a-b5dc-ca4a4f4e05a2"> </p> <h3 class="" id="23f451cf-7b79-8032-ba84-e5a1a9510f85">ì •ë‹µ ì¶”ì¶œ + Majority Voting (Label ì¶”ì •)</h3> <figure class="image" id="240451cf-7b79-8057-94a4-cf9ec872350d"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%203.webp" style="width:709.9928588867188px"/></picture></figure> <li style="list-style-type:disc">ê° ğ‘¦iì—ì„œ ìµœì¢… ì •ë‹µë§Œ extract â†’ ìˆ«ì, ì„ íƒì§€</li> <li style="list-style-type:disc"><mark class="highlight-blue"><mark class="highlight-default_background">Â <strong>majority voting (ë‹¤ìˆ˜ê²°)ë¡œ ê°€ì¥ ë§ì´ ë‚˜ì˜¨ ë‹µì„ pseudo-label ğ‘¦âˆ—ë¡œ ì •í•¨</strong></mark></mark></li> <p class="" id="240451cf-7b79-8088-9b33-d79764dc2134"> </p> <p class="" id="240451cf-7b79-8081-8bde-d6e06d9ea4c6"> </p> <h3 class="" id="23f451cf-7b79-807c-b921-f32ebc0bd18e">Reward ê³„ì‚°</h3> <figure class="image" id="240451cf-7b79-8024-9887-c5d632ae7760"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%204.webp" style="width:709.9928588867188px"/></picture></figure> <p class="" id="23f451cf-7b79-8020-af8c-f5f68a8f8c50">samplingëœ yë‹µì´ majority ë‹µì´ë‘ ì¼ì¹˜í•˜ë©´ â†’ reward = 1</p> <p class="" id="240451cf-7b79-8043-a908-d53df570677f">ì•„ë‹ˆë©´ â†’ reward = 0</p> <figure class="image" id="23f451cf-7b79-8085-b276-c05356788692" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%205.webp" style="width:240px"/></picture></figure> <p class="" id="23f451cf-7b79-8080-90ab-c9a5d3d5dfb2">â†’ ì‹¤ì œ ì •ë‹µì„ ëª¨ë¥´ì§€ë§Œ, voting ê²°ê³¼ì— ì–¼ë§ˆë‚˜ ì¼ì¹˜í–ˆëŠ”ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•™ìŠµ ì‹ í˜¸ ì œê³µ</p> <p class="" id="240451cf-7b79-80f5-b8ab-faabdc2bc747"> </p> <blockquote class="" id="240451cf-7b79-80f8-8763-d3d4b32c050e">We sample 64 responses per prompt using the current model and randomly select 32 to use for training.</blockquote> <p class="" id="240451cf-7b79-8087-9b62-d8db511ddca6">ëœë¤í•˜ê²Œ 32ê°œë¥¼ íŠ¸ë ˆì´ë‹ì— ì‚¬ìš©ê·¸ ì¤‘ 32ê°œë§Œ ê³¨ë¼ì„œ reward ê³„ì‚°ì— ì‚¬ìš©</p> <p class="" id="240451cf-7b79-8062-9f2c-c77132b35c3a">â†’ íˆ¬í‘œëŠ” 64ê°œë¡œ í•˜ëŠ”ë°, ë‚˜ì¤‘ì— RLì€ ëœë¤ìœ¼ë¡œ ë°˜ë§Œ ì‚¬ìš©í•¨. (ë„ˆë¬´ ê³„ì‚° ê³¼ë„í•˜ë‹ˆê¹Œ)</p> <p class="" id="240451cf-7b79-80ba-9977-f22b53cc81e8"> </p> <figure class="block-color-teal_background callout" id="240451cf-7b79-80ad-b82c-d67dc448a2fa" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">ìœ„ ê³¼ì •ì„ batch size (N) ë§Œí¼ ë°˜ë³µí•¨. ë§¤ ì§ˆë¬¸ë§ˆë‹¤ ì—…ë°ì´íŠ¸ í•˜ëŠ”ê²Œ ì•„ë‹˜.<blockquote class="" id="240451cf-7b79-803d-9c86-fa2ad5ebe9f9">Each RL step samples a batch of questions and computes policy gradients using the pseudo-rewards from majority voting.</blockquote>â†’ Â <strong>ê° stepë§ˆë‹¤ ì—¬ëŸ¬ ê°œì˜ ì§ˆë¬¸(batch of questions)ì„ ì‚¬ìš©</strong><br/>â†’ ì´ê²Œ ê³§ ìš°ë¦¬ê°€ ë§í•˜ëŠ” â€œbatch sizeâ€ì— í•´ë‹¹<br/> <br/>ë°ì´í„°ì…‹ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ì‚¬ìš©í–ˆìŒ.<br/>AIME=80, AMC=30, MATH-500=10<br/>AIMEëŠ” ì–´ë ¤ìš°ë‹ˆê¹Œ ì—¬ëŸ¬ë²ˆí•˜ê³  ì—…ë°ì´íŠ¸í•´ì¤˜ì•¼ í‹€ë¦° ì •ë³´ë¡œ ì—…ë°ì´íŠ¸ê°€ ë°˜ë³µë  í™•ë¥ ì´ ì¤„ì–´ë“¬.</div></figure> <p class="" id="241451cf-7b79-80c7-b5d0-fcbdd80cad59"> </p> <p class="" id="23f451cf-7b79-80d3-a7ef-fbe33ed33149"> </p> <h3 class="" id="23f451cf-7b79-80e8-82ab-f2ba6cd22fbc">Policy ì—…ë°ì´íŠ¸ (RL)</h3> <figure class="image" id="240451cf-7b79-8016-a269-d63be4bcdbb4"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%206.webp" style="width:720px"/></picture></figure> <p class="" id="240451cf-7b79-80ec-bb33-f04da0189a57">batch sizeë§Œí¼ ë°˜ë³µí•˜ë©´ ì´ì œ ëª¨ì•„ë†¨ë˜</p> <p class="" id="23f451cf-7b79-8011-96c4-f92e87529bc2">ëª©í‘œ: expected rewardë¥¼ ìµœëŒ€í™”í•˜ëŠ” ê²ƒ â†’ ë‹¤ìˆ˜ê²°ì´ ì˜³ë‹¤ê³  ë¯¿ì!</p> <figure class="equation" id="23f451cf-7b79-8009-b062-ec1a7bd1df43"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mrow><mi>max</mi><mo>â¡</mo></mrow><mi>Î¸</mi></munder><msub><mi mathvariant="double-struck">E</mi><mrow><mi>y</mi><mo>âˆ¼</mo><msub><mi>Ï€</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mo>â‹…</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></msub><mrow><mo fence="true">[</mo><mi>r</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><msup><mi>y</mi><mo>âˆ—</mo></msup><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\max_{\theta} \mathbb{E}_{y \sim \pi_{\theta}(\cdot | x)} \left[ r(y, y^*) \right]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.5021em;vertical-align:-0.7521em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3479em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7521em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mrel mtight">âˆ¼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">â‹…</span><span class="mord mtight">âˆ£</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span></span></div></figure> <p class="" id="240451cf-7b79-80b3-af41-e9749458d9d1">rewardê°€ ë†’ì•˜ë˜ ë‹µë³€ ìª½ìœ¼ë¡œ (gradient ascent)</p> <p class="" id="240451cf-7b79-8033-ad24-dcd1fc420324">Î¸ (ëª¨ë¸ íŒŒë¼ë¯¸í„°)ë¥¼ ì—…ë°ì´íŠ¸</p> <figure class="equation" id="23f451cf-7b79-808a-81da-f70482e06880"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>â†</mo><mi>Î¸</mi><mo>+</mo><mi>Î·</mi><msub><mi mathvariant="normal">âˆ‡</mi><mi>Î¸</mi></msub><msub><mi mathvariant="double-struck">E</mi><mrow><mi>y</mi><mo>âˆ¼</mo><msub><mi>Ï€</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mo>â‹…</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></msub><mrow><mo fence="true">[</mo><mi>r</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><msup><mi>y</mi><mo>âˆ—</mo></msup><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\theta \leftarrow \theta + \eta \nabla_{\theta} \mathbb{E}_{y \sim \pi_{\theta}(\cdot | x)} \left[ r(y, y^*) \right]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Î·</span><span class="mord"><span class="mord">âˆ‡</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mrel mtight">âˆ¼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">â‹…</span><span class="mord mtight">âˆ£</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span></span></div></figure> <figure class="block-color-teal_background callout" id="23f451cf-7b79-805b-abd9-d45c1f8f209d" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">LLMì´ promptì— ëŒ€í•´ ì—¬ëŸ¬ ë‹µë³€ì„ ìƒì„±í•˜ê³ , ê·¸ ì¤‘ ë‹¤ìˆ˜ê²°ë¡œ ì¶”ì •ëœ labelê³¼ ì–¼ë§ˆë‚˜ ì¼ì¹˜í•˜ëŠ”ì§€ë¥¼ rewardë¡œ ì‚¼ì•„, LLMì˜ policyë¥¼ reinforcement learningìœ¼ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.</div></figure> <p class="" id="240451cf-7b79-8003-9d36-ce9c78d260c5"> </p> <p class="" id="240451cf-7b79-80b0-935c-cf0c179556e8"> </p> <p class="" id="240451cf-7b79-8070-b63c-f9f9cc98e99e"> </p> <h2 class="" id="23f451cf-7b79-80e3-940e-c68c1ba1f242">2.2 Majority Voting Reward Function</h2> <figure class="image" id="23f451cf-7b79-8053-9b47-f3832c099906"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%207.webp" style="width:709.9928588867188px"/></picture></figure> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="k">def</span> <span class="nf">majority_voting_reward_fn</span><span class="p">(</span><span class="n">outputs</span><span class="p">):</span>
    <span class="c1"># 1. ì •ë‹µ ì¶”ì¶œ
</span>    <span class="n">answers</span> <span class="o">=</span> <span class="p">[</span><span class="nf">extract_answer</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">outputs</span><span class="p">]</span>
    
    <span class="c1"># 2. ë‹¤ìˆ˜ê²°ë¡œ label ì¶”ì •
</span>    <span class="n">counts</span> <span class="o">=</span> <span class="nc">Counter</span><span class="p">(</span><span class="n">answers</span><span class="p">)</span>
    <span class="n">majority_answer</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">counts</span><span class="p">.</span><span class="nf">most_common</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="c1"># 3. reward ê³„ì‚° (ì¼ì¹˜ ì—¬ë¶€ ê¸°ì¤€)
</span>    <span class="n">rewards</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">ans</span> <span class="o">==</span> <span class="n">majority_answer</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ans</span> <span class="ow">in</span> <span class="n">answers</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">rewards</span>
</code></pre></div></div> <p class="" id="241451cf-7b79-80e9-9c6e-c2cc5c77505f"> </p> <p class="" id="241451cf-7b79-80cd-b3d6-c3b9409f74db"> </p> <p class="" id="241451cf-7b79-805b-9ad4-c1fc388b6d26"> </p> <hr id="23f451cf-7b79-807f-b369-c6b7a60d06bf"/> <h1 class="" id="23f451cf-7b79-8029-9470-f589da896f7a">3 Experiments</h1> <h2 class="" id="23f451cf-7b79-8024-8350-da5c0e1a2cc6">3.1 Experimental Setup</h2> <table class="simple-table" id="23f451cf-7b79-8055-8974-f9f6cb6688ce"><thead class="simple-table-header"><tr id="23f451cf-7b79-8027-a552-f1e1f32d8b6b"><th class="simple-table-header-color simple-table-header" id="MvWh" style="width:107.99999237060547px">êµ¬ì„±ìš”ì†Œ</th><th class="simple-table-header-color simple-table-header" id="mWXN" style="width:263px">ì„¤ì • ë‚´ìš©</th><th class="simple-table-header-color simple-table-header" id="~oyC" style="width:338px">ì´ìœ </th></tr></thead><tbody><tr id="23f451cf-7b79-8063-a869-db694264b0eb"><td class="" id="MvWh" style="width:107.99999237060547px">Models</td><td class="" id="mWXN" style="width:263px">Qwen, LLaMA, Mistral, DeepSeek ë“± ë‹¤ì–‘í•œ scaleì˜ LLM</td><td class="" id="~oyC" style="width:338px">pretrained + post-trained ëª¨ë¸ ëª¨ë‘ ì‚¬ìš©<br/>â†’ TTRLì´ ì „í˜•ì ì¸ SFT ì´í›„ì—ë„ ì‘ë™ ê°€ëŠ¥í•œì§€ ê²€ì¦<br/></td></tr><tr id="23f451cf-7b79-80fb-ba55-c8e1def6bb44"><td class="" id="MvWh" style="width:107.99999237060547px">Tasks</td><td class="" id="mWXN" style="width:263px">AIME 2024, AMC, MATH-500, GPQA</td><td class="" id="~oyC" style="width:338px">ì •ë‹µì´ ëª…í™•í•˜ê³  ì±„ì  ê°€ëŠ¥í•œ task ìœ„ì£¼ ì„ íƒ</td></tr><tr id="23f451cf-7b79-805d-ae8f-e61000881d82"><td class="" id="MvWh" style="width:107.99999237060547px">Sampling</td><td class="" id="mWXN" style="width:263px">64ê°œ ìƒì„±, 32ê°œ í•™ìŠµ ì‚¬ìš©</td><td class="" id="~oyC" style="width:338px">label estimation ì‹ ë¢°ë„ í™•ë³´ + ì—°ì‚° íš¨ìœ¨ ê³ ë ¤</td></tr><tr id="23f451cf-7b79-80a1-9ae2-ff0a75a84127"><td class="" id="MvWh" style="width:107.99999237060547px">Decoding</td><td class="" id="mWXN" style="width:263px">temp=0.6, top-p=0.95</td><td class="" id="~oyC" style="width:338px"></td></tr><tr id="23f451cf-7b79-8057-b356-d922c889d4ce"><td class="" id="MvWh" style="width:107.99999237060547px">RL Algorithm</td><td class="" id="mWXN" style="width:263px">Â <strong>GRPO</strong>, Â <strong>AdamW</strong>, Cosine schedule Learning rate:5 Ã— 10â»â·</td><td class="" id="~oyC" style="width:338px">ì‹¤í—˜ì ìœ¼ë¡œ ì•ˆì •ì„±ê³¼ sample-efficiencyê°€ ê²€ì¦ëœ ë°©ì‹</td></tr><tr id="23f451cf-7b79-80ac-b455-dfdee0cc5eb4"><td class="" id="MvWh" style="width:107.99999237060547px">Max Length</td><td class="" id="mWXN" style="width:263px">3072 (ì¼ë°˜), 32768 (LRM)</td><td class="" id="~oyC" style="width:338px">CoTì²˜ëŸ¼ ê¸¸ê³  reasoning-heavyí•œ ë‹µë³€ë„ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„</td></tr><tr id="23f451cf-7b79-80c0-8212-e9cbac7489b7"><td class="" id="MvWh" style="width:107.99999237060547px">Episodes</td><td class="" id="mWXN" style="width:263px">AIME=80, AMC=30, MATH-500=10</td><td class="" id="~oyC" style="width:338px">dataset ë‚œì´ë„ì™€ í¬ê¸°ì— ë§ì¶° ì ì ˆíˆ ì¡°ì •</td></tr></tbody></table> <li><details><summary>Dataset ì„¤ëª…</summary><p class="" id="240451cf-7b79-8048-b1fb-e26b2b71d455">AIME 2024 - American Invitational Mathematics Examination</p><li style="list-style-type:disc">ê³ ë“±í•™êµ ìƒìœ„ê¶Œ ëŒ€ìƒ ë¯¸êµ­ ìˆ˜í•™ ê²½ì‹œëŒ€íšŒ (3-digit integer)</li><p class="" id="240451cf-7b79-80d4-969d-ccfa878870ed">AMC - American Mathematics Competitions</p><li style="list-style-type:disc">AIMEë³´ë‹¤ ì‰¬ìš´ ë‹¨ê³„ì˜ ì„ ë‹¤í˜• ìˆ˜í•™ ê²½ì‹œ ë¬¸ì œ (5ì§€ì„ ë‹¤ A~E)</li><p class="" id="240451cf-7b79-80b8-ac73-d8b5a0fc187b">MATH-500 - Open-source ìˆ˜í•™ ë¬¸ì œì§‘ì—ì„œ 500ê°œ ì¶”ì¶œ</p><li style="list-style-type:disc">ìˆ˜ì‹, ì •ìˆ˜ â†’ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì§ì ‘ ê³„ì‚° (symbolic checker ì‚¬ìš©)</li><p class="" id="240451cf-7b79-8021-85f6-e39b93da7195">GPQA - Graduate-level Physics Question Answering</p><li style="list-style-type:disc">ì´ ì¤‘ Diamond ë‚œì´ë„ë§Œ (ê°ê´€ì‹)</li><p class="" id="240451cf-7b79-8009-bd3a-c3830a27353c"> </p></details></li> <p class="" id="240451cf-7b79-80d0-ad43-cda625c50c10"> </p> <p class="" id="240451cf-7b79-80ff-a3de-e4ee31271329"> </p> <h2 class="" id="23f451cf-7b79-8067-ae6d-f50c97867dda">3.2 Main Results</h2> <h3 class="" id="240451cf-7b79-803f-bca0-d7fd3048a847">Table 1 : Performs well on most tasks</h3> <figure class="image" id="23f451cf-7b79-8007-9e99-c348a3e0ab19" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%208.webp" style="width:528px"/></picture></figure> <p class="" id="240451cf-7b79-800a-b717-e41bee762adc">Qwen2.5-Math-1.5B ê°™ì€ 1.5B ëª¨ë¸ì´ 73.0ê¹Œì§€ ê°€ê¸°ë„ í•¨.<br/>â†’ ì†Œí˜• ëª¨ë¸ì€ RLì´ ì–´ë ¤ì› ë‹¤ëŠ” ê±¸ ê¹¸<br/><br/>* ì—¬ê¸°ì„œëŠ” Qwen3-8Bê°€ non-thinking modeì´ê³ , thinking modeëŠ” Figure 3<br/></p> <p class="" id="240451cf-7b79-80fd-8787-c14bdf2b0f04"> </p> <p class="" id="240451cf-7b79-806f-b423-eddca2305895"> </p> <h3 class="" id="240451cf-7b79-8070-b30b-dc24b7ce5eda">Table 2 : Performs well on most models</h3> <figure class="image" id="23f451cf-7b79-8069-94ac-c0a9464371eb" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%209.webp" style="width:432px"/></picture></figure> <p class="" id="240451cf-7b79-8052-9cfb-dbfed28c498c"> </p> <p class="" id="23f451cf-7b79-804b-8aaa-d0db412bd767">LLaMA-Instruct, DeepSeek-R1, Mistral ë“± ë‹¤ì–‘í•œ ëª¨ë¸ì—ì„œ í…ŒìŠ¤íŠ¸</p> <p class="" id="240451cf-7b79-8022-9080-d701ee2dd05f"> </p> <p class="" id="240451cf-7b79-8099-ac35-ed608668dc06"> </p> <h3 class="" id="240451cf-7b79-8025-8ac4-ff07c4a07636">Figure 3 : TTRL performs well on LRMs</h3> <figure class="image" id="23f451cf-7b79-80f1-9ddd-da1a2bc484b1" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2010.webp" style="width:336px"/></picture></figure> <p class="" id="240451cf-7b79-8034-a11b-d095d2ffca52">Large Reasoning Modelsì—ë„ ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì„</p> <p class="" id="240451cf-7b79-8017-8a49-d6e755b3b307">ì´ë¯¸ Reasoningìª½ìœ¼ë¡œ íƒ€ê²Ÿí•´ì„œ í•™ìŠµí•œ ëª¨ë¸ë„ í–¥ìƒë¨</p> <p class="" id="240451cf-7b79-80de-a168-db97fad92c46"> </p> <p class="" id="240451cf-7b79-80ff-b5e5-e4995a375ca5"> </p> <h3 class="" id="240451cf-7b79-8003-bb37-f5dfd44ec308">Figure 4 : TTRL generalizes well beyond the target task</h3> <figure class="image" id="23f451cf-7b79-80b1-ab57-d20470accbac" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2011.webp" style="width:576px"/></picture></figure> <p class="" id="240451cf-7b79-8044-be24-ee6e9c7e70d6">íŠ¹ì • ë²¤ì¹˜ë§ˆí¬ì—ì„œ í•™ìŠµ í›„ ë‹¤ë¥¸ taskì—ì„œë„ ì„±ëŠ¥ì´ ê°™ì´ ì˜¬ë¼ê°.</p> <p class="" id="240451cf-7b79-80d5-86d2-d8da741b1da3"> </p> <p class="" id="240451cf-7b79-80d6-9228-c14912ce4de7"> </p> <h3 class="" id="240451cf-7b79-8022-93f7-d59233a11c6b">Figure 5 : TTRL is compatible with different RL algorithms</h3> <figure class="image" id="240451cf-7b79-80bf-99fb-c7c0e6662478" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2012.webp" style="width:576px"/></picture></figure> <p class="" id="240451cf-7b79-808f-ae8d-c6d789d6b4dd">GRPO, PPO, PRIMEì„ ë¹„êµ</p> <p class="" id="241451cf-7b79-80d1-a6ea-eb3edc3c921c">GRPO (rule-based), PPO (value-based), PRIME (process-level reward) </p> <p class="" id="241451cf-7b79-8030-bfab-c0c793b94aa3">â†’ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œë„ í˜¸í™˜ì´ëœë‹¤.</p> <p class="" id="241451cf-7b79-8058-84cd-e6ce74a8a8db"> </p> <li><details><summary>Â <strong>PPO</strong> : Proximal Policy Optimization</summary><p class="" id="241451cf-7b79-802d-be42-c396c4c7d495">í˜„ì¬ì˜ policyë¥¼ ë„ˆë¬´ ë§ì´ ë°”ê¾¸ì§€ ì•Šìœ¼ë©´ì„œ ì¡°ê¸ˆì”© ì¢‹ì•„ì§€ê²Œ</p><p class="" id="241451cf-7b79-8091-8f22-e88408788c3f">value function V(s) ì„ ì‚¬ìš©í•´ì„œ í˜„ì¬ ìƒíƒœê°€ ì–¼ë§ˆë‚˜ ì¢‹ì€ì§€ë¥¼ ì˜ˆì¸¡í•˜ê³ ,</p><p class="" id="241451cf-7b79-80e4-a233-eacfd33f6fe8">ê·¸ ê¸°ì¤€ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ì •ì±…ì„ ë°”ê¿€ì§€ë¥¼ ê³„ì‚°</p></details></li> <p class="" id="241451cf-7b79-8003-9ed3-cfcb75e6667b"> </p> <li><details><summary>Â <strong>PRIME</strong> : Process Reinforcement through Implicit Rewards</summary><p class="" id="241451cf-7b79-809f-bbe8-fc024bbc9fcb"><a href="https://arxiv.org/abs/2502.01456">https://arxiv.org/abs/2502.01456</a></p><p class="" id="241451cf-7b79-807b-ba92-c0ba196c7ef6">ê° í† í° ë‹¨ìœ„ë¡œ ê³„ì‚°ëœ log-prob ratioë¥¼ ì‚¬ìš©í•´ rewardë¥¼ êµ¬ì„±</p><p class="" id="241451cf-7b79-80cc-8a85-df0b09b702ac">ê·¼ë°, reward sourceëŠ” ì—¬ì „íˆ Â <strong>majority voting ê¸°ë°˜</strong>ì´ì—ˆì„ ê°€ëŠ¥ì„±ì´ í¼</p></details></li> <p class="" id="241451cf-7b79-80d8-a048-ef56f094a64a"> </p> <li><details><summary>Â <strong>GRPO</strong> : Group Relative Policy Optimization</summary><p class="" id="241451cf-7b79-800c-a5d9-c77d5e1f4c0e"><a href="https://arxiv.org/abs/2402.03300">https://arxiv.org/abs/2402.03300</a></p><p class="" id="240451cf-7b79-80b9-9848-ccfe19cae50b">ê°™ì€ ì§ˆë¬¸ì— ëŒ€í•œ ì—¬ëŸ¬ ì‘ë‹µì˜ ìƒëŒ€ì ì¸ ì •ë‹µë¥ ì„ ë¹„êµí•˜ì—¬ ë³´ìƒì„ ì£¼ëŠ” ë°©ì‹</p><p class="" id="240451cf-7b79-80de-949b-e19359b9af89">Nê°œì˜ ìƒ˜í”Œ, ë‹¤í•­ reward, ë‹¤ì–‘ì„± ìƒ˜í”Œë§, online setting ë“±ì— ëª¨ë‘ ì ìš© ê°€ëŠ¥</p></details></li> <p class="" id="240451cf-7b79-8044-9555-c8e1fedfeae4"> </p> <li><details><summary>DPO : Direct Preference Optimization (ì‚¬ìš© ì•ˆí•¨)</summary><p class="" id="241451cf-7b79-8067-a466-eb328696f023">ë‘ ì‘ë‹µ ì¤‘ ì–´ëŠ ìª½ì´ ë” ì¢‹ì€ì§€ì— ëŒ€í•œ ì¸ê°„ì˜ "ì„ í˜¸"ë¥¼ ì§ì ‘ í•™ìŠµí•˜ëŠ” ë°©ì‹</p><p class="" id="241451cf-7b79-8042-a1a7-f565568e4c95">rewardê°€ ë‹¨ìˆœí•œ 0/1 í˜•íƒœì˜ Â <strong>pairwise</strong> ë¹„êµë¡œ ì œí•œ</p><p class="" id="241451cf-7b79-8093-9e05-d6527de1708e">preference ë“¤ì–´ê°€ì„œ offline êµ¬ì¡°ì„.</p><p class="" id="241451cf-7b79-803c-b69a-d6961c1154ba">Â <strong>â†’ ì´ ë…¼ë¬¸ì—ì„œ ì ìš© ëª»í•¨.</strong></p></details></li> <p class="" id="240451cf-7b79-80c2-949d-c53899472add"> </p> <p class="" id="240451cf-7b79-80f7-998b-f4b873c7068f"> </p> <h3 class="" id="23f451cf-7b79-809f-8b9b-f422de0e92f7">Figure 6 : Achieves sustainable self-evolution through â€œonlineâ€ and â€œRLâ€</h3> <figure class="image" id="240451cf-7b79-804e-8318-fa45ce179481" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2013.webp" style="width:624px"/></picture></figure> <p class="" id="240451cf-7b79-80d8-a0c4-ec28fbf44250"> </p> <li><details><summary>pass@1, avg@16, maj@16 ì´ ë­ì•¼?</summary><p class="" id="241451cf-7b79-8041-9087-d36765281472"> </p><p class="" id="240451cf-7b79-80d5-9e68-c2d5cbb7be4c">Â <strong>pass@1</strong></p><p class="" id="240451cf-7b79-801e-ad5e-c87c0bc89f13">â†’ TTRL ëª¨ë¸ì´ í˜„ì¬ ìƒíƒœë¡œ inference í•  ë•Œ Â <strong>ë‹¨ì¼ ìƒ˜í”Œì´ ì •ë‹µì¼ í™•ë¥ </strong></p><p class="" id="240451cf-7b79-80ff-bcfb-c5b73b6da9d3">â†’ ì‹¤ì œ ì‚¬ìš©ì ì„±ëŠ¥</p><p class="" id="240451cf-7b79-80e0-aeb5-c99eb32fbf71"> </p><p class="" id="240451cf-7b79-8016-9a03-c130c7b520ca">Â <strong>avg@16</strong></p><li style="list-style-type:disc">ê° ë¬¸ì œì— ëŒ€í•´ ìƒì„±ëœ 16Â <strong>ê°œì˜ ë‹µë³€ ì¤‘ ì •ë‹µì¸ ë¹„ìœ¨</strong>ì„ ê³„ì‚°</li><p class="" id="240451cf-7b79-80a5-b2e1-fc91c2973919">â†’ ì˜ˆë¥¼ ë“¤ì–´ ì •ë‹µì´ 10ë²ˆ ë‚˜ì™”ìœ¼ë©´ ê·¸ ë¬¸ì œì˜ ì ìˆ˜ëŠ” 10/16</p><li style="list-style-type:disc">ì´ë ‡ê²Œ ëª¨ë“  ë¬¸ì œì— ëŒ€í•´ í‰ê· ì„ ë‚¸ ê²ƒ</li><p class="" id="240451cf-7b79-80dd-83a3-ebf319ecbedf">â†’ ground truthë‘ ë¹„êµí•´ì•¼í•˜ë‹ˆê¹Œ ì‚¬ì‹¤ìƒ ë‚˜ì¤‘ì— ì„±ëŠ¥ í‰ê°€ìš©ì„</p><p class="" id="240451cf-7b79-8049-96a5-c2b9f47327a5"> </p><p class="" id="240451cf-7b79-80bd-9dcd-c6d2cc501c5d">Â <strong>maj@16</strong></p><li style="list-style-type:disc">ë‹¤ìˆ˜ê²°ë¡œ ë½‘ì€ ìˆ˜ë„ë¼ë²¨ì´ Â <strong>ì •ë‹µì´ë©´</strong> 1ì </li><li style="list-style-type:disc">ì´ë ‡ê²Œ ì „ì²´ ë¬¸ì œì— ëŒ€í•´ í‰ê· ì„ ë‚´ë©´ <code>maj@64</code> accuracy</li><p class="" id="241451cf-7b79-808b-8f6d-d1a7a039432e"> </p></details></li> <p class="" id="240451cf-7b79-80e4-81b2-c755fe5e59f8"> </p> <p class="" id="240451cf-7b79-80cc-882c-f02141c2f99a"> </p> <p class="" id="240451cf-7b79-8030-94a2-cffebf521dc9">TTRLì€ ë‹¨ìˆœíˆ ê¸°ì¡´ì˜ pseudo-labelì— ìˆ˜ë ´í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, Â <strong>pseudo-label ìì²´ë„ ê³„ì† ê³ ë„í™”</strong>ë˜ê³  ìˆìŒ</p> <li style="list-style-type:disc">TTRLì˜ êµ¬ì¡°ìƒ, Â <strong>ìì‹ ì˜ ì˜ˆì¸¡(y_hat)ìœ¼ë¡œë¶€í„° ë§Œë“  ë³´ìƒì„ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œ í•™ìŠµ</strong>í•¨</li> <li style="list-style-type:disc">ê·¸ëŸ¬ë©´ ëª¨ë¸ì˜ ì„±ëŠ¥ì´ í–¥ìƒë˜ê³ , ê·¸ì— ë”°ë¼ ë” ì¢‹ì€ ì˜ˆì¸¡ â†’ ë” ë‚˜ì€ pseudo-label â†’ ë” ë‚˜ì€ í•™ìŠµ ì‹ í˜¸ë¡œ ì´ì–´ì§€ëŠ” Â <strong>ìê¸°ê°•í™” ë£¨í”„(self-reinforcing loop)</strong> í˜•ì„±</li> <p class="" id="240451cf-7b79-80cb-8c8b-d7e13ee9ebfd"> </p> <p class="" id="240451cf-7b79-80b7-801f-e90b6b3270cd"><mark class="highlight-red">ì´ ë…¼ë¬¸ì—ì„œëŠ” RLì„ ì“¸ ë•Œ maj@16 ê¸°ì¤€ìœ¼ë¡œ rewardë¥¼ ê³„ì‚°(GRPO) í•˜ê³ ,</mark></p> <p class="" id="240451cf-7b79-8040-82fd-d60268e820a6"><mark class="highlight-red">í•™ìŠµ ì´í›„ ì„±ëŠ¥ í‰ê°€ì—ì„œëŠ” avg@16, maj@16 ë‘˜ ë‹¤ í™•ì¸í•¨.</mark></p> <p class="" id="240451cf-7b79-8092-84eb-f53f81ef3d08"> </p> <p class="" id="241451cf-7b79-803c-bf84-ee06159c8099"> </p> <p class="" id="241451cf-7b79-809b-be2e-ce6cda8d7881"> </p> <p class="" id="241451cf-7b79-80c7-83e9-e65c19eba1f6"> </p> <hr id="240451cf-7b79-80bb-8c25-e7e89631b128"/> <h1 class="" id="23f451cf-7b79-806c-abcb-fd70797dd70c">4 Analysis and Discussions</h1> <p class="" id="23f451cf-7b79-8041-be5b-f85ff54d6b30"> </p> <h2 class="" id="23f451cf-7b79-8009-83cc-e5c49554336c">4.1 Q1: <mark class="highlight-red">Â <strong>How Well</strong></mark> Can TTRL Perform?</h2> <p class="" id="240451cf-7b79-8035-b5a8-f8571b79b529">ê¸°ì¡´ self-training ë°©ì‹ì˜ ìƒí•œì„ ë“¤ê³¼ ë¹„êµí•´ì„œ ì–´ë””ê¹Œì§€ ë„ë‹¬í•  ìˆ˜ ìˆëŠ”ì§€ ì‹¤í—˜ì ìœ¼ë¡œ ê²€ì¦</p> <figure class="image" id="240451cf-7b79-80d2-b2c7-fe2624395036" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2014.webp" style="width:624px"/></picture></figure> <p class="" id="240451cf-7b79-8052-b677-f756d195b653">TTRL ì „/í›„ì˜ avg@64, maj@64 ë¹„êµ</p> <p class="" id="240451cf-7b79-8037-8e84-de8771482b0b">â†’ ëª¨ë“  benchmarkì—ì„œ TTRL ì ìš© í›„ avg@64, maj@64 ë‘˜ ë‹¤ ì„±ëŠ¥ì´ ì¦ê°€</p> <p class="" id="240451cf-7b79-80d4-9ba2-fb794343826b">Â <strong>TTRLì€ í•™ìŠµ ì‹ í˜¸ë¡œ maj@nì„ ì‚¬ìš©í–ˆì§€ë§Œ, í•™ìŠµ ì´í›„ ê²°ê³¼ëŠ” ê·¸ ìƒí•œì„ ì„ ì´ˆê³¼</strong></p> <p class="" id="240451cf-7b79-80fa-b6fe-de44eaba5868"> </p> <p class="" id="240451cf-7b79-8007-ac7c-efcf01131db1"> </p> <figure class="image" id="240451cf-7b79-8052-8752-eb319dde9f85" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2015.webp" style="width:480px"/></picture></figure> <p class="" id="240451cf-7b79-8032-b0bb-e6958cb3359f">RL : ground-truth labelì´ ìˆëŠ” ìƒíƒœì—ì„œ RLì„ ì§ì ‘ ëŒë¦¬ëŠ” ê²½ìš°</p> <p class="" id="240451cf-7b79-8048-bd37-ef6d7dbd1660">ì‚¬ì‹¤ RLì€ Labelì´ ì—†ì–´ì„œ Test-Timeì— ë¶ˆê°€ëŠ¥ â†’ ê·¸ ì„±ëŠ¥ì„ ë”°ë¼ê°<br/><br/></p> <p class="" id="240451cf-7b79-8097-97f4-c2f78a0c1893"> </p> <li><details><summary>ê·¸ëŸ°ë° ì–´ë–»ê²Œ TTRLì´ ì¤‘ê°„ accuracyì—ì„œ leakageë³´ë‹¤ ë†’ì•„ì§ˆ ìˆ˜ ìˆë‚˜?</summary><p class="" id="240451cf-7b79-80a9-a8e1-c99bebbcc22a"> </p><p class="" id="240451cf-7b79-8067-a823-ccc2b3a70ae0">Leakage RLì€ ë‹¨ì¼ ìƒ˜í”Œì— ëŒ€í•´ Â <strong>rewardê°€ binaryí•¨</strong></p><li style="list-style-type:disc">ì •ë‹µì´ë©´ +1, ì˜¤ë‹µì´ë©´ 0</li><p class="" id="240451cf-7b79-8028-8438-c7efc8130e8f">â†’ ì´ê±´ Â <strong>very sparse + very high variance</strong> reward</p><p class="" id="240451cf-7b79-80d1-a79e-c2c2f766f6ed">â†’ ë”°ë¼ì„œ ì´ˆë°˜ì—ëŠ” Â <strong>policyê°€ ì´ rewardë¥¼ ì œëŒ€ë¡œ í™œìš©í•˜ê¸° ì–´ë ¤ì›€</strong></p><p class="" id="240451cf-7b79-8013-8160-ddf33614e707"> </p><p class="" id="240451cf-7b79-8068-b119-e2477b7bec18">ë°˜ëŒ€ë¡œ TTRLì€ softí•œ avg ê¸°ë°˜ rewardë¥¼ ì‚¬ìš©í•¨</p><li style="list-style-type:disc">ì˜ˆë¥¼ ë“¤ì–´ ì •ë‹µì´ ì „ì²´ 32ê°œ ì¤‘ 18ê°œë©´ rewardê°€ 0.5625</li><li style="list-style-type:disc">ì´ê±´ Â <strong>gradient varianceê°€ ë‚®ê³  ì•ˆì •ì ì¸ í•™ìŠµì´ ê°€ëŠ¥</strong></li><p class="" id="240451cf-7b79-8018-9458-e86270a32e3f"> </p><p class="" id="240451cf-7b79-8025-94e3-e54932a28a96">í•˜ì§€ë§Œ ì‹œê°„ì´ ì§€ë‚˜ë©´, ì •ë‹µ ê¸°ë°˜ rewardê°€ ë” ì •í™•í•˜ë¯€ë¡œ TTRLë³´ë‹¤ ë” ë†’ì€ í•œê³„ ì„±ëŠ¥ì— ìˆ˜ë ´í•˜ê²Œ ë¨</p></details></li> <p class="" id="240451cf-7b79-8048-b5df-c09f4f31732d"> </p> <p class="" id="240451cf-7b79-8096-afde-d782681a5233"> </p> <h2 class="" id="23f451cf-7b79-80d6-beaa-d5bc4fc4a318">4.2 Q2: Why Does TTRL Work?</h2> <p class="" id="240451cf-7b79-800c-85e1-c246e1f49813"> </p> <h3 class="" id="240451cf-7b79-801b-85c5-fe14a346f5d8">1. Label Estimation</h3> <figure class="image" id="240451cf-7b79-808b-aa4e-e0f53f1b1958"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2016.webp" style="width:709.9928588867188px"/></picture></figure> <p class="" id="240451cf-7b79-809f-8301-ceee99ece220">Â <strong>Label Accuracyì™€ Reward AccuracyëŠ” ë‹¤ë¥´ë‹¤!!</strong></p> <li style="list-style-type:disc">label accuracyëŠ” ë‚®ìŒ (majority votingìœ¼ë¡œ ë§Œë“  pseudo-labelì´ í‹€ë¦¬ëŠ” ê²½ìš°ê°€ ë§ìŒ)</li> <li style="list-style-type:disc">ê·¸ëŸ¬ë‚˜ Â <strong>reward accuracyëŠ” ë†’ê²Œ ìœ ì§€ë¨</strong></li> <figure class="block-color-teal_background callout" id="240451cf-7b79-800e-b5a2-fb7d2f98fbce" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%"><mark class="highlight-default_background">"</mark><mark class="highlight-default_background"><strong>Lucky Hit</strong></mark><mark class="highlight-default_background">" í˜„ìƒ: samplingëœ ë‹µ ì¤‘ ì •ë‹µì„ ìš°ì—°íˆ ë§ì¶œ ìˆ˜ ìˆê³ , ì´ê²Œ ë†’ì€ ë³´ìƒìœ¼ë¡œ ì´ì–´ì§</mark></div></figure> <p class="" id="240451cf-7b79-8032-95cc-ef963af5d2f3"> </p> <p class="" id="240451cf-7b79-8001-9f70-ca10f0c537b2">ë¼ë²¨ì´ í‹€ë¦´ ìˆ˜ ìˆì–´ë„, rewardëŠ” ìš°ì—°íˆ ë§ê¸° ë•Œë¬¸ì— ë³´ìƒ ì‹ í˜¸ëŠ” ì¶©ë¶„íˆ ìœ íš¨í•˜ê³ ,</p> <p class="" id="240451cf-7b79-80e5-97db-f5fed93b9fbd">RLì€ ì›ë˜ ê·¸ëŸ° noiseì— ê°•í•˜ë¯€ë¡œ, labelì´ ë¶€ì •í™•í•´ë„ í•™ìŠµì´ ì•ˆì •ì ìœ¼ë¡œ ì§„í–‰ë  ìˆ˜ ìˆë‹¤.</p> <p class="" id="240451cf-7b79-80a3-af18-f9d894565bf9"> </p> <p class="" id="240451cf-7b79-808b-8ced-c6589e02f9b4"> </p> <h3 class="" id="240451cf-7b79-804e-bdbf-da16b5cf8733">2. Reward Calculations</h3> <p class="" id="240451cf-7b79-8044-a970-ea3109738a6c">Â <strong>ë¹„êµ ê¸°ë°˜ì´ê¸° ë•Œë¬¸ì— "ìš´ ì¢‹ê²Œ" ì˜¬ë°”ë¥¸ ë³´ìƒì„ ì¤„ ìˆ˜ ìˆë‹¤</strong></p> <li style="list-style-type:disc">yÌ‚ê°€ labelê³¼ ê°™ìœ¼ë©´ â†’ Â <strong>positive reward</strong></li> <li style="list-style-type:disc">yÌ‚ê°€ labelê³¼ ë‹¤ë¥´ë©´ â†’ Â <strong>negative reward</strong></li> <p class="" id="240451cf-7b79-80f9-a59a-d01418bfb746">ê·¼ë° ì´ labelì´ ì‹¤ì œ ì •ë‹µì´ ì•„ë‹ ìˆ˜ë„ ìˆìŒ</p> <p class="" id="240451cf-7b79-80ec-8577-d56a3bb2e22d">ê·¸ë˜ë„ Â <strong>yÌ‚ê°€ í‹€ë¦° labelì´ë‘ë„ ë‹¤ë¥´ë©´</strong>, ê·¸ê±´ Â <strong>"í‹€ë¦° ê±°ë‹¤"ë¼ëŠ” ë¶€ì •ì  ì‹ í˜¸ë¡œëŠ” ì—¬ì „íˆ ë§ìŒ</strong></p> <p class="" id="240451cf-7b79-80cb-a004-dff6578ca6a4">â†’ labelì´ í‹€ë ¤ë„ rewardëŠ” ìš°ì—°íˆ ë§ëŠ” ê²½ìš°ê°€ ë§ìŒ</p> <figure class="image" id="240451cf-7b79-80a5-b637-cbe59861f08c" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2017.webp" style="width:432px"/></picture></figure> <table class="simple-table" id="240451cf-7b79-80bf-8971-f23e8aec9573"><thead class="simple-table-header"><tr id="240451cf-7b79-80ea-ad6e-c74f60cfc924"><th class="simple-table-header-color simple-table-header" id="l=SS" style="width:219px">ë¬´ì—‡ì„ ê¸°ì¤€ìœ¼ë¡œ reward?</th><th class="simple-table-header-color simple-table-header" id="Y^DN">ì˜ˆì¸¡ê°’</th><th class="simple-table-header-color simple-table-header" id="U:ve" style="width:262px">reward</th></tr></thead><tbody><tr id="240451cf-7b79-8000-9960-dcebc6f6b7c8"><td class="" id="l=SS" style="width:219px">Â <strong>True label (3)</strong></td><td class="" id="Y^DN"><code>1 1 2 2 2 4 5 6</code></td><td class="" id="U:ve" style="width:262px"><code>0 0 0 0 0 0 0 0</code> â†’ ì „ë¶€ ì˜¤ë‹µ</td></tr><tr id="240451cf-7b79-80b5-8c45-c794199048e6"><td class="" id="l=SS" style="width:219px">Â <strong>Estimated label (2)</strong></td><td class="" id="Y^DN"><code>1 1 2 2 2 4 5 6</code></td><td class="" id="U:ve" style="width:262px"><code>0 0 1 1 1 0 0 0</code> â†’ 3ê°œ ì •ë‹µ ì²˜ë¦¬</td></tr></tbody></table> <p class="" id="240451cf-7b79-8081-971a-fe1440689a2b">â†’ 8ê°œ ì¤‘ 5ê°œëŠ” ì˜¬ë°”ë¥¸ rewardë¥¼ ì¤Œ</p> <p class="" id="240451cf-7b79-808f-87da-dc3ae6db093a"> </p> <p class="" id="240451cf-7b79-8011-888a-d82ff1ed6eaa">Â <strong>rollout ê¸°ë°˜ robustness</strong></p> <p class="" id="240451cf-7b79-80ed-aaf6-ffe3c1f128fd">í•˜ë‚˜ì˜ ì§ˆë¬¸ì— ëŒ€í•´ ì—¬ëŸ¬ ê°œ (Mê°œ)ì˜ ë‹µë³€ì„ samplingí•˜ê¸° ë•Œë¬¸ì—:</p> <li style="list-style-type:disc">í•˜ë‚˜ë¼ë„ labelê³¼ ì¼ì¹˜í•˜ëŠ” outputì´ ìˆìœ¼ë©´ â†’ positive reward</li> <li style="list-style-type:disc">í•˜ë‚˜ë„ ì—†ë”ë¼ë„ â†’ negative rewardëŠ” ì •í™•íˆ ê³„ì‚°ë¨</li> <p class="" id="240451cf-7b79-80c5-b913-e49b902155c7"> </p> <p class="" id="240451cf-7b79-8057-90df-d8e593a49a28">Â <strong>ëª¨ë¸ì´ ëª»í• ìˆ˜ë¡ reward accuracyëŠ” ì˜¤íˆë ¤ ì˜¬ë¼ê°„ë‹¤?</strong></p> <p class="" id="240451cf-7b79-8037-851a-c62c5623ef52">AIME 2024ì—ì„œ</p> <li style="list-style-type:disc">label accuracy: 37%</li> <li style="list-style-type:disc">reward accuracy: 92%</li> <p class="" id="240451cf-7b79-805b-a7d5-d64d7879d0cd">ëª¨ë¸ì´ ë‹¤ì–‘í•œ ì˜¤ë‹µì„ ë‚´ê¸° ë•Œë¬¸ì— (e.g., ê°€ì¥ ë§ì´ ë‚˜ì˜¨ ë‹µì´ 16.6%ì— ë¶ˆê³¼)</p> <p class="" id="240451cf-7b79-80ac-b2d5-c716e1869159">Â <strong>ê°ê°ì˜ outputì´ ë‹¤ ë‹¤ë¥¸ í‹€ë¦° ë‹µ</strong>ì´ë¯€ë¡œ â†’ labelê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠìŒ</p> <p class="" id="240451cf-7b79-8026-868c-f7825254b303">ê·¸ ìì²´ë¡œ negative rewardê°€ ì œëŒ€ë¡œ ì „ë‹¬ë¨ (ë¹„êµ ê²°ê³¼ ë‹¤ë¥´ë‹ˆê¹Œ)</p> <p class="" id="240451cf-7b79-8014-aa54-f1badd217003"> </p> <p class="" id="240451cf-7b79-8099-a119-cf0480545c8e"> </p> <h3 class="" id="240451cf-7b79-80dd-9eab-dd6ee52dcc48">3. Online Learning</h3> <p class="" id="240451cf-7b79-8030-9ce3-f213a444ad1c">ì˜¨ë¼ì¸ RL ì ‘ê·¼ ë°©ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ë‹ˆê¹Œ ëª¨ë¸ì€ applicationí•˜ë©´ì„œ ê¸°ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” íˆ¬í‘œë¥¼ í†µí•´ ìƒì„± ëœë³´ë‹¤ ì •í™•í•œ ë ˆì´ë¸”ë¡œ ì´ì–´ì§</p> <p class="" id="240451cf-7b79-807a-834f-fced1eee9bc3">â†’ supervision ì‹ í˜¸ì˜ í’ˆì§ˆì´ í–¥ìƒë˜ì–´ ì§€ì† ê°€ëŠ¥í•œ ìê¸° ì§„í™”ê°€ ê°€ëŠ¥ (Figure 6 ë‚´ìš©)</p> <p class="" id="240451cf-7b79-806c-ae3f-cef27e6c399a"> </p> <p class="" id="240451cf-7b79-8090-92fc-f865b70cc3b7"> </p> <p class="" id="23f451cf-7b79-8005-8962-f005e7c8ca82"> </p> <h2 class="" id="23f451cf-7b79-80f2-91a5-f5859b178380">4.3 Q3: When Might TTRL Fail?</h2> <p class="" id="240451cf-7b79-8034-9e46-c84a6434ac5e"> </p> <h3 class="" id="240451cf-7b79-8038-8e9f-fb0a7094500b">Figure 11 : Inappropriate RL Hyperparameters</h3> <figure class="image" id="240451cf-7b79-80f5-bb4b-fe5bd3f8cb7c" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2018.webp" style="width:384px"/></picture></figure> <p class="" id="240451cf-7b79-80cd-b8f7-e2348bee7743">TTRLì€ Â <strong>unsupervised</strong> + Â <strong>reward estimationì´ noisy</strong>í•œ êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì—,</p> <p class="" id="240451cf-7b79-80c0-8e39-e64a7e99bc20">ì¼ë°˜ì ì¸ RLë³´ë‹¤ Â <strong>í•˜ì´í¼íŒŒë¼ë¯¸í„°ì— í›¨ì”¬ ë¯¼ê°</strong>í•¨.</p> <li style="list-style-type:disc">íŠ¹íˆ ì‹¤íŒ¨í•œ ê²½ìš°ëŠ” Â <strong>Entropy</strong>ê°€ ëê¹Œì§€ ë‚®ì•„ì§€ì§€ ì•ŠìŒ (â†’ exploration ì‹¤íŒ¨)</li> <li style="list-style-type:disc">ì‹¤í—˜ì ìœ¼ë¡œ ë‹¤ìŒ ë‘ ê°€ì§€ê°€ í•µì‹¬ì„:</li> <p class="" id="240451cf-7b79-80b8-95c3-c2dda585cbeb"> </p> <p class="" id="240451cf-7b79-807b-bc23-e97756013e40">Â <strong>(1) Temperature</strong></p> <li style="list-style-type:disc"><code>T=1.0</code>ìœ¼ë¡œ ë†’ì´ë©´ ë” ë§ì€ entropy (ë” ë‹¤ì–‘í•œ ë‹µë³€)</li> <li style="list-style-type:disc">explorationì´ ë§ì•„ì§€ê³  prior knowledgeë¥¼ ë” ì˜ ì“°ê²Œ ë¨</li> <li style="list-style-type:disc">challenging benchmark (ex. AIME)ì—ì„  explorationì´ ë§¤ìš° ì¤‘ìš”</li> <p class="" id="240451cf-7b79-808b-9b4e-f014d904f0eb">Â <strong>(2) Episodes</strong></p> <li style="list-style-type:disc">ë¬¸ì œ ìˆ˜ ì ê³  ë‚œì´ë„ ë†’ì€ ë°ì´í„°ì…‹ (ex. AIME 2024)ì€ Â <strong>ì—í”¼ì†Œë“œ ìˆ˜ê°€ ë§ì•„ì•¼ í•¨</strong></li> <li style="list-style-type:disc">explorationì„ ì¶©ë¶„íˆ í•˜ì§€ ì•Šìœ¼ë©´ ìˆ˜ë ´ ë¶ˆê°€</li> <p class="" id="240451cf-7b79-80dd-b969-fd7b3bf3c87a"> </p> <p class="" id="240451cf-7b79-8071-b8c4-c39d1b41ffef">â†’ TTRLì€ ë¬¸ì œì˜ ë‚œì´ë„/ë¶„í¬/ê·œëª¨ì— ë”°ë¼ í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ Â <strong>ì •ë°€ ì¡°ì •í•´ì•¼ í•¨ </strong></p> <p class="" id="240451cf-7b79-80bc-b338-c36125e4fcd6"> </p> <p class="" id="240451cf-7b79-80c5-8392-fa3c9882e2a6"> </p> <h3 class="" id="240451cf-7b79-80c2-bcfc-e550e9f14c73">Table 3: Lack of Prior Knowledge on Target Task</h3> <figure class="image" id="240451cf-7b79-805e-adb4-e9f1980b0a2f"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2019.webp" style="width:709.9921875px"/></picture></figure> <p class="" id="240451cf-7b79-8051-aa0b-fab15b1dfb93">TTRLì€ Â <strong>test setë§Œ ê°€ì§€ê³  í•™ìŠµ</strong>í•˜ê¸° ë•Œë¬¸ì—,</p> <p class="" id="240451cf-7b79-80f2-9b8f-ec9f795cceed">ëª¨ë¸ì´ ê·¸ ë¶„ì•¼ì— ëŒ€í•œ ì‚¬ì „ ì§€ì‹ì´ ì—†ìœ¼ë©´ Â <strong>ì™„ì „íˆ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ</strong></p> <li style="list-style-type:disc">curriculum learning (ì‰¬ìš´ ë¬¸ì œë¶€í„°) ê°™ì€ ë„ì…ì´ ì—†ìŒ</li> <li style="list-style-type:disc">Â <strong>ì‚¬ì „ í•™ìŠµëœ knowledge ì—†ì´ ì–´ë ¤ìš´ ë¬¸ì œì— ë°”ë¡œ ì ì‘</strong>í•´ì•¼ í•¨</li> <p class="" id="240451cf-7b79-80da-8929-cc1ef3ea5746"> </p> <li style="list-style-type:disc">ë‚œì´ë„ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ Â <strong>ì„±ëŠ¥ í–¥ìƒ í­ ê°ì†Œ</strong></li> <li style="list-style-type:disc">ë¬¸ì œ ê¸¸ì´ ê°ì†Œìœ¨ë„ ë–¨ì–´ì§</li> <p class="" id="240451cf-7b79-8091-839b-d28dfa4aaaef">â†’ ì–´ë ¤ìš´ ë¬¸ì œì¼ìˆ˜ë¡ backboneì˜ ì‚¬ì „ ì§€ì‹ ë¶€ì¡±ìœ¼ë¡œ í•™ìŠµì´ í˜ë“¤ë‹¤ëŠ” ì¦ê±°</p> <p class="" id="241451cf-7b79-80c0-a4de-fd17f59e6aa9"> </p> <p class="" id="240451cf-7b79-8035-8cca-e6868067d2d7"> </p> <hr id="240451cf-7b79-80a6-aabe-cacd912d5aa6"/> <h1 class="" id="23f451cf-7b79-80b8-a3cc-c24193d30661">7 Limitations and Future Works</h1> <h3 class="" id="240451cf-7b79-805f-85a2-f6f3ac8d53c8">Limitations</h3> <ol class="numbered-list" id="240451cf-7b79-8039-8a2a-d7a71416c918" start="1" type="1"><li>Â <strong>TTRLì€ ì´ˆê¸° íƒìƒ‰ ë‹¨ê³„</strong>ì— ë¶ˆê³¼í•˜ë©°,</li></ol> <ol class="numbered-list" id="240451cf-7b79-806a-80fe-d687c0c5ae5a" start="2" type="1"><li>ë‹¤ìŒ ë‘ ìš”ì†Œê°€ Â <strong>í•™ìŠµ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ë¯¸ì¹¨</strong>ì—ë„ ì•„ì§ ì •ëŸ‰ì  ë¶„ì„ì´ ë¶€ì¡±í•¨:<li style="list-style-type:disc">ëª¨ë¸ì˜ Â <strong>ì‚¬ì „ ì§€ì‹ ìˆ˜ì¤€ (prior knowledge)</strong></li><li style="list-style-type:disc">Â <strong>í•˜ì´í¼íŒŒë¼ë¯¸í„° ì„¤ì •</strong> (temperature, episode ìˆ˜ ë“±)</li></li></ol> <p class="" id="240451cf-7b79-802b-b0f0-eee1ad9928fa"> </p> <h3 class="" id="240451cf-7b79-8004-8de6-f14b2c1527b9">Future Works (ë…¼ë¬¸ì— ë‚˜ì˜¨ ë‚´ìš©)</h3> <ol class="numbered-list" id="240451cf-7b79-80a7-81bb-d0c3c889a381" start="1" type="1"><li>Â <strong>ì´ë¡ ì  ë¶„ì„</strong><li style="list-style-type:disc">TTRLì´ 4.1ì—ì„œ ì •ì˜í•œ Â <strong>ë‘ upper bound</strong>(maj@n / RL leakage)ì— ëŒ€í•´ ì–¼ë§ˆë‚˜ ìˆ˜ë ´ ê°€ëŠ¥í•œì§€ ì´ë¡ ì ìœ¼ë¡œ ë¶„ì„</li><li style="list-style-type:disc">convergence theoryì™€ optimality ì¡°ê±´ ê·œëª…</li></li></ol> <ol class="numbered-list" id="240451cf-7b79-80b9-86ba-d18380311334" start="2" type="1"><li>Â <strong>ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° ê¸°ë°˜ ì˜¨ë¼ì¸ í•™ìŠµ</strong><li style="list-style-type:disc">í˜„ì¬ TTRLì€ static test set ê¸°ì¤€</li><li style="list-style-type:disc">ì´ë¥¼ Â <strong>ì‹¤ì‹œê°„ ë„ì°©í•˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì— ì ì‘í•˜ëŠ” í˜•íƒœë¡œ í™•ì¥</strong>í•˜ë ¤ëŠ” ê³„íš<p class="" id="240451cf-7b79-8067-b50f-fb7b323a1ff9">â†’ ì§„ì •í•œ Test-Time Adaptation (TTA)ìœ¼ë¡œì˜ í™•ì¥</p></li></li></ol> <ol class="numbered-list" id="240451cf-7b79-803d-9e3e-c2732f68382e" start="3" type="1"><li>Â <strong>ëŒ€ê·œëª¨ self-supervised RL</strong><li style="list-style-type:disc">TTRLì„ Â <strong>ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ + ëŒ€í˜• LLM</strong>ì— ì ìš©</li><li style="list-style-type:disc">ì¸ê°„ì˜ ë¼ë²¨ë§ ì—†ì´ë„ ê°•ë ¥í•œ ìê¸°ì§€ë„ ê°•í™”í•™ìŠµ ì‹œìŠ¤í…œìœ¼ë¡œ ë°œì „ì‹œí‚¤ë ¤ëŠ” ë°©í–¥</li></li></ol> <ol class="numbered-list" id="240451cf-7b79-80bd-b55b-fad116fa1c81" start="4" type="1"><li>Â <strong>Agentic Task ë° ê³¼í•™ì  ì¶”ë¡ </strong><li style="list-style-type:disc">TTRLì„ ë‹¨ìˆœ QA ë˜ëŠ” math benchmarkê°€ ì•„ë‹Œ,<li style="list-style-type:circle">Â <strong>ì¥ê¸°ì  ê³„íšì´ í•„ìš”í•œ agentic task</strong></li><li style="list-style-type:circle">Â <strong>ì—¬ëŸ¬ ë‹¨ê³„ì˜ ë…¼ë¦¬ë¥¼ ìš”í•˜ëŠ” ê³¼í•™ì  ë¬¸ì œ í•´ê²°</strong>ì— í™•ì¥</li></li><li style="list-style-type:disc">open-endedí•œ domainìœ¼ë¡œë„ TTRL ì ìš© ê°€ëŠ¥ì„± íƒ€ì§„</li></li></ol> <p class="" id="241451cf-7b79-8090-8ec5-c11fb855b2a9"> </p> <h3 class="" id="241451cf-7b79-80d5-9027-e52aeb637ba5">Limitations &amp; Future Works (ë‚´ ìƒê°)</h3> <p class="" id="241451cf-7b79-80cc-a9a6-d92a0bfdac82"> </p> <ol class="numbered-list" id="241451cf-7b79-804b-9a87-ee40c061c430" start="1" type="1"><li>Hyperparameter Sensitivity<p class="" id="241451cf-7b79-80c8-bad5-c10a66e0c334">RL training is Â <strong>highly sensitive</strong> to hyperparameters.</p><p class="" id="241451cf-7b79-805b-ba7f-d3769873d45e">â†’Automatic hyperparameter tuning</p><p class="" id="241451cf-7b79-80e1-8150-dbaae1ef4072"> </p></li></ol> <ol class="numbered-list" id="241451cf-7b79-8018-a37b-e9825a07c111" start="2" type="1"><li>Too much resource<p class="" id="241451cf-7b79-8067-88bb-d97cf8058236">The experiments require Â <strong>8 Ã— A100 80GB GPUs</strong></p><p class="" id="241451cf-7b79-8035-8f5f-db22d99f009c">â†’ Parameter-efficient by LoRA</p><p class="" id="241451cf-7b79-8005-aa36-c5c196c40c59"> </p></li></ol> <ol class="numbered-list" id="241451cf-7b79-80dd-b286-e1b1b14a2673" start="3" type="1"><li>Only for simple QA<p class="" id="241451cf-7b79-8064-9aca-d53b7801ea52">Experiments are focused on Â <strong>math &amp; multiple-choice</strong></p><p class="" id="241451cf-7b79-8043-87ed-c5e2e99c9ebf">â†’ Extend to complex, multi-step reasoning tasks</p></li></ol> <p class="" id="241451cf-7b79-800d-b66a-c005eddd519d"> </p> <p class="" id="241451cf-7b79-801c-bbed-efdd81f3e4b9"> </p> <p class="" id="241451cf-7b79-8085-bc7c-c827ce24ece9"> </p> <hr id="240451cf-7b79-8084-9117-e75ba7f23fc5"/> <h1 class="" id="241451cf-7b79-8098-aac3-fe8fc55f4004">Q&amp;A</h1> <p class="" id="241451cf-7b79-804e-a08f-de2e99a03afc">ë…¼ë¬¸ Presentation ë°œí‘œ ì¤‘ ì œëŒ€ë¡œ ë‹µë³€ ëª»í•œ Q&amp;A</p> <p class="" id="241451cf-7b79-8091-b5e2-fdd21f930bc5"> </p> <h3 class="block-color-orange_background" id="241451cf-7b79-80b8-9270-d2fbb339a555">Q1) ì´ê±° Test-Timeì— RL ì²« ë…¼ë¬¸ ë§ëŠ”ê°€?</h3> <p class="" id="241451cf-7b79-80c5-b9fd-d2243371647f">ì´ë¡ ìƒ Test-Time + RL êµ¬ì¡°ì˜ ì²« ë…¼ë¬¸ì€ ì•„ë‹ˆë‹¤.</p> <p class="" id="241451cf-7b79-80c5-a40b-c80d1c8b284f"> </p> <p class="" id="241451cf-7b79-8091-a8f0-fffe5a3654ea">GRPO ìì²´ë„ test-timeì— ì“¸ ìˆ˜ ìˆê³ , label ì—†ì´ë„ reward ë§Œë“¤ ìˆ˜ ìˆì§€ ì•Šë‚˜?</p> <li style="list-style-type:disc">GRPOëŠ” Â <strong>RL ì•Œê³ ë¦¬ì¦˜ (optimizer)</strong></li> <li style="list-style-type:disc">TTRLì€ Â <strong>ì „ì²´ í”„ë ˆì„ì›Œí¬</strong></li> <p class="" id="241451cf-7b79-803f-827d-db4e4272947d"> </p> <p class="" id="241451cf-7b79-80b3-bd50-e650eb983562"><a href="https://arxiv.org/abs/2402.03300">https://arxiv.org/abs/2402.03300</a></p> <p class="" id="241451cf-7b79-8090-b7f3-ec2c29fa2bb9">GRPOë¥¼ ì†Œê°œí•œ DeepSeekMath</p> <p class="" id="241451cf-7b79-809c-a591-d60151a943c4">â†’ GRPOë¥¼ test-timeì—ì„œ label ì—†ì´ ì“°ëŠ” ê±´ ê°€ëŠ¥</p> <p class="" id="241451cf-7b79-80fc-967c-cd37744347c2"> </p> <p class="" id="241451cf-7b79-807c-84c9-c5fd04346c1c">Â <strong>TTRLì—ì„œ ì •ì˜í•œ GRPOë¥¼ test-timeì— ì‹¤ì œë¡œ ì“°ë ¤ë©´ í•„ìš”í•œ ìš”ì†Œë“¤</strong></p> <li style="list-style-type:disc">test-time input stream ì²˜ë¦¬ ë°©ì‹</li> <li style="list-style-type:disc">sampling strategy (Mê°œ ìƒì„± â†’ voting)</li> <li style="list-style-type:disc">pseudo-label â†’ reward ë³€í™˜ í•¨ìˆ˜</li> <li style="list-style-type:disc">GRPOë¥¼ ì‘ë™ì‹œí‚¬ ìˆ˜ ìˆëŠ” reward scaling</li> <li style="list-style-type:disc">batch-level update â†’ continual self-evolution</li> <p class="" id="241451cf-7b79-802d-8b16-f9c5afc8b7ff">â†’ ì‹¤ì œë¡œ ì‘ë™í•˜ê²Œ ë§Œë“œëŠ” <mark class="highlight-red">Â <strong>í™˜ê²½ + ì…ë ¥ + reward + ë°˜ë³µ í•™ìŠµ ë£¨í”„</strong></mark>ë¥¼ ì²˜ìŒ ì„¤ê³„</p> <p class="" id="241451cf-7b79-806d-801a-c29fece2f491"> </p> <p class="" id="241451cf-7b79-801e-8c05-da87cd331180"> </p> <p class="" id="241451cf-7b79-8028-a3c1-f7136e982b00"><a href="https://arxiv.org/abs/2505.18514">https://arxiv.org/abs/2505.18514</a></p> <p class="" id="241451cf-7b79-80f8-8f32-e624966c9533">ìš°ë¦¬ ì—°êµ¬ì‹¤ ì§€ë„êµìˆ˜ë‹˜ì´ì‹  <a href="https://taesikgong.com/">ê³µíƒœì‹ êµìˆ˜ë‹˜</a>ì´ ìµœê·¼ì— ì“°ì‹  ì´ ë…¼ë¬¸ë„ â€œTest-Time RLâ€ì˜ ì •ì˜ê°€ ë§ìŒ</p> <p class="" id="241451cf-7b79-8089-ac56-d14a5699dee3">â†’ Test-Time RLì˜ ìµœì´ˆë¼ëŠ” ë§ì€ í‹€ë¦¼.</p> <p class="" id="241451cf-7b79-80d4-8ec1-e61daf57f592">ì°¨ì´ì ì€</p> <p class="" id="241451cf-7b79-8088-9426-f11411cac7aa">BiTTA : ì •ë‹µ í´ë˜ìŠ¤ ìì²´ëŠ” í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ, ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ëŒì˜ Â <strong>Binary Feedback</strong>ì´ í•„ìš”í•˜ë‹¤.</p> <p class="" id="241451cf-7b79-809a-9598-c39e36008567">TTRL : ì§„ì§œë¡œ Â <strong>label-free</strong>, Â <strong>oracle-free</strong></p> <p class="" id="241451cf-7b79-808b-8be5-e7151542fe45"> </p> <p class="" id="241451cf-7b79-80eb-848a-fc508dce2a99">ì •ë‹µì´ ìˆëŠ” oracleì˜ binary feedbackì„ í•„ìš”ë¡œ í•¨.</p> <p class="" id="241451cf-7b79-80ca-9073-f8846d63903f"> </p> <p class="" id="241451cf-7b79-8022-b3e4-c89180ba99ad">TTRLì€ ì–´ë– í•œ ëª¨ë¸, ë°ì´í„°ì…‹ì—ë„ ì ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, (ì •ë‹µì´ ë”± ë–¨ì–´ì§€ê¸°ë§Œ í•˜ë©´)</p> <p class="" id="241451cf-7b79-8057-8187-ec923329f8c7">reward noise, model prior, dataset ë‚œì´ë„ ë“±ì˜ ì˜í–¥ìœ¼ë¡œ </p> <p class="" id="241451cf-7b79-80ca-98fc-fc4f81811ca1">hyperparameter (batch size, temperature, episode ìˆ˜ ë“±)ì— ë§¤ìš° ë¯¼ê°</p> <p class="" id="241451cf-7b79-80f1-99a5-f1a7eef886cc">â†’ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ì´ í•„ìš”</p> <p class="" id="241451cf-7b79-80b6-8fa2-ed496667e351"> </p> <p class="" id="241451cf-7b79-80cd-b24f-c7876c009550"> </p> <h3 class="block-color-orange_background" id="241451cf-7b79-8072-a18d-dfd8cb8ce57a">Q2) Lucky hitì—¬ë„ ê²°êµ­ í‹€ë¦°ë‹µìœ¼ë¡œ í•™ìŠµí•˜ëŠ”ê±° ì•„ë‹Œê°€?</h3> <p class="" id="241451cf-7b79-809b-99b5-c43fbff990eb">ì™„ì „ ì˜ëª» ì´í•´í•˜ê³  ìˆì—ˆë‹¤. ë‚´ê°€ ì•Œê³ ìˆë˜ ì •ë³´ëŠ” BiTTA ì²˜ëŸ¼ Rewardë¥¼ 1ê³¼ -1ë¡œ ì¤˜ì•¼ì§€ ê°€ëŠ¥í•œ ê²ƒì´ë‹¤.</p> <p class="" id="241451cf-7b79-804d-bc07-cfd2fee1e456"><a href="https://arxiv.org/abs/2505.18514">https://arxiv.org/abs/2505.18514</a></p> <p class="" id="241451cf-7b79-8045-a2c8-f67bb19dd09b">ì˜ˆì¸¡ì´ í‹€ë ¸ìœ¼ë©´ Â <strong>-1ì´ë¼ëŠ” ë¶€ì •ì ì¸ ë³´ìƒ</strong>ì„ ëª…ì‹œì ìœ¼ë¡œ ì¤˜ì„œ, í‹€ë¦° ë°©í–¥ìœ¼ë¡œì˜ í™•ë¥ ì´ ë‚®ì•„ì§€ë„ë¡ gradient</p> <p class="" id="241451cf-7b79-8043-a679-cbfcce9d7a3d"> </p> <p class="" id="241451cf-7b79-80e1-8127-f72ff6f1dad6"> </p> <figure class="image" id="241451cf-7b79-8051-b184-d38434d71949"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-31-ttrl/image%2020.webp" style="width:336px"/></picture></figure> <p class="" id="241451cf-7b79-803f-ba7b-d6ff6448f496"> </p> <p class="" id="241451cf-7b79-80cc-a3d7-d568a602a7f3">ì˜ˆì‹œ - ëª¨ë¸ì´ ì˜ ëª¨ë¥¼ë•Œ</p> <p class="" id="241451cf-7b79-80a9-9749-dcf54a22a4b9">Â <strong>[1, 1, 2, 2, 2, 4, 5, 6]</strong> â†’ majorityëŠ” 2 (2ê°œ)</p> <p class="" id="241451cf-7b79-80f9-92d0-ccc4438b1721">â†’ 3/8ì´ë¼ì„œ ì ê¸´ í•˜ì§€ë§Œ, Â <strong>ë¶„ëª…íˆ 2ê°€ ì •ë‹µì´ë¼ëŠ” ê²ƒì´ ê°•í™”ë˜ëŠ” ê±´ ë§ë‹¤.</strong></p> <p class="" id="241451cf-7b79-8062-a4d1-f00522aa4b4e"> </p> <p class="" id="241451cf-7b79-80a0-99d5-e287ca328da3">TTRLì—ì„œ ëª¨ë¸ì´ ì˜ ëª°ë¼ì„œ majority votingì„ í†µí•´ ë½‘ì€ pseudo label = 2</p> <p class="" id="241451cf-7b79-8031-a315-f404633c81b8"><code>0 0 1 1 1 0 0 0 </code></p> <p class="" id="241451cf-7b79-8025-9709-c333209f3f4b">ì‹ í˜¸ë¡œ Reinforcement Learning</p> <p class="" id="241451cf-7b79-800e-9e69-e646ac5d37b5"> </p> <p class="" id="241451cf-7b79-8021-9e56-cf1d89c09dc4">ë§Œì•½ ì‹¤ì œë¡œ true-label (3)ì„ ì¤„ ë•Œ</p> <p class="" id="241451cf-7b79-808a-adad-d7e253a1a401"><code>0 0 0 0 0 0 0 0</code></p> <p class="" id="241451cf-7b79-80aa-99f8-c5940cb64edb">ì‹ í˜¸ë¡œ Reinforcement Learning</p> <p class="" id="241451cf-7b79-80f5-a473-f82d58458365"> </p> <p class="" id="241451cf-7b79-8072-85da-d3200f911a0a">Â <strong>ëª¨ë¸ì´ ì˜ ëª¨ë¥´ëŠ” ê²ƒì— ëŒ€í•´ì„œ labelì´ ì—†ì´ í–ˆì§€ë§Œ, </strong></p> <p class="" id="241451cf-7b79-8022-a736-fee0930b2f83">Â <strong>ì‹¤ì œ ì •ë‹µ labelì´ ìˆì„ë•Œì™€ Reward ì‹ í˜¸ê°€ 62.5%ë‚˜ ì¼ì¹˜í•œë‹¤! â†’ hit ratio</strong></p> <p class="" id="241451cf-7b79-80ff-8214-c8659ef05cb5"> </p> <p class="" id="241451cf-7b79-80e7-a6d4-e53b0c3cb0ec">ì‹¤ì œ ì •ë‹µ ë¼ë²¨ì´ ì—†ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ë…¼ë¬¸ì²˜ëŸ¼ rewardì—ì„œ penalty ì‹ í˜¸ì¸ -1ì„ ì£¼ì§€ ì•Šê³ ,</p> <p class="" id="241451cf-7b79-8092-b661-e31aede932ae">ë§ìœ¼ë©´ 1, Â <strong>í‹€ë ¤ë„ 0 </strong>ìœ¼ë¡œ ì„¤ì •í•œ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</p> <p class="" id="241451cf-7b79-8050-92fb-c08291555057"> </p> <p class="" id="241451cf-7b79-80b7-a6f1-fad5b001a4dd"> </p> <p class="" id="241451cf-7b79-800c-baed-cb146828c330"> </p> <h3 class="block-color-orange_background" id="241451cf-7b79-801a-9d07-c0c5281a3c1c">Q3) ì´ RLì—ì„œ actionì´ ë­”ê°€?</h3> <p class="" id="241451cf-7b79-802b-b5e4-f21ff7617291">state : ì£¼ì–´ì§„ ë¬¸ì œ(prompt) x</p> <p class="" id="241451cf-7b79-80f2-a391-fda4552ab895">action : LLMì˜ ë‹µë³€ í–‰ìœ„</p> <p class="" id="241451cf-7b79-8050-8625-e83472cdd0a5">â†’ LLMì€ ê·¸ì— ëŒ€í•œ ë‹µë³€ yë¥¼ policyÂ <strong> </strong><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ£</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_{\theta}(y \mid x) </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span>ë¡œë¶€í„° ìƒì„± (sampling)</p> <p class="" id="241451cf-7b79-80cf-9bde-c673c347a13b"> </p> <p class="" id="241451cf-7b79-8076-af9d-c91db6bffced"> </p> <p class="" id="241451cf-7b79-8031-ad3a-fa42fbaca653"> </p> <p><span class="sans" style="font-size:14px;padding-top:2em"></span></p>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2504.16084Github Codehttps://github.com/PRIME-RL/TTRLAuthorsYuxin Zuo, Kaiyan Zhang, Li Sheng, Shang Qu, Ganqu Cui, Xuekai Zhu, Haozhan Li, Yuchen Zhang, Xinwei Long, Ermo Hua, Biqing Qi, Youbang Sun, Zhiyuan Ma, Lifan Yuan, Ning Ding, Bowen ZhouAffiliationTsinghua University, Shanghai AI Lab ğŸ’¡Â Key Differentiator(1) ë‹¤ì–‘í•œ ë‹µë³€ì„ ìƒì„±í•˜ê³  (Test-Time Scaling)(2) majority votingì„ í†µí•´ "ì´ ë‹µë³€ì€ good, ì´ê±´ bad"ë¼ëŠ” í‰ê°€ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±(3) ì´ë¥¼ rewardë¡œ ë³€í™˜í•´ RL ìˆ˜í–‰Test Timeì— ììœ¨ì , ë°˜ë³µì , label-free ë°©ì‹ìœ¼ë¡œ í•™ìŠµí•˜ê³  ë” ì¢‹ì€ ê²°ê³¼ë¥¼ ë‚´ëŠ” íš¨ê³¼ë‹µì•ˆì§€ ì•ˆì£¼ê³  ë¬¸ì œë§Œ ì¤¬ëŠ”ë°, ì•Œì•„ì„œ ë°˜ë³µì ìœ¼ë¡œ ë¬¸ì œí’€ë©´ì„œ ë˜‘ë˜‘í•´ì§„ë‹¤! ğŸ¤·Why I chose this paper?Test-Time ë…¼ë¬¸ë“¤ì„ ë§ì´ ë´¤ì§€ë§Œ, Reinforcement Learningì€ ì²˜ìŒ ë“¤ì–´ë´ì„œ ê¶ê¸ˆí–ˆë‹¤.ì•„ì¹´ì´ë¸Œì—ë§Œ ìˆê³ , ìµœê·¼ì— ì œì¶œëœ ë…¼ë¬¸ì¸ë°, github starì´ 700ê°œë‚˜ ë˜ì–´ìˆì–´ì„œ ê¶ê¸ˆí–ˆë‹¤.]]></summary></entry><entry><title type="html">Test-Time Learning for Large Language Models</title><link href="https://hoonably.github.io/blog/ttl-llm/" rel="alternate" type="text/html" title="Test-Time Learning for Large Language Models"/><published>2025-07-13T16:30:40+00:00</published><updated>2025-07-13T16:30:40+00:00</updated><id>https://hoonably.github.io/blog/ttl-llm</id><content type="html" xml:base="https://hoonably.github.io/blog/ttl-llm/"><![CDATA[<table class="simple-table" id="23f451cf-7b79-8004-a097-c43c95ee2303"><tbody><tr id="23f451cf-7b79-8060-b8bb-df1b9686c82c"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">ArXiv</th><td class="" id="L|H:" style="width:580.5px"><a href="https://arxiv.org/abs/2505.20633">https://arxiv.org/abs/2505.20633</a></td></tr><tr id="23f451cf-7b79-80f4-9fed-e4621e37ba85"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Authors</th><td class="" id="L|H:" style="width:580.5px">Jinwu Hu, Zhitian Zhang, Guohao Chen, Xutao Wen, Chao Shuai, Wei Luo, Bin Xiao, Yuanqing Li, Mingkui Tan</td></tr><tr id="23f451cf-7b79-80ee-a0d3-d937f9d96b19"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Affiliation</th><td class="" id="L|H:" style="width:580.5px">School of Software Engineering, South China University of Technology<br/>Pazhou Laboratory<br/>Zhejiang University<br/>South China Agricultural University<br/>Chongqing University of Posts and Telecommunications<br/>Key Laboratory of Big Data and Intelligent Robot, Ministry of Education<br/></td></tr></tbody></table> <figure class="block-color-teal_background callout" id="228451cf-7b79-80c0-acd7-fa4383b79091" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">Â <strong>Key Differentiator</strong><br/>Perplexity Minimization<br/>ê¸°ì¡´ TTA (ex. Tent, EATA, COME)ëŠ” ì „ë¶€ Â <strong>entropy minimization</strong> ê¸°ë°˜<br/>â†’ ì¶œë ¥ ë¶„í¬ì˜ ë¶ˆí™•ì‹¤ì„±ì„ ë‚®ì¶”ëŠ” ë°©í–¥<br/>í•˜ì§€ë§Œ ì´ ë…¼ë¬¸ì€ Â <strong>LLMì˜ autoregressive êµ¬ì¡°</strong>ë¥¼ ê³ ë ¤í•´<br/>â†’ ì¶œë ¥ entropyê°€ ì•„ë‹ˆë¼ Â <strong>ì…ë ¥ perplexityë¥¼ ìµœì†Œí™”</strong>í•˜ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ objectiveë¥¼ ì œì•ˆ</div></figure> <p class="" id="228451cf-7b79-80ac-8355-e2df159c9edb"> </p> <div style="position:relative; width:100%; aspect-ratio:1214/749;"> <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQaw6XhJ8eaoJudKIqVW5NolLYQB2DqEjTcQGkBmBt0mJq1Dlm729ywCBBBaEJ_dA/pubembed?start=false&amp;loop=false&amp;delayms=3000" style="position:absolute; top:0; left:0; width:100%; height:100%;" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"> </iframe> </div> <h2 class="" id="228451cf-7b79-8069-b876-f517d055bf9d">2. Related Work</h2> <p class="" id="22b451cf-7b79-8057-b85b-f612da90620e">ê¸°ì¡´ ë°©ë²•ë“¤ì˜ íŠ¹ì§•ê³¼ LLMì—ì„œì˜ í•œê³„</p> <p class="" id="22b451cf-7b79-80ed-bf02-dabf2515d36f"> </p> <h3 class="" id="228451cf-7b79-80b1-8eab-eea3d94e8d10">Â <strong>Fine-tuning</strong></h3> <p class="" id="228451cf-7b79-8093-9704-e2652b31e113">: ë¼ë²¨ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ íŒŒë¼ë¯¸í„°ë¥¼ ì—…ë°ì´íŠ¸</p> <p class="" id="228451cf-7b79-8028-8cb1-d8e61caf0731">â†’ ë¼ë²¨ë§ ë¹„ìš©ì´ í¬ê³ , í˜„ì‹¤ì—ì„œ ê³„ì†í•´ì„œ ë¼ë²¨ëœ ë°ì´í„°ë¥¼ êµ¬í•˜ê¸° í˜ë“¦</p> <p class="" id="22b451cf-7b79-8024-aa59-e40974b3ac58"> </p> <h3 class="" id="228451cf-7b79-8060-95a7-f6be2b99ddcc">Â <strong>RAG (Retrieval-Augmented Generation)</strong></h3> <p class="" id="228451cf-7b79-802d-8528-c9348f82fdb1">: ì™¸ë¶€ ì§€ì‹ ë² ì´ìŠ¤ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ ì°¾ì•„ì™€ ì‘ë‹µì— ë°˜ì˜</p> <p class="" id="228451cf-7b79-80cd-9319-cd8664844426">â†’ ê²€ìƒ‰ í’ˆì§ˆì— ì˜ì¡´ + ê²€ìƒ‰ ë¹„ìš© ìˆìŒ</p> <p class="" id="22b451cf-7b79-8096-a355-ef77f22c55f5"> </p> <h3 class="" id="228451cf-7b79-80d3-8616-ffdf47dcc54a">Â <strong>TTT (Test-Time Training)</strong></h3> <p class="" id="228451cf-7b79-80b2-8fdd-c458256d278e">: í›ˆë ¨ ë°ì´í„°ë‚˜ knowledge baseì—ì„œ ìœ ì‚¬í•œ ë°ì´í„°ë¥¼ ì°¾ì•„ì„œ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •</p> <p class="" id="228451cf-7b79-800e-a381-e3753bc18e28">â†’ í›ˆë ¨ ë°ì´í„° ì ‘ê·¼ í•„ìš” + ê²€ìƒ‰ ê³¼ì •ì´ ëŠë¦¼</p> <p class="" id="22b451cf-7b79-80d4-98e6-d9435ebe0d98"> </p> <h3 class="" id="228451cf-7b79-806e-bd2b-f6b5030fa76e">Â <strong>TTA (Test-Time Adaptation)</strong></h3> <p class="" id="22b451cf-7b79-8036-9885-cf7a0c88ce7b">: ë¼ë²¨ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ì´ìš©í•´ ëª¨ë¸ì„ ì ì‘ì‹œí‚´</p> <p class="" id="22b451cf-7b79-80c5-b51a-e1b2e771c319"> </p> <p class="" id="22b451cf-7b79-80cf-8d6b-d0ae3b185971">â†’ ëŒ€ë¶€ë¶„ Â <strong>entropy minimization</strong> (ì¶œë ¥ì˜ í™•ë¥  ë¶„í¬ë¥¼ ë‹¨ì¼í•˜ê²Œ ë§Œë“œëŠ” ë°©ì‹)ì„ ì‚¬ìš©</p> <p class="" id="22b451cf-7b79-80e9-bf59-f47bc95dce14">â†’ LLMì€ Â <strong>autoregressive êµ¬ì¡°</strong>ì¸ë°, ì´ êµ¬ì¡°ë¥¼ ë¬´ì‹œí•˜ê³  entropyë§Œ ìµœì†Œí™”í•˜ë©´ íš¨ê³¼ê°€ ë–¨ì–´ì§</p> <p class="" id="22b451cf-7b79-80d2-aa7e-c43d60607bd5"> </p> <hr id="22b451cf-7b79-800f-81bc-ee0e3cee3a40"/> <p class="" id="230451cf-7b79-8086-8407-cc24beab462a"> </p> <h3 class="" id="230451cf-7b79-805e-8ad1-d0b1d19b8b87">Â <strong>ê¸°ì¡´ LLM TTAê°€ ë¶ˆê°€ëŠ¥í•œ ì´ìœ </strong></h3> <li style="list-style-type:disc">ê¸°ì¡´ TTAëŠ” ì£¼ë¡œ BatchNorm í†µê³„(mean/var)ë¥¼ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ì ì‘</li> <li style="list-style-type:disc">ê·¸ëŸ°ë° LLMì—ëŠ” BatchNormì´ ì—†ê³  ëŒ€ì‹  LayerNormì„ ì“°ê³ ,<p class="" id="22b451cf-7b79-80d0-a1f7-ccf970ff75a7">LayerNormì€ test-timeì—ì„œ ì—…ë°ì´íŠ¸í•  ê²Œ ì—†ìŒ â†’ ê¸°ì¡´ ë°©ì‹ ì ìš© ë¶ˆê°€</p></li> <p class="" id="22b451cf-7b79-80af-901a-fe22ff50417a"> </p> <p class="" id="22b451cf-7b79-801a-9d31-f74b41c0aa98">Â <strong>ê·¸ëŸ¼ LLMì—ì„œëŠ” ì–´ë–¤ test-time ì‹ í˜¸ê°€ ìˆëŠ”ê°€?</strong></p> <p class="" id="22b451cf-7b79-8037-90c1-c09d1596301f">â†’ ì…ë ¥ perplexityë¥¼ ì´ìš©í•´ì„œ</p> <p class="" id="22b451cf-7b79-8073-90b1-feb1c83fbd42">â†’ backprop ê°€ëŠ¥í•œ self-supervised objectiveë¥¼ ì„¤ê³„í•¨</p> <p class="" id="22b451cf-7b79-805e-80da-ea2e2cdbba5b"> </p> <p class="" id="22b451cf-7b79-8093-9665-c1b6bc4b6983"> </p> <hr id="22b451cf-7b79-800e-811f-d68d1ee16165"/> <p class="" id="22b451cf-7b79-80c0-abeb-c57e8d13259a"> </p> <p class="" id="22b451cf-7b79-80aa-8994-fa63cb4c7425"> </p> <h3 class="" id="22b451cf-7b79-80bf-82bd-c566a88da574">Why <span style="border-bottom:0.05em solid">Entropy Minimization </span>Doesnâ€™t Work Well for LLMs?</h3> <p class="" id="230451cf-7b79-80cc-8e08-ea5ef940e2f3"> </p> <h3 class="" id="22b451cf-7b79-804f-a601-d6a0f9501b1e">Â <strong>Entropyë€?</strong></h3> <p class="" id="22b451cf-7b79-807a-8542-d52534288f34">entropy = uncertainty</p> <p class="" id="22b451cf-7b79-80fa-a0bc-e6ec970a595a">[0.5, 0.5] â†’ high entropy</p> <p class="" id="22b451cf-7b79-805b-9ef8-e6391cc368fc">[0.99, 0.01] â†’ less entropy</p> <h3 class="" id="22b451cf-7b79-8027-904a-fc5f2404dd21">Â <strong>Autoregressiveí•œ LLMì€?</strong></h3> <p class="" id="22b451cf-7b79-8019-8603-eb9f20de0c39">Predict tokens one by one</p> <p class="" id="22b451cf-7b79-8079-984a-dce9ef943987">Each prediction depends on previous tokens</p> <p class="" id="22b451cf-7b79-805c-a553-d93f7659651a">Errors accumulate over time</p> <div class="column-list" id="22b451cf-7b79-803a-be75-dc152dd1ef88"><div class="column" id="22b451cf-7b79-8080-b2fa-df7a1cbaa807" style="width:56.25%"><h3 class="" id="22b451cf-7b79-800b-8a63-e72445209a53">Â <strong>ë¬¸ì œì </strong></h3><p class="" id="230451cf-7b79-80f2-92b3-c4a928cd37ca"> </p><li style="list-style-type:disc">Ignores token dependencies</li><li style="list-style-type:disc">Optimizes locally, not globally</li><li style="list-style-type:disc">Early mistakes â†’ later tokens collapse</li><p class="" id="22b451cf-7b79-8038-93ac-f862f030098b"> </p></div><div class="column" id="22b451cf-7b79-80ec-a2f1-c9ead77b92d1" style="width:43.75%"><figure class="image" id="22b451cf-7b79-80d4-825f-ca3ab88bf03b"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image.webp" style="width:288px"/></picture></figure><p class="" id="230451cf-7b79-80cc-8cd6-dec69deb905f"> </p></div></div> <p class="" id="22b451cf-7b79-8020-8fd3-d3b4ab3e46fc"> </p> <p class="" id="22b451cf-7b79-80cd-a96f-cab01fea9a61"> </p> <hr id="22b451cf-7b79-8011-9b3e-edf816abbd60"/> <p class="" id="22b451cf-7b79-8016-ad45-e818e1b80858"> </p> <h2 class="" id="22b451cf-7b79-80e4-8a54-cf80354bfa81">4.1 Perplexity Minimization for Test-Time Learning</h2> <p class="" id="22b451cf-7b79-8019-a676-e5db3decf359">Entropy ê¸°ë°˜ì˜ ë¬¸ì œì  í•´ê²°ì±…</p> <h3 class="" id="22b451cf-7b79-8012-a037-c4abb7fce194">Â <strong>perplexity</strong></h3> <p class="" id="22b451cf-7b79-809f-bbec-e6992e9dd450">: A metric that measures how confidently a language model predicts a given sequence</p> <p class="" id="22b451cf-7b79-8006-ac32-dd5ebd11e917">ì–¸ì–´ ëª¨ë¸ì´ Â <strong>ì£¼ì–´ì§„ ì‹œí€€ìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ â€œìì‹  ìˆê²Œâ€ ì˜ˆì¸¡í–ˆëŠ”ê°€</strong>ë¥¼ ì¸¡ì •í•˜ëŠ” ì§€í‘œ</p> <figure class="equation" id="230451cf-7b79-80e2-86d9-ff48b844df8b"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ£</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><msup><mi>e</mi><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><mi>p</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo>âˆ£</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mrow><mn>1</mn><mo>:</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\min_{\Theta} \mathcal{P}(y \mid x; \Theta) = \min_{\Theta} e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(y_t \mid x, y_{1:t-1}; \Theta) \right)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.4943em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8548em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1105em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">(</span></span><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆ£</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">:</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure> <li style="list-style-type:disc">log probabilityê°€ í´ìˆ˜ë¡ â†’ ì˜ˆì¸¡ ì˜í•¨ â†’ perplexity ë‚®ìŒ</li> <li style="list-style-type:disc">í™•ë¥  ì˜ˆì¸¡ì´ ë‚®ê³  ë¶ˆí™•ì‹¤í• ìˆ˜ë¡ â†’ perplexity ë†’ìŒ</li> <p class="" id="22c451cf-7b79-8088-93db-ccb79cc8c008"> </p> <h3 class="" id="22c451cf-7b79-80e4-933a-e66aab6d807b">Â <strong>TTAì—ì„œì˜ ë¬¸ì œì ì„ í•´ê²°</strong></h3> <p class="" id="22c451cf-7b79-80af-964d-eea408ed9f48">entropyëŠ” <code>[pâ‚, pâ‚‚, ..., p_T]</code> ê° í† í°ì— ëŒ€í•´ ê°œë³„ì ìœ¼ë¡œ í™•ë¥  ë¶„í¬ë¥¼ ë§Œë“¤ì–´ì„œ í† í°ê°„ì˜ ê´€ê³„ë³´ë‹¤ëŠ”, ê° ìœ„ì¹˜ì—ì„œ ë‹¨ì¼ ì •ë‹µì„ ê°•í•˜ê²Œ ë§Œë“¤ë ¤ê³  í•¨. â†’ í† í° ê°„ dependency ë¬´ì‹œ</p> <p class="" id="22c451cf-7b79-80f8-9ac8-c584410a694d">â†’ ì‹œê·¸ë§ˆë¡œ ì „ì²´ ì‹œí€€ìŠ¤ì— ëŒ€í•œ joint probabilityì˜ log lossë¥¼ êµ¬í•˜ê¸° ë•Œë¬¸ì— í† í° ê°„ ì˜ì¡´ì„±ì„ ì™„ì „íˆ ë°˜ì˜í•¨</p> <p class="" id="22c451cf-7b79-8017-a413-df787ab2890d">â†’ ì „ì²´ ë¬¸ì¥ì„ ì–¼ë§ˆë‚˜ ì˜ ì˜ˆì¸¡í–ˆëŠ”ê°€? ê¸°ì¤€ìœ¼ë¡œ loss ì¤Œ</p> <p class="" id="22c451cf-7b79-80e9-90f8-c969a60f5bfc">â†’ ê¸€ë¡œë²Œí•œ ê´€ì ì—ì„œ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸</p> <p class="" id="22c451cf-7b79-808b-81ac-d224c631a7d2"> </p> <h3 class="" id="22b451cf-7b79-8030-8496-e5c591256d54">Â <strong>ë¬¸ì œì </strong></h3> <p class="" id="22b451cf-7b79-8016-ad51-da552a92301e">í…ŒìŠ¤íŠ¸ ì‹œì—” ground truthê°€ ì—†ìŒ â†’ output perplexityë¥¼ ëª» ì”€</p> <p class="" id="22b451cf-7b79-8031-b297-fd2fcc442c04">x = input / y = output</p> <li style="list-style-type:disc">LLM ì„±ëŠ¥ì„ ì˜¬ë¦¬ë ¤ë©´ ë‹¹ì—°íˆ Â <strong>P(y | x)</strong> ë¥¼ ì¤„ì´ëŠ” ê²Œ ë§ìŒ</li> <li style="list-style-type:disc">í•˜ì§€ë§Œ Â <strong>test-timeì—ëŠ” yë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì—</strong> ìœ„ì˜ ì‹ì„ ì§ì ‘ ì“¸ ìˆ˜ ì—†ë‹¤.</li> <p class="" id="22b451cf-7b79-8054-99f1-dc0f70799dde"> </p> <p class="" id="22b451cf-7b79-8002-b89a-d8935b987385">â†’ ë°œê²¬</p> <p class="" id="22b451cf-7b79-803b-86cf-df6b8d5e5b04"> Â <strong>P(y | x)ë¥¼ ì¤„ì´ëŠ” ëŒ€ì‹  P(x)ë¥¼ ì¤„ì´ëŠ” ê²ƒë„ íš¨ê³¼ê°€ ìˆë‹¤</strong>ëŠ” ê²ƒ</p> <p class="" id="22b451cf-7b79-80ea-a5c1-e77486f97e74"> </p> <p class="" id="22b451cf-7b79-8037-ba96-c3308d51b6d8"> </p> <p class="" id="22b451cf-7b79-8063-b945-cfa80144b7f0">"The trend of LLMâ€™s perplexity to the input P(x; Î˜) and perplexity to the output P(y|x; Î˜) is the same.â€</p> <p class="" id="22b451cf-7b79-8091-8f82-c078051a9c88"> </p> <div class="column-list" id="22b451cf-7b79-8045-b456-d6a344cb5192"><div class="column" id="22b451cf-7b79-80e1-9914-f452026468d7" style="width:50%"><figure class="image" id="22b451cf-7b79-808d-9d6f-c94e5f0e107d"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%201.webp" style="width:336px"/></picture></figure></div><div class="column" id="22b451cf-7b79-803e-a42f-e85c7790930c" style="width:50%"><p class="" id="22b451cf-7b79-8089-abb1-e1930f44f1fe">ì™¼ìª½ ê·¸ë˜í”„ë¥¼ ë³´ë©´,</p><p class="" id="22b451cf-7b79-8055-b92b-ccef550f09ce"> input/output perplexityë¥¼ ì¸¡ì •í–ˆì„ë•Œ </p><p class="" id="22b451cf-7b79-80c0-83e7-e489e5f385e1">ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë³´ì¸ë‹¤.</p><p class="" id="22b451cf-7b79-806e-9a60-e917943754e8"> </p><p class="" id="22b451cf-7b79-80f2-9f1e-d1189df5b071">â†’ ì…ë ¥ perplexityë¥¼ ì¤„ì´ë©´ ì¶œë ¥ë„ ê°™ì´ ì¢‹ì•„ì§</p><p class="" id="240451cf-7b79-8038-ad67-d96f954d60ac"> </p></div></div> <figure class="equation" id="230451cf-7b79-80b4-9896-c4b2ca0261b2"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ£</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mi mathvariant="normal">Î˜</mi></munder><msup><mi>e</mi><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><mi>p</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo>âˆ£</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mrow><mn>1</mn><mo>:</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\min_{\Theta} \mathcal{P}(y \mid x; \Theta) = \min_{\Theta} e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(y_t \mid x, y_{1:t-1}; \Theta) \right)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.4943em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8548em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1105em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">(</span></span><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆ£</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">:</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure> <p class="" id="230451cf-7b79-808e-91c6-d67fe9432091">ì—ì„œ yë¥¼ ì“°ì§€ ì•ŠëŠ” ë‹¤ìŒìœ¼ë¡œ ë³€ê²½</p> <figure class="equation" id="230451cf-7b79-80e1-8af6-e3b385d9201f"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>T</mi></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>=</mo><msup><mi>e</mi><mrow><mo fence="true">(</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><mi>p</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo>âˆ£</mo><msub><mi>x</mi><mrow><mn>1</mn><mo>:</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\mathcal{P}(\{x_1, x_2, \ldots, x_T\}) = e^{\left(-\frac{1}{T} \sum_{t=1}^{T} \log p(x_t \mid x_{1:t-1}; \Theta) \right)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">({</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1105em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1105em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">(</span></span><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">:</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure> <p class="" id="230451cf-7b79-8016-9ece-d43fecc884bd"> </p> <p class="" id="22b451cf-7b79-809b-a4f0-f83cb06db2c9"> </p> <hr id="22b451cf-7b79-80db-912f-f953489d36d3"/> <p class="" id="22b451cf-7b79-80b5-8202-c66ff8f65492"> </p> <h2 class="" id="22b451cf-7b79-8060-8efc-da7cfbc12828">4.2 Sample Efficient Learning Strategy</h2> <p class="" id="22b451cf-7b79-8069-b76a-c9fa77f63e82"> </p> <p class="" id="22b451cf-7b79-80c6-a8fc-ffe640566cb1">TTLì—ì„œ Â <strong>ëª¨ë“  í…ŒìŠ¤íŠ¸ ìƒ˜í”Œì„ ë‹¤ ì‚¬ìš©í•´ì„œ ì—…ë°ì´íŠ¸</strong>í•˜ë©´:</p> <li style="list-style-type:disc">ê³„ì‚°ëŸ‰ ë‚­ë¹„</li> <li style="list-style-type:disc">íš¨ê³¼ ì—†ëŠ” ìƒ˜í”Œì— ëª¨ë¸ì´ ì˜¤íˆë ¤ í”ë“¤ë¦´ ìˆ˜ ìˆìŒ</li> <p class="" id="22b451cf-7b79-800e-895e-ded62c0c3963"> </p> <div class="column-list" id="22b451cf-7b79-80e8-89a0-e7822864d27d"><div class="column" id="22b451cf-7b79-8089-a719-d4da4f4ee9cd" style="width:37.5%"><figure class="image" id="22b451cf-7b79-806c-aba4-e7fd671d9778"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%202.webp" style="width:336px"/></picture></figure></div><div class="column" id="22b451cf-7b79-8027-8161-f6329f7f4cb2" style="width:62.5%"><p class="" id="22b451cf-7b79-8004-995d-d0e2c021b7b1">â†’ ë°œê²¬</p><li style="list-style-type:disc">high-perplexity ìƒ˜í”Œë¡œ í•™ìŠµí•˜ë©´ ë” ë†’ì€ ROUGE ì„±ëŠ¥</li><li style="list-style-type:disc">low-perplexity ìƒ˜í”Œë§Œ ì“°ë©´ ì„±ëŠ¥ Â <strong>ì˜¤íˆë ¤ ë–¨ì–´ì§</strong></li><p class="" id="22b451cf-7b79-8098-b73e-df38c7e2c5da">Â <strong>Low-perplexity input</strong>ì€ ì´ë¯¸ ì˜ ë§ì¶”ëŠ” ê²ƒì´ë¼ ì •ë³´ ê±°ì˜ ì—†ê¸° ë•Œë¬¸.</p></div></div> <p class="" id="22c451cf-7b79-80e5-a7c2-f063f5939090"> </p> <blockquote class="" id="22c451cf-7b79-8088-bcf2-fa358c76c5cc">ROUGE(Recall-Oriented Understudy for Gisting Evaluation):<p class="" id="22c451cf-7b79-80bd-8090-ceb01df31db6">ìì—°ì–´ ìƒì„± ê²°ê³¼ë¥¼ Â <strong>reference ë¬¸ì¥ê³¼ ë¹„êµí•´ ì–¼ë§ˆë‚˜ ì˜ ì¼ì¹˜í•˜ëŠ”ì§€</strong> í‰ê°€í•˜</p><p class="" id="22c451cf-7b79-80df-8adc-f1404765db4b">ROUGE-L : Longest Common Subsequence (LCS) ê¸°ë°˜ìœ¼ë¡œ ê³µí†µ ë¶€ë¶„ë¬¸ìì—´ </p></blockquote> <p class="" id="230451cf-7b79-8030-9bfa-faad42424686"> </p> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>min</mi><mo>â¡</mo></mrow><mover accent="true"><mi mathvariant="normal">Î˜</mi><mo>Ë‰</mo></mover></msub><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min_{\bar{\Theta}} S(x) \mathcal{P}(x; \Theta)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">min</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4707em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight">Î˜</span></span><span style="top:-2.9523em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mtight">Ë‰</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2293em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span> â†’ informativeí•œ ìƒ˜í”Œë§Œ ê³¨ë¼ ì“°ì</li> <li style="list-style-type:disc">ê° ìƒ˜í”Œë§ˆë‹¤ perplexityë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ìˆ˜ S(x) ë¥¼ ë§¤ê¸°ê³ </li> <li style="list-style-type:disc">S(x)ê°€ ë†’ì€ ìƒ˜í”Œë§Œ backpropagationì— ì‚¬ìš©</li> <figure class="equation" id="230451cf-7b79-800b-9a76-c7f7f3f97c97"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Î»</mi><mo>â‹…</mo><msup><mi>e</mi><mrow><mi>log</mi><mo>â¡</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>log</mi><mo>â¡</mo><msub><mi>P</mi><mn>0</mn></msub></mrow></msup><mo>â‹…</mo><msub><mi mathvariant="double-struck">I</mi><mrow><mo stretchy="false">{</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>P</mi><mn>0</mn></msub><mo stretchy="false">}</mo></mrow></msub><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S(x) = \lambda \cdot e^{\log \mathcal{P}(x; \Theta) - \log P_0} \cdot \mathbb{I}_{\{ \mathcal{P}(x; \Theta) &gt; P_0 \}}(\mathbf{x})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.938em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathcal mtight" style="margin-right:0.08222em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mbin mtight">âˆ’</span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathbb">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">{</span><span class="mord mathcal mtight" style="margin-right:0.08222em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">;</span><span class="mord mtight">Î˜</span><span class="mclose mtight">)</span><span class="mrel mtight">&gt;</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span></span></div></figure> <p class="" id="22b451cf-7b79-8056-baf8-d4da99a94231">Low-perplexity ìƒ˜í”Œì€ ì œì™¸í•˜ê³ , High-perplexity ìƒ˜í”Œì€ ë¹„ì¤‘ì„ í¬ê²Œ ë¶€ì—¬í•´ì„œ í•™ìŠµì— ë°˜ì˜</p> <p class="" id="22c451cf-7b79-8075-89a5-f7fd08f21c1f">ì—¬ê¸°ì„œ ì•„ë¼ë¹„ì•„ìˆ«ì 2 ê°™ì´ ìƒê¸´ê±´, indicator function (ì§€ì‹œ í•¨ìˆ˜)ë¥¼ ì˜ë¯¸í•œë‹¤.</p> <p class="" id="22c451cf-7b79-80dc-8467-f48d4cc2e5d6">ì¦‰, ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ <code>1</code>, ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ <code>0</code>ì´ ë˜ëŠ” Â <strong>ë¶ˆì—°ì† í•¨ìˆ˜</strong></p> <p class="" id="22c451cf-7b79-809c-861a-dd2af8f766e5"> </p> <p class="" id="22b451cf-7b79-8000-aebb-c031cf1589e6"> </p> <p class="" id="22b451cf-7b79-8018-b849-d33839c764d4">Â <strong>íš¨ê³¼</strong></p> <li style="list-style-type:disc">ë¶ˆí•„ìš”í•œ ìƒ˜í”Œ ì—…ë°ì´íŠ¸ë¥¼ ì¤„ì—¬ Â <strong>ê³„ì‚°ëŸ‰ ê°ì†Œ</strong></li> <li style="list-style-type:disc">ë” informativeí•œ ìƒ˜í”Œë¡œë§Œ ì—…ë°ì´íŠ¸í•´ì„œ Â <strong>ì„±ëŠ¥ í–¥ìƒ</strong></li> <p class="" id="22b451cf-7b79-8085-b569-c0aaa414d180"> </p> <p class="" id="22b451cf-7b79-80b0-b0c9-d96ccdd7b53a"> </p> <hr id="22b451cf-7b79-80f5-afa7-dde5edf2c716"/> <p class="" id="22b451cf-7b79-805f-8a98-ce2bb3e01437"> </p> <h2 class="" id="22b451cf-7b79-8076-b30d-e659baf153f4">4.3 Modulating Parameters for Test-Time Learning</h2> <p class="" id="22b451cf-7b79-80e7-99b3-d197ce57271e"> </p> <div class="column-list" id="22b451cf-7b79-8058-879c-fabc5f27b061"><div class="column" id="22b451cf-7b79-8061-a316-c76db6c9cdd0" style="width:37.5%"><figure class="image" id="22b451cf-7b79-80c7-ad5a-d193dd6e0ab0"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%203.webp" style="width:384px"/></picture></figure></div><div class="column" id="22b451cf-7b79-80f4-81b3-cd120d1b174d" style="width:62.5%"><p class="" id="22b451cf-7b79-804a-a5a2-e7bd244d4a44">LoRA(Low-Rank Adaptation)ëŠ” ì¼ë¶€ linear layerì— ì‘ì€ ë­í¬ì˜ ë³´ì¡° í–‰ë ¬ A, Bë¥¼ ì¶”ê°€í•´ì„œ ì—…ë°ì´íŠ¸í•¨</p><p class="" id="22b451cf-7b79-808e-9310-fd8c334f1770">â†’ LoRAë¡œë§Œ ì—…ë°ì´íŠ¸í•œ ê²½ìš°, full-param updateë³´ë‹¤ original ì„±ëŠ¥ ìœ ì§€ë ¥ì´ í›¨ì”¬ ì¢‹ìŒ</p><p class="" id="22b451cf-7b79-80ea-a2cc-cab53efecf78">ë„ë©”ì¸ ì ì‘ ì¤‘ì—ë„ task ì„±ëŠ¥ ìœ ì§€ â†’ Â <strong>forgetting ì–µì œ</strong></p><p class="" id="22b451cf-7b79-80d1-b0b3-dc82c626f69b"> </p></div></div> <figure class="equation" id="230451cf-7b79-80cd-b778-da016b47b2d2"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mover accent="true"><mi mathvariant="normal">Î˜</mi><mo>~</mo></mover></munder><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mover accent="true"><mi mathvariant="normal">Î˜</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mrow><mi mathvariant="normal">Î”</mi><mi mathvariant="normal">Î˜</mi></mrow></munder><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="script">P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">;</mo><mi mathvariant="normal">Î˜</mi><mo>+</mo><mi mathvariant="normal">Î”</mi><mi mathvariant="normal">Î˜</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min_{\tilde{\Theta}} S(x)\mathcal{P}(x; \tilde{\Theta}) = \min_{\Delta\Theta} S(x)\mathcal{P}(x; \Theta + \Delta\Theta)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.8303em;vertical-align:-0.9101em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.1899em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight">Î˜</span></span><span style="top:-3.3023em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mtight">~</span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9101em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">Î˜</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4943em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î”Î˜</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Î˜</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î”Î˜</span><span class="mclose">)</span></span></span></span></span></div></figure> <p class="" id="22b451cf-7b79-80e9-9330-e11f33f34a22">LoRAë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ì‹ì´ ë¨</p> <p class="" id="22b451cf-7b79-80eb-af86-d6f29188262e"> </p> <p class="" id="22b451cf-7b79-8043-9202-fe27643a3084"> </p> <hr id="22b451cf-7b79-801c-92c6-c0f157df1135"/> <p class="" id="22b451cf-7b79-8067-9e46-d2839d65f719"> </p> <h2 class="" id="22b451cf-7b79-803c-b447-d379191c4e1c">5.1. Experimental Settings</h2> <h3 class="" id="22b451cf-7b79-806f-bc4b-c17fec07bb04">Benchmark: AdaptEval</h3> <li style="list-style-type:disc">ë…¼ë¬¸ì—ì„œ ë§Œë“  ìƒˆë¡œìš´ í‰ê°€ ë²¤ì¹˜ë§ˆí¬</li> <li style="list-style-type:disc">ë‹¤ì–‘í•œ ë„ë©”ì¸ê³¼ ê³¼ì œ ìœ í˜•ì„ í¬í•¨í•˜ì—¬ Â <strong>LLMì˜ ì ì‘ ëŠ¥ë ¥</strong>ì„ ë‹¤ê°ë„ë¡œ í‰ê°€</li> <table class="simple-table" id="22b451cf-7b79-806f-a184-fd148ff700c1"><thead class="simple-table-header"><tr id="22b451cf-7b79-80b9-8216-e09179b828b6"><th class="simple-table-header-color simple-table-header" id="x;wa">Bench</th><th class="simple-table-header-color simple-table-header" id="@QS^">ëª©ì </th><th class="simple-table-header-color simple-table-header" id="hGn_" style="width:415px">í¬í•¨ëœ ë°ì´í„°ì…‹</th></tr></thead><tbody><tr id="22b451cf-7b79-8050-a97e-c598c4582ad8"><td class="" id="x;wa">Â <strong>DomainBench</strong></td><td class="" id="@QS^">ë„ë©”ì¸ ì§€ì‹ ì ì‘</td><td class="" id="hGn_" style="width:415px">Geography, Agriculture, Medicine, Finance</td></tr><tr id="22b451cf-7b79-805f-805b-e0366f300f74"><td class="" id="x;wa">Â <strong>InstructionBench</strong></td><td class="" id="@QS^">ì§€ì‹œ ë”°ë¥´ê¸°</td><td class="" id="hGn_" style="width:415px">Alpaca-GPT4, Dolly, InstructionWild</td></tr><tr id="22b451cf-7b79-80c5-90d5-c7153b21311d"><td class="" id="x;wa">Â <strong>ReasoningBench</strong></td><td class="" id="@QS^">ë…¼ë¦¬ ì¶”ë¡ </td><td class="" id="hGn_" style="width:415px">GSM8K, MetaMath, Logiqa</td></tr></tbody></table> <h3 class="" id="22b451cf-7b79-8090-9837-cfacb0eb138e">í‰ê°€ ì§€í‘œ (Metrics)</h3> <li style="list-style-type:disc">Â <strong>DomainBench, InstructionBench</strong> â†’ <em>ROUGE-Lsum (R-Lsum)</em></li> <li style="list-style-type:disc">Â <strong>ReasoningBench</strong> â†’ <em>Exact Match (EM)</em></li> <blockquote class="" id="22b451cf-7b79-8061-9fca-ce8d9a499ab1">ê°ê°ì˜ task íŠ¹ì„±ì— ë§ëŠ” ëŒ€í‘œ ì§€í‘œë¥¼ ì‚¬ìš©í•¨</blockquote> <h3 class="" id="22b451cf-7b79-805d-bab5-dfdfea8b94c6">LLM ëª¨ë¸</h3> <li style="list-style-type:disc">Llama3.2-3B-Instruct</li> <li style="list-style-type:disc">Llama3-8B-Instruct</li> <li style="list-style-type:disc">Llama2-13B-Chat</li> <li style="list-style-type:disc">Qwen2.5-7B-Instruct</li> <h3 class="" id="22b451cf-7b79-80c8-b489-ce4448fda412">Baselines</h3> <li style="list-style-type:disc">Â <strong>Tent</strong> (Entropy minimization ê¸°ë°˜ TTA)</li> <li style="list-style-type:disc">Â <strong>EATA</strong> (low-entropy ìƒ˜í”Œ ì„ íƒ ê¸°ë°˜ TTA)</li> <li style="list-style-type:disc">Â <strong>COME</strong> (ë³´ìˆ˜ì  entropy ìµœì†Œí™” ë°©ì‹)</li> <p class="" id="22b451cf-7b79-8076-8d13-e8c387243eab">â†’ ëª¨ë‘ Â <strong>unlabeled test dataë§Œ ì‚¬ìš©í•˜ëŠ” ìµœì‹  TTA ê¸°ë²•</strong></p> <p class="" id="22b451cf-7b79-8081-9c09-ecd77960708f">â†’ ê³µì •í•œ ë¹„êµë¥¼ ìœ„í•´ ëª¨ë‘ offline ì„¤ì •ì— ë§ì¶° ì¬êµ¬í˜„</p> <h3 class="" id="22b451cf-7b79-805a-9328-e1f29ea7be44">êµ¬í˜„ ì„¸íŒ…</h3> <li style="list-style-type:disc">Optimizer: Adam</li> <li style="list-style-type:disc">Learning rate:<li style="list-style-type:circle">DomainBench: 5e-5</li><li style="list-style-type:circle">InstructionBench: 5e-5</li><li style="list-style-type:circle">ReasoningBench: 1e-6</li></li> <li style="list-style-type:disc">Batch size: 1</li> <li style="list-style-type:disc">Decoding: Greedy, temperature = 0</li> <li style="list-style-type:disc">Î» = 0.1, Pâ‚€ = eÂ³ (ìƒ˜í”Œ ì„ íƒ threshold)</li> <p class="" id="22b451cf-7b79-80dc-9b7c-da98efb9a160"> </p> <p class="" id="22b451cf-7b79-80b5-a45f-ddf3d45f3929"> </p> <hr id="22b451cf-7b79-808d-bce7-c662edcbe5c3"/> <p class="" id="22b451cf-7b79-80ba-b772-e77544948d0c"> </p> <h2 class="" id="22b451cf-7b79-8047-986b-c2b7453a279c">5.2 Comparison Experiments</h2> <figure class="image" id="22b451cf-7b79-8071-9b5b-f4e8f38666b7"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%204.webp" style="width:709.984375px"/></picture></figure> <p class="" id="22b451cf-7b79-8014-bec8-e0ad209884aa">TLMì€ ëª¨ë“  task categoryì—ì„œ baseline ëŒ€ë¹„ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë‹¬ì„±</p> <li style="list-style-type:disc">Â <strong>DomainBench</strong>: ì „ë¬¸ ìš©ì–´, ë„ë©”ì¸-specific í‘œí˜„ë“¤ (ì˜ˆ: ì˜ë£Œ, ê¸ˆìœµ ìš©ì–´)</li> <li style="list-style-type:disc">Â <strong>InstructionBench</strong>: ì§€ì‹œë¬¸ì˜ í‘œí˜„ ë°©ì‹, ë§íˆ¬, ìš”ì²­ ìŠ¤íƒ€ì¼ ì ì‘</li> <p class="" id="22b451cf-7b79-80db-948f-c5d2407fc9f7">â†’ ì´ëŸ° ê³¼ì œë“¤ì€ ëª¨ë¸ì´ ìƒˆë¡œìš´ ìš©ì–´, ë¬¸ì¥ íŒ¨í„´ì—ë§Œ ì ì‘í•˜ë©´ ì„±ëŠ¥ì´ ì˜¬ë¼ê°</p> <p class="" id="22b451cf-7b79-8009-9831-dbbbcd270c21">â†’ ê·¸ë¦¬ê³  TLMì€ ì…ë ¥ perplexity ìµœì†Œí™” â†’ ë¬¸ì¥ í‘œí˜„ì— ëŒ€í•œ ì´í•´ ê°•í™”</p> <p class="" id="22b451cf-7b79-804e-b07b-db22d1e7ffb7">â†’ ì¦‰, perplexity ê¸°ë°˜ self-supervised ì ì‘ì´ ì§ì ‘ì ìœ¼ë¡œ íš¨ê³¼ì ì„</p> <p class="" id="22b451cf-7b79-80c6-8dae-e60e4a58a3d9"> </p> <div class="column-list" id="22b451cf-7b79-802b-8b42-e84e1fdf880e"><div class="column" id="22b451cf-7b79-80f3-a7d1-ce15107538ce" style="width:50%"><figure class="image" id="22b451cf-7b79-802c-ab67-d7e14075ab15"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%205.webp" style="width:332px"/></picture></figure></div><div class="column" id="22b451cf-7b79-8020-b29a-f75e3ae39b95" style="width:50%"><p class="" id="22b451cf-7b79-80d0-b6f1-d2b5e55d3055">ì´ í‘œë§Œ ê°’ì´ Â <strong>Exact Match (EM)</strong>ì„. </p><p class="" id="22b451cf-7b79-8070-8751-d791e5cc2360">â†’ ì •í™•íˆ ë‹µì„ ì–¼ë§ˆë‚˜ ë§ì·„ëŠ”ê°€</p><p class="" id="22b451cf-7b79-8045-ba19-e62087ea1ce1"> </p><p class="" id="22b451cf-7b79-8062-b589-e807433cfba0">ReasoningBenchë„ ì¢‹ì•„ì§€ê¸´ í–ˆì§€ë§Œ, ë…¼ë¦¬ êµ¬ì¡°ê°€ í•µì‹¬ì´ë¼ Â <strong>chain-of-thought reasoning</strong>ì´ ì¤‘ìš”í•¨</p><p class="" id="22b451cf-7b79-80c9-8a38-eca49092ba34">â†’ test-timeì— ì…ë ¥ë§Œ ë³´ê³  ëª¨ë¸ì„ ê°œì„ í•˜ëŠ” ê±´ Â <strong>ì œí•œì ì¸ íš¨ê³¼ë§Œ ìˆìŒ</strong></p><p class="" id="22b451cf-7b79-8055-9b99-c162ef3317b4">â†’ íŠ¹íˆ reasoning ëŠ¥ë ¥ì€ ì´ë¯¸ pretraining + fine-tuning ë‹¨ê³„ì—ì„œ ê¹Šê²Œ í•™ìŠµë˜ì–´ì•¼ í•¨</p><p class="" id="22b451cf-7b79-8027-887d-cd7fdea3b5d2"> </p></div></div> <p class="" id="22b451cf-7b79-80ee-8934-e5ec6d344e1e"> </p> <hr id="22b451cf-7b79-8084-a678-c310067f1f3b"/> <p class="" id="22b451cf-7b79-80be-89b2-fe7c9f69ac65"> </p> <h2 class="" id="22b451cf-7b79-8097-b262-c86e66f48e2e">5.3 Ablation Studies</h2> <table class="simple-table" id="22b451cf-7b79-806b-931f-fd565d6cc30d"><thead class="simple-table-header"><tr id="22b451cf-7b79-803e-9848-cebd00c9c859"><th class="simple-table-header-color simple-table-header" id="NdW_">ë²„ì „</th><th class="simple-table-header-color simple-table-header" id="PZJ&gt;" style="width:523px">ì„¤ëª…</th></tr></thead><tbody><tr id="22b451cf-7b79-80c7-bade-f4bc54bb1c7b"><td class="" id="NdW_">Â <strong>Original LLM</strong></td><td class="" id="PZJ&gt;" style="width:523px">ì•„ë¬´ëŸ° TTL ì ìš© ì•ˆ í•œ ì›ë³¸</td></tr><tr id="22b451cf-7b79-80e8-8158-cd3c3d8cff56"><td class="" id="NdW_">Â <strong>Ours (w/o SEL)</strong></td><td class="" id="PZJ&gt;" style="width:523px">ìƒ˜í”Œ ì„ íƒ ì—†ì´ input perplexityë§Œ ìµœì†Œí™”</td></tr><tr id="22b451cf-7b79-80e4-b87b-c06ec7a799eb"><td class="" id="NdW_">Â <strong>Ours</strong></td><td class="" id="PZJ&gt;" style="width:523px">full TLM = SEL + LoRA + perplexity minimization</td></tr></tbody></table> <figure class="image" id="22b451cf-7b79-80ab-9b48-c17d2424ec6a"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%206.webp" style="width:576px"/></picture></figure> <h3 class="" id="22b451cf-7b79-80fb-9c8c-e7d4bd2eaad7">Input Perplexity Minimization</h3> <p class="" id="22b451cf-7b79-8029-b8de-e1a8b28f738d">â†’ ì„±ëŠ¥ í–¥ìƒì˜ Â <strong>ì£¼ëœ ì›ì¸</strong></p> <p class="" id="22b451cf-7b79-80b8-808b-ca69ab929e32">â†’ SEL ì—†ì´ë„ 30~80% í–¥ìƒ</p> <h3 class="" id="22b451cf-7b79-8086-b230-e7af2025574a">Sample Efficient Learning (SEL)</h3> <p class="" id="22b451cf-7b79-8099-9864-e7f4dfc2e941">â†’ ì¶”ê°€ í–¥ìƒì€ ì ì§€ë§Œ,</p> <p class="" id="22b451cf-7b79-804c-a8d6-f4845c0e603d">â†’ Â <strong>ê³„ì‚°ëŸ‰ ì¤„ì´ë©´ì„œ ì„±ëŠ¥ ìœ ì§€</strong></p> <div class="column-list" id="22b451cf-7b79-809d-8569-f3df818b2e44"><div class="column" id="22b451cf-7b79-80bf-a45e-cf6cc6af559e" style="width:56.25%"><h3 class="" id="22b451cf-7b79-8023-af92-d6a7bb1cd8ff">Threshold P0 (perplexity margin)</h3><p class="" id="22b451cf-7b79-806e-901b-da0bf4f8adfa"> </p><figure class="image" id="22b451cf-7b79-80db-bf16-c2473e09b4fc"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%207.webp" style="width:373.484375px"/></picture></figure><p class="" id="22b451cf-7b79-8072-9c17-e88475d100ed">â†’ë‹¤ì–‘í•œ P0âˆˆ{e2,e3,...,e6} ì‹¤í—˜</p><p class="" id="22b451cf-7b79-80ce-8792-f6ec7579ecbd">â†’ P0=e3 ì¼ ë•Œ ê°€ì¥ ì•ˆì •ì ì´ê³  ì¢‹ì€ ì„±ëŠ¥</p><p class="" id="22b451cf-7b79-8063-8075-f0624658fb82"> </p></div><div class="column" id="22b451cf-7b79-80ae-b03b-eeb3f837d635" style="width:43.74999999999999%"><figure class="image" id="22b451cf-7b79-80d9-853b-ecad71c1ec0d"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%208.webp" style="width:709.9921875px"/></picture></figure></div></div> <p class="" id="22b451cf-7b79-8077-9eaa-c2b74ba1f05b"> </p> <hr id="22b451cf-7b79-8014-a1a4-c578275d97ef"/> <p class="" id="22b451cf-7b79-8065-8aad-eca5739e6a76"> </p> <h2 class="" id="22b451cf-7b79-8026-a58c-c72686281227">5.4 More Discussions</h2> <p class="" id="22b451cf-7b79-801d-8028-eeabc1ef7394"> </p> <figure class="image" id="22b451cf-7b79-806b-bef5-f038dc0278bf"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-07-14-ttl-llm/image%209.webp" style="width:624px"/></picture></figure> <h3 class="" id="22b451cf-7b79-80c0-b561-de8aac31ab2d">Online Test-Time Experiments</h3> <p class="" id="22b451cf-7b79-8063-bbb0-c3bfb4bddf82">test-timeì— Â <strong>ìƒ˜í”Œ í•˜ë‚˜ì”©</strong> ë“¤ì–´ì˜¤ëŠ” ìƒí™©ì—ì„œë„ TLMì´ ì˜ ì‘ë™í•˜ëŠ”ê°€?</p> <li style="list-style-type:disc">ì²˜ìŒì—ëŠ” high-perplexity ìƒ˜í”Œì´ ë§ì•„ì„œ ì—…ë°ì´íŠ¸ ë§ì´ í•˜ë‹¤ê°€</li> <li style="list-style-type:disc">ì ì  ëª¨ë¸ì´ ì ì‘í•˜ë©´ì„œ low-perplexity ìƒ˜í”Œì´ ëŠ˜ì–´ë‚¨ â†’ Â <strong>ìë™ìœ¼ë¡œ í•™ìŠµ ì¤‘ë‹¨ë¨</strong></li> <p class="" id="22b451cf-7b79-8056-8755-dd63887d439d"> </p> <h3 class="" id="22b451cf-7b79-80ae-b304-d83d4b3931ed">Experiments on Quantized LLM</h3> <p class="" id="22b451cf-7b79-8003-a5b1-c3b0ca13f8e3">TLMì€ quantized ëª¨ë¸ì—ì„œë„ ì„±ëŠ¥ í–¥ìƒ ìœ ì§€</p> <p class="" id="22b451cf-7b79-8014-a026-c3ee7936bbad">â†’ ë©”ëª¨ë¦¬ ì œí•œ í™˜ê²½ì—ì„œë„ ì‹¤ìš©ì </p> <p class="" id="22b451cf-7b79-8032-9711-d6eacef7c389"> </p> <p class="" id="22b451cf-7b79-80d0-bf9f-c8340887a299"> </p> <hr id="22b451cf-7b79-80b4-af8d-fddd20b9d7a9"/> <p class="" id="22b451cf-7b79-808f-a576-e94a6c1e04c1"> </p> <h2 class="" id="22b451cf-7b79-8024-8585-c06378b78970">Limitation</h2> <p class="" id="22b451cf-7b79-80cc-a7ad-e5cb7d214552">ë”°ë¡œ ì–¸ê¸‰ì€ ì—†ì§€ë§Œ êµ³ì´ ë½‘ìë©´,</p> <p class="" id="22b451cf-7b79-807d-aff7-e9be1eb8b9e3"> </p> <p class="" id="22b451cf-7b79-8061-ac6a-ec4fe2338fa2">1. Â <strong>No Backprop-Free Variant (ì‹¤ì œ inference í™˜ê²½ ì œí•œ)</strong></p> <p class="" id="22b451cf-7b79-801a-a70d-e70ab1b2476e">TLMì€ backpropì´ í•„ìš”í•¨ â†’ ëŒ€ë¶€ë¶„ì˜ ì‹¤ì œ LLM ë°°í¬ í™˜ê²½(API, closed-weight)ì—ì„œëŠ” ì ìš© ë¶ˆê°€</p> <p class="" id="22b451cf-7b79-8010-8c09-ea6f99cf8c7b">Future Work: Backprop-free TTL, e.g. prompt-based or derivative-free adaptation </p> <hr id="22b451cf-7b79-80ef-8610-eee13e4f5759"/> <p class="" id="230451cf-7b79-80bd-9469-cad5f1ab3af1">2. Â <strong>Limited Effect on Reasoning Tasks</strong></p> <p class="" id="22b451cf-7b79-801c-bf47-e819df3b61c2">GSM8K, MetaMath ë“± reasoning benchmarkì—ì„œ ì„±ëŠ¥ í–¥ìƒí­ì´ ì‘ìŒ</p> <p class="" id="22b451cf-7b79-8057-9db1-c26367f71d32">â†’ Perplexity minimizationì´ Â <strong>í‘œí˜„ ì ì‘ì—ëŠ” ê°•í•˜ì§€ë§Œ</strong>, ë…¼ë¦¬ì  ì¶”ë¡ ì—” ì•½í•¨</p> <p class="" id="22b451cf-7b79-8045-abde-c184a730af21">Future Work: TTL for logic and chain-of-thought reasoning</p> <hr id="22b451cf-7b79-8061-be94-f6a8d0aa5e3d"/> <p class="" id="230451cf-7b79-80ff-bd68-d2d1d133383a">3. Â <strong>Domain-Specific Overfitting / Forgetting Risk</strong></p> <p class="" id="22b451cf-7b79-80e1-8430-df635544aa78">LoRA ì‚¬ìš©í•´ë„, ì¥ê¸°ì ìœ¼ë¡œ íŠ¹ì • ë„ë©”ì¸ì— ë°˜ë³µ ì ì‘ ì‹œ ì›ë˜ ëŠ¥ë ¥(logic, general knowledge) ì €í•˜ ê°€ëŠ¥ì„± ì¡´ì¬</p> <p class="" id="22b451cf-7b79-802c-b267-e8113cf7ab42">Future Work: Continual TTL with forgetting mitigation</p> <hr id="22b451cf-7b79-801e-8900-f3cce05e1fa8"/> <p class="" id="230451cf-7b79-8011-830a-c80f01a8af6c">4. Â <strong>Hyperparameter Sensitivity (e.g., Pâ‚€ threshold)</strong></p> <p class="" id="22b451cf-7b79-802a-a474-c092c4db4445">ìƒ˜í”Œ ì„ íƒ ê¸°ì¤€(Pâ‚€ = eÂ³)ì´ë‚˜ Î» ê°’ì— ë¯¼ê°</p> <p class="" id="230451cf-7b79-8077-aaf6-fae5bd1418d7">ë„ë©”ì¸/ëª¨ë¸ì— ë”°ë¼ íŠœë‹ í•„ìš” â†’ ì‹¤ìš©í™”ì— ë°©í•´ë  ìˆ˜ ìˆìŒ</p> <p class="" id="22b451cf-7b79-80c1-b26a-c51bbb57ab09">Future Work: Auto-tuning or adaptive sampling strategies</p> <hr id="22b451cf-7b79-8085-9049-e5f8611f5805"/> <p class="" id="230451cf-7b79-8037-addd-fbbff997106a">5. Â <strong>Session-Aware / Multi-Turn TTL ë¯¸ì§€ì›</strong></p> <p class="" id="22b451cf-7b79-806f-b626-fa65321375a9">í˜„ì¬ëŠ” ì…ë ¥ ë‹¨ìœ„ë¡œë§Œ TTL ì‘ë™. ëŒ€í™”í˜• ì‹œìŠ¤í…œì²˜ëŸ¼ Â <strong>contextê°€ ëˆ„ì ë˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì ìš©ë˜ì§€ ì•ŠìŒ</strong></p> <p class="" id="22b451cf-7b79-80dc-8bb6-fdaeb04f56d0">Future Work: Session-level TTL for conversational agents</p> <p class="" id="230451cf-7b79-80f4-90b0-fc7273a41ff8"> </p> <p class="" id="230451cf-7b79-8002-8927-c3435e22ea58"> </p> <p class="" id="230451cf-7b79-8049-a185-ef40d63c6b8c"> </p> <hr id="22b451cf-7b79-809e-a702-ea435479b5be"/> <p class="" id="230451cf-7b79-801a-9064-dc7c30596476"> </p> <h2 class="" id="230451cf-7b79-80f1-bade-d457742be4e9">Q&amp;A</h2> <p class="" id="22b451cf-7b79-8006-93bf-d8f97157577e"> </p> <p class="" id="22b451cf-7b79-80bb-8ace-c2b9af40ab26">Q. LLMì—ì„œ Test-Time í•™ìŠµ ìµœì´ˆì¸ê°€?</p> <p class="" id="22b451cf-7b79-8038-b5d1-fcb3a2c24df3"> </p> <p class="" id="22b451cf-7b79-8017-9a07-f4114b25afe3">ë‹¤ìŒê³¼ ê°™ì€ ë…¼ë¬¸ë“¤ì€ ìˆì—ˆìŒ.</p> <p class="" id="22b451cf-7b79-80d2-bf20-e18ba785dfd6"><a href="https://arxiv.org/abs/2410.08020">https://arxiv.org/abs/2410.08020</a></p> <p class="" id="22b451cf-7b79-8019-b73d-e36ccebfc17b">LLMì„ í…ŒìŠ¤íŠ¸ ì‹œì ì— promptâ€‘specific fineâ€‘tuning í•˜ëŠ” ë°©ë²•ì„ ì œì•ˆí–ˆê³ ,</p> <p class="" id="22b451cf-7b79-8029-be9d-c9a9010a2429">ì‹¤í—˜ì„ í†µí•´ testâ€‘timeì—ë„ LLMì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ë³´ì—¬ì¤Œ</p> <p class="" id="22b451cf-7b79-8099-ae26-ea066315f9b4">ë‹¤ë§Œ, ì†ë„ê°€ ëŠë¦¬ê³  ê³„ì‚° ë¹„ìš©ì´ í¬ë‹¤ëŠ” ë‹¨ì </p> <p class="" id="22b451cf-7b79-80b0-867a-eab05a0f2907">â†’ ê°€ëŠ¥ì€ í–ˆì§€ë§Œ ì‹¤ìš©ì—ì„œ ë©€ì—ˆìŒ</p> <p class="" id="22b451cf-7b79-8000-ac31-d0b200a731de"> </p> <p class="" id="22b451cf-7b79-80b9-882a-d2fdc8380ad3">Â <strong>Prompt tuning ë¹¼ë©´ TLMì´ LLMì—ì„œ Test-Time í•™ìŠµì„ ìµœì´ˆë¡œ ì‹¤ìš©í™”í•œ ë…¼ë¬¸</strong></p> <p class="" id="22b451cf-7b79-8003-bdf3-c7d201fe01ab">ìœ„ Table 5 ë¥¼ ë³´ë©´ ì´ë¯¸ Tentë‚˜ EATAë„ í•œê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì˜¤íˆë ¤ ê¸°ì¡´ LLMì„ íŒŒê´´í•œ ì„±ëŠ¥ì´ ë‚˜ì˜´.</p> <p class="" id="230451cf-7b79-80c5-99c3-d03b60476406"> </p> <hr id="230451cf-7b79-804e-9e16-e8fe0becd8cb"/> <p class="" id="230451cf-7b79-80a7-a779-ccbb58d50e54"> </p> <p class="" id="230451cf-7b79-8098-81b2-c60f771eab4f"> </p> <p class="" id="230451cf-7b79-80da-a175-f7047a6a9596">Q. Output ë‚´ê¸° ì „ì— í•™ìŠµí•˜ëŠ” ê²ƒì¸ê°€?</p> <p class="" id="230451cf-7b79-809b-8d00-d606399e66eb">P(y|x)ì„ ê¸°ì¤€ìœ¼ë¡œ í•™ìŠµ ëª»í•œë‹¤ê³  í–ˆëŠ”ë°, ì™œ? ì–´ì°¨í”¼ outputì€ ë‚˜ì˜¤ëŠ”ê±° ì•„ë‹Œê°€?</p> <p class="" id="230451cf-7b79-8073-8e65-ec54ae8191d1"> </p> <h3 class="" id="230451cf-7b79-805a-ba5f-e3659752912e">ì™œ yë¥¼ ì•ˆì“°ëŠ”ê°€?</h3> <p class="" id="230451cf-7b79-801b-8108-d24201269250">ëª¨ë¸ì´ ìƒì„±í•œ yÌ‚ëŠ” Â <strong>ì •ë‹µì´ ì•„ë‹˜</strong> â†’ ground truth ì—†ìŒ</p> <p class="" id="230451cf-7b79-805f-a491-f1e51ecd48c4"><code>P(Å· | x)</code>ë¥¼ ì¤„ì´ë©´ Â <strong>ì˜ëª»ëœ ì¶œë ¥ì„ ë” í™•ì‹ í•˜ê²Œ ë§Œë“œëŠ” ê²°ê³¼</strong>ê°€ ë  ìˆ˜ ìˆìŒ</p> <p class="" id="230451cf-7b79-80f6-b176-e5f66e58d963"> </p> <p class="" id="230451cf-7b79-80fd-9c1f-dd45cc1ed5a1">Â <strong>ì˜ˆì‹œ</strong></p> <li style="list-style-type:disc">â€œì‚¬ê³¼ëŠ” ë¹¨ê°›ë‹¤â€ê°€ ì •ë‹µì¸ë°</li> <li style="list-style-type:disc">ëª¨ë¸ì´ â€œì‚¬ê³¼ëŠ” ë°”ë‚˜ë‚˜ë‹¤â€ë¼ê³  ì¶œë ¥í–ˆì„ ê²½ìš°</li> <li style="list-style-type:disc">ì´ê±¸ ê¸°ì¤€ìœ¼ë¡œ lossë¥¼ ì¤„ì´ë©´ ì˜¤íˆë ¤ Â <strong>í‹€ë¦° ì¶œë ¥ì— ë” í™•ì‹ ì„ ì£¼ê²Œ ë¨</strong></li> <p class="" id="230451cf-7b79-8094-8080-dc17938a73a4"> </p> <h3 class="" id="230451cf-7b79-805d-888c-c4b7e857d057">ìˆœì„œ</h3> <ol class="numbered-list" id="230451cf-7b79-8071-8b2d-f9acc0fb3404" start="1" type="1"><li>ì…ë ¥ <code>x</code> ë“¤ì–´ì˜´</li></ol> <ol class="numbered-list" id="230451cf-7b79-8049-baf8-f6fe476ec6e9" start="2" type="1"><li>ëª¨ë¸ì´ í˜„ì¬ íŒŒë¼ë¯¸í„°(Î¸ + Î”Î¸)ë¡œ ì¶œë ¥ <code>Å·</code> ìƒì„±</li></ol> <ol class="numbered-list" id="230451cf-7b79-80e6-8bcf-d566bb9946e5" start="3" type="1"><li><code>x</code>ì— ëŒ€í•œ perplexity ê³„ì‚°</li></ol> <ol class="numbered-list" id="230451cf-7b79-807f-9ac5-e296656e5cd1" start="4" type="1"><li><code>P(x)</code>ê°€ ê¸°ì¤€ë³´ë‹¤ í¬ë©´ â†’ backpropìœ¼ë¡œ LoRA íŒŒë¼ë¯¸í„° ì—…ë°ì´íŠ¸</li></ol> <ol class="numbered-list" id="230451cf-7b79-8067-8f0d-d00b0eb46fae" start="5" type="1"><li>â†’ ì´ ì—…ë°ì´íŠ¸ëŠ” ë‹¤ìŒ ì…ë ¥ë¶€í„° ë°˜ì˜ë¨</li></ol> <p class="" id="230451cf-7b79-80fb-949c-e5d30286f50a"> </p> <h3 class="" id="230451cf-7b79-807d-9797-c6d03aa4c71f">ì •ë¦¬</h3> <blockquote class="" id="230451cf-7b79-80c6-a7f1-e44b27506cf6">Although the true target y is unavailable at test time, we show that minimizing P(x) leads to update directions that are often aligned with those from minimizing P(y|x).</blockquote> <p class="" id="230451cf-7b79-80d3-aacb-cdfe780593cc">Test-timeì— label <code>y</code>ê°€ ì—†ì–´ì„œ ê·¸ ìƒ˜í”Œì˜ ì„±ëŠ¥ì„ ì§ì ‘ í‰ê°€í•  ìˆ˜ ì—†ìŒ</p> <p class="" id="230451cf-7b79-8055-9b38-f57ddc2d5922">â†’ ëŒ€ì‹ , ê·¸ ìƒ˜í”Œì„ ê¸°ë°˜ìœ¼ë¡œ ì „ì²´ íŒŒë¼ë¯¸í„°ë¥¼ ì—…ë°ì´íŠ¸í•´ì„œ ë¯¸ë˜ì˜ ì˜ˆì¸¡ë ¥ì„ ë†’ì„</p> <p class="" id="230451cf-7b79-801a-8e52-da346235fef3">â†’ TLMì€ Â <strong><span style="border-bottom:0.05em solid">online self-supervised continual learning</span></strong>ì— ê°€ê¹Œì›€</p> <p class="" id="230451cf-7b79-80a3-85b2-f46450230e1f"> </p> <p><span class="sans" style="font-size:14px;padding-top:2em"></span></p>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2505.20633AuthorsJinwu Hu, Zhitian Zhang, Guohao Chen, Xutao Wen, Chao Shuai, Wei Luo, Bin Xiao, Yuanqing Li, Mingkui TanAffiliationSchool of Software Engineering, South China University of TechnologyPazhou LaboratoryZhejiang UniversitySouth China Agricultural UniversityChongqing University of Posts and TelecommunicationsKey Laboratory of Big Data and Intelligent Robot, Ministry of Education ğŸ’¡Â Key DifferentiatorPerplexity Minimizationê¸°ì¡´ TTA (ex. Tent, EATA, COME)ëŠ” ì „ë¶€ Â entropy minimization ê¸°ë°˜â†’ ì¶œë ¥ ë¶„í¬ì˜ ë¶ˆí™•ì‹¤ì„±ì„ ë‚®ì¶”ëŠ” ë°©í–¥í•˜ì§€ë§Œ ì´ ë…¼ë¬¸ì€ Â LLMì˜ autoregressive êµ¬ì¡°ë¥¼ ê³ ë ¤í•´â†’ ì¶œë ¥ entropyê°€ ì•„ë‹ˆë¼ Â ì…ë ¥ perplexityë¥¼ ìµœì†Œí™”í•˜ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ objectiveë¥¼ ì œì•ˆ]]></summary></entry><entry><title type="html">SANA: Efficient High-Resolution Image Synthesis with Linear Diffusion Transformers</title><link href="https://hoonably.github.io/blog/sana/" rel="alternate" type="text/html" title="SANA: Efficient High-Resolution Image Synthesis with Linear Diffusion Transformers"/><published>2025-05-11T16:27:31+00:00</published><updated>2025-05-11T16:27:31+00:00</updated><id>https://hoonably.github.io/blog/sana</id><content type="html" xml:base="https://hoonably.github.io/blog/sana/"><![CDATA[<table class="simple-table" id="1b2451cf-7b79-80ff-ab8a-f57c4f2f327b"><tbody><tr id="1b2451cf-7b79-8083-bf78-d343f537ecac"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">ArXiv</th><td class="" id="L|H:" style="width:580.5px"><a href="https://arxiv.org/abs/2410.10629">https://arxiv.org/abs/2410.10629</a></td></tr><tr id="1b2451cf-7b79-801e-935d-e0aa93b0292b"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Project Page</th><td class="" id="L|H:" style="width:580.5px"><a href="https://nvlabs.github.io/Sana/">https://nvlabs.github.io/Sana/</a></td></tr><tr id="1b2451cf-7b79-806b-b5fa-da2d3db4b742"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Github Code</th><td class="" id="L|H:" style="width:580.5px"><a href="https://github.com/NVlabs/Sana">https://github.com/NVlabs/Sana</a></td></tr><tr id="241451cf-7b79-80ac-bce8-cde88241b838"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Affiliation</th><td class="" id="L|H:" style="width:580.5px">NVIDIA, MIT, Tsinghua University</td></tr></tbody></table> <figure class="block-color-teal_background callout" id="1f1451cf-7b79-80e5-8185-cf1698a2fcae" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">Â <strong>Key Differentiator</strong><ol class="numbered-list" id="1f1451cf-7b79-80d3-b805-edbbf636523d" start="1" type="1"><li>Efficient Linear DiT designReLU ê¸°ë°˜ Linear Attention ë„ì…<br/>Mix-FFN Block</li></ol><ol class="numbered-list" id="1f1451cf-7b79-8027-8574-dea4713ff7e4" start="2" type="1"><li>Deep Compression Autoencoderâ†’ ì´ë¡œ ì¸í•œ 32ë°° ì••ì¶• ê°€ëŠ¥ìœ¼ë¡œ ì—°ì‚°ë„ ë¹¨ë¼ì§</li></ol></div></figure> <div style="position:relative; width:100%; aspect-ratio:1214/749;"> <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSchgVe1F-ZKrhsJjU02Qbi2OgYJ6RKG32hiOIqRqZc_8DrsN6oKpF197yr02_Zlw/pubembed?start=false&amp;loop=false&amp;delayms=3000" style="position:absolute; top:0; left:0; width:100%; height:100%;" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"> </iframe> </div> <p class="" id="230451cf-7b79-80e5-a367-fa118f4679a6"> </p> <figure class="image" id="1c0451cf-7b79-8009-b100-e7fde0ee7305"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image.webp" style="width:336px"/></picture></figure> <p class="" id="1e1451cf-7b79-8065-ba44-fffe93414c27"> </p> <p class="" id="1e1451cf-7b79-8017-b604-d5ac7746ae95">ì´ë²ˆì—ëŠ” SVDQuantì˜ ì €ìì¸ Song Hanì´ ë˜ ì¼ì„ ëƒˆë‹¤.</p> <p class="" id="1e1451cf-7b79-80cd-8a35-c29149cbc47a">SANA ë¼ëŠ” Diffusion ëª¨ë¸ì„ NVIDIAì—ì„œ ì œì‘í–ˆëŠ”ë°, ì—­ëŒ€ê¸‰ì´ë‹¤.</p> <p class="" id="1e1451cf-7b79-80d2-9a60-efd89be7917b">ë‚´ê°€ í•˜ë ¤ë˜ On-device 4K Diffusion ì—°êµ¬ì—ë„ í¬ê²Œ ë„ì›€ë  ê²ƒ ê°™ì•„ì„œ ì½ì–´ë³´ì•˜ë‹¤.</p> <p class="" id="1e1451cf-7b79-8068-a57d-cdded33b9d3f"> </p> <p class="" id="1e1451cf-7b79-809c-8b6e-e89ac9a566b4"> </p> <h1 class="" id="1b9451cf-7b79-80c6-9476-ccc63742e7c3">1. Introduction</h1> <p class="" id="1b9451cf-7b79-80b6-bbc6-f714e85ebac1">ì§€ë‚œ 1ë…„ë™ì•ˆ Diffusion ëª¨ë¸ì€ text-to-image ì—°êµ¬ì—ì„œ ìƒë‹¹í•œ ì§„ì „ì„ ë³´ì„.</p> <p class="" id="1b9451cf-7b79-800c-801e-cf59e063ce7f">í•˜ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì´ ìƒì—… ëª¨ë¸ì€ íŒŒë¼ë¯¸í„°ê°€ ë§¤ìš° ì»¤ì§ â†’ ë†’ì€ í•™ìŠµ ë° ì¶”ë¡  ë¹„ìš©ì„ ì´ˆë˜í•˜ì—¬ ë¹„ìš©ì´ ë§ì´ ë“¤ìŒ.</p> <blockquote class="" id="1b9451cf-7b79-80c6-9a00-d8a6af96f4da">Industry models are becoming increasingly large, with parameter counts escalating from PixArtâ€™s 0.6B parameters to SD3 at 8B, LiDiT at 10B, Flux at 12B, and Playground v3 at 24B.</blockquote> <p class="" id="1b9451cf-7b79-80c2-919a-f454fca1b6e7"> cloud ë¿ë§Œ ì•„ë‹ˆë¼ edge devicesì—ì„œë„ ë¹ ë¥´ê²Œ ì‹¤í–‰ë˜ëŠ” ê³ í•´ìƒë„ image generatorë¥¼ ê°œë°œí•  ìˆ˜ ì—†ì„ê¹Œ?</p> <p class="" id="1b9451cf-7b79-8074-ac62-cf738cb861d3"> </p> <figure class="image" id="1b9451cf-7b79-8055-beb8-cf3ac6c01b58"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%201.webp" style="width:709.9921875px"/></picture></figure> <p class="" id="1b9451cf-7b79-802d-8047-f54d18790de3">ì´ ë…¼ë¬¸ì€ 1024 Ã— 1024 ~ 4096 Ã— 4096 ë²”ìœ„ì˜ í•´ìƒë„ì—ì„œ ì´ë¯¸ì§€ë¥¼ íš¨ìœ¨ì ì´ê³  ë¹„ìš© íš¨ìœ¨ì ìœ¼ë¡œ í›ˆë ¨í•˜ê³  í•©ì„±í•˜ë„ë¡ ì„¤ê³„ëœ íŒŒì´í”„ ë¼ì¸ ì¸ SANAë¥¼ ì œì•ˆ</p> <p class="block-color-orange_background" id="1b9451cf-7b79-8003-909f-fd18695a1fc9">Pixart-Ïƒ (Chen et al., 2024a)ë¥¼ ì œì™¸í•˜ê³ ëŠ” 4K í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„±ì„ ì§ì ‘ íƒìƒ‰í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Pixart-ÏƒëŠ” 4K í•´ìƒë„ì— ê°€ê¹Œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ì œí•œë˜ë©° (3840 Ã— 2160) ì´ëŸ¬í•œ ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ìƒì„± í•  ë•Œ ë¹„êµì  ëŠë¦½ë‹ˆë‹¤. ì´ ì•¼ì‹¬ ì°¬ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ í•µì‹¬ ë””ìì¸ì„ ì œì•ˆí•©ë‹ˆë‹¤.</p> <p class="" id="1b9451cf-7b79-80bc-adeb-e4e3551f01c6"> </p> <h1 class="" id="1b9451cf-7b79-8047-8f49-d17177f41bab">2. METHODS</h1> <h2 class="" id="1bb451cf-7b79-8048-82a5-e0315876b9de">2.1 DEEP COMPRESSION AUTOENCODER</h2> <h3 class="" id="1bb451cf-7b79-80cb-ad09-f5479498ed54">2.1.1 PRELIMINARY</h3> <p class="" id="1bb451cf-7b79-804a-ac0a-eebc5d2259cb">ì›ë˜ diffusion ëª¨ë¸ì€ ì´ë¯¸ì§€ í”½ì…€ ê³µê°„ (pixel space) ìœ„ì—ì„œ ì§ì ‘ ì‘ë™ â†’ í›ˆë ¨, ì¶”ë¡  ë‘˜ë‹¤ ë„ˆë¬´ ëŠë¦¬ê³  ë¬´ê±°ì›€</p> <p class="" id="1e1451cf-7b79-80ad-aac2-cd93e0a517c4"> </p> <p class="" id="1e1451cf-7b79-8038-9550-f5738fafe434">Â <strong>Latent Diffusion Models</strong></p> <p class="" id="1e1451cf-7b79-8093-bf1a-f9ff909ebe01">Autoencoderë¡œ ì´ë¯¸ì§€ ì••ì¶• í›„ ì••ì¶•ëœ latent ê³µê°„ ìœ„ì—ì„œ diffusionì„ ëŒë¦¬ì!</p> <p class="" id="1e1451cf-7b79-80cb-9425-d0d88bebca42">â†’ 8ë°° ì••ì¶• ì‚¬ìš©</p> <li style="list-style-type:disc">Pixel space: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mrow><mi>H</mi><mo>Ã—</mo><mi>W</mi><mo>Ã—</mo><mn>3</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^{H \times W \times 3}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li> <li style="list-style-type:disc">Latent space: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mrow><mfrac><mi>H</mi><mn>8</mn></mfrac><mo>Ã—</mo><mfrac><mi>W</mi><mn>8</mn></mfrac><mo>Ã—</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^{\frac{H}{8} \times \frac{W}{8} \times C}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.9735em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9735em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8721em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">Ã—</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8721em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span><br/>ì—¬ê¸°ì„œ <br/><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span><span>ï»¿</span></span>ëŠ” latent ì±„ë„ ìˆ˜</li> <p class="" id="1e1451cf-7b79-8025-89a9-f25430858d86"> </p> <p class="" id="1e1451cf-7b79-80ff-9148-cfcd4f64f67e">Â <strong>Diffusion Transformer (DiT)</strong></p> <p class="" id="1e1451cf-7b79-80f1-9e7d-d4ab130b2381">ì¶”ê°€ë¡œ latent featureë¥¼ Patch ë‹¨ìœ„ë¡œ ë˜ ë‚˜ëˆ ì„œ ì²˜ë¦¬</p> <p class="" id="1b9451cf-7b79-8098-9193-e586022348f2">íŒ¨ì¹˜í¬ê¸°ê°€ PxP ë¼ë©´ ìµœì¢…ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” í† í° ê°œìˆ˜ëŠ” </p> <figure class="equation" id="230451cf-7b79-80d0-8c41-d7c0591f8341"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>H</mi><mrow><mi>P</mi><mi>F</mi></mrow></mfrac><mo>Ã—</mo><mfrac><mi>W</mi><mrow><mi>P</mi><mi>F</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{H}{PF} \times \frac{W}{PF}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">PF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">PF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></figure> <p class="" id="1e1451cf-7b79-80c0-8075-cc5ee94161f7">ê¸°ì¡´ latent diffusion ëª¨ë¸ë“¤(PixArt, SD3, Flux ë“±)ì€ ë³´í†µ ë‹¤ìŒ ì„¸íŒ…ì„ ì”€</p> <li style="list-style-type:disc">Â <strong>AE-F8C4P2</strong> ë˜ëŠ” Â <strong>AE-F8C16P2</strong><li style="list-style-type:circle">Â <strong>F8</strong>: Autoencoderê°€ 8ë°° ì••ì¶•</li><li style="list-style-type:circle">Â <strong>C4</strong> ë˜ëŠ” Â <strong>C16</strong>: latent ì±„ë„ ìˆ˜ (4ê°œë‚˜ 16ê°œ)</li><li style="list-style-type:circle">Â <strong>P2</strong>: Patch í¬ê¸° 2Ã—2ë¡œ ë¬¶ê¸°</li></li> <p class="" id="1b9451cf-7b79-8061-b473-ca4c6cebf9ec"> </p> <p class="" id="1e1451cf-7b79-80c9-8b47-c9263e77a942">ê¸°ì¡´ì²˜ëŸ¼ 8ë°° ì••ì¶•ë§Œ í•˜ë©´ ê³„ì‚°ëŸ‰ì´ ì—¬ì „íˆ ë„ˆë¬´ ë§ìŒ</p> <p class="" id="1e1451cf-7b79-80fb-ba54-e86186ec4dea">ê·¸ë˜ì„œ SANAëŠ” ê³¼ê°í•˜ê²Œ Â <strong>32ë°° ì••ì¶•(AE-F32)</strong>í•˜ê³ , íŒ¨ì¹˜ë¡œëŠ” ë¬¶ì§€ ì•ŠìŒ.</p> <p class="" id="1e1451cf-7b79-80f8-a5b4-ccb66a1d1e24"> </p> <h3 class="" id="1e1451cf-7b79-8085-acf1-c48b62023c68">2.1.2 AUTOENCODER DESIGN PHILOSOPHY</h3> <table class="simple-table" id="1e1451cf-7b79-80c4-bc4e-e1bc262ed3ab"><tbody><tr id="1e1451cf-7b79-80e3-83ee-dffd0bf9e6d2"><td class="" id="`J=h" style="width:230px">êµ¬ë¶„</td><td class="" id="`bRS" style="width:230px">ê¸°ì¡´ (PixArt, Flux)</td><td class="" id="Ir}k" style="width:230px">SANA</td></tr><tr id="1e1451cf-7b79-80e2-a661-de1049a8f47a"><td class="" id="`J=h" style="width:230px">AE ì••ì¶•ë¹„</td><td class="" id="`bRS" style="width:230px">8ë°° (F=8)</td><td class="" id="Ir}k" style="width:230px">32ë°° (F=32)</td></tr><tr id="1e1451cf-7b79-80f2-92b8-ee193e976609"><td class="" id="`J=h" style="width:230px">Patchify (P=2)</td><td class="" id="`bRS" style="width:230px">O (íŒ¨ì¹˜ë¡œ ë¬¶ìŒ)</td><td class="" id="Ir}k" style="width:230px">âœ–ï¸ (íŒ¨ì¹˜ ì•ˆ ë¬¶ìŒ)</td></tr><tr id="1e1451cf-7b79-8049-9e56-e39dfbc57552"><td class="" id="`J=h" style="width:230px">ìµœì¢… Token ìˆ˜</td><td class="" id="`bRS" style="width:230px">ì¤„ì˜€ì§€ë§Œ ì•„ì§ ë§ìŒ</td><td class="" id="Ir}k" style="width:230px">í›¨ì”¬ ì ìŒ (16ë°° ê°ì†Œ)</td></tr></tbody></table> <figure class="image" id="1e1451cf-7b79-8045-a540-cda5274fd13c"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%202.webp" style="width:432px"/></picture></figure> <p class="" id="1e1451cf-7b79-80b0-ad98-dffcd03267c4">ìœ„ì˜ í‘œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ 32ë°° ì••ì¶•í•˜ë”ë¼ë„ ì ìˆ˜ê°€ í¬ê²Œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ëª¨ìŠµì„ ë³´ì„</p> <p class="" id="1e1451cf-7b79-8081-b043-db7b043be64a"> </p> <h3 class="" id="1e1451cf-7b79-8092-8255-d8e0b073f06d">2.1.3 ABLATION OF AUTOENCODER DESIGNS</h3> <li style="list-style-type:disc">Â <strong>ì–´ë””ì„œ ì••ì¶•ì„ ë” í•˜ëŠ” ê²Œ ì¢‹ì€ê°€? (AE vs DiT)</strong></li> <div class="column-list" id="1e1451cf-7b79-80cd-8673-ca56ffeba583"><div class="column" id="1e1451cf-7b79-8040-9327-e9af8f5fa806" style="width:50%"><figure class="image" id="1e1451cf-7b79-8013-9275-e07b37b17ec6"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%203.webp" style="width:384px"/></picture></figure></div><div class="column" id="1e1451cf-7b79-800b-a3e1-d9b700437cab" style="width:50%"><table class="simple-table" id="1e1451cf-7b79-8065-800d-c5144119a97c"><tbody><tr id="1e1451cf-7b79-801c-9ad0-ca35952be937"><td class="" id="G`wd" style="width:125px">ì„¤ì •</td><td class="" id="GEiu" style="width:252px">ì„¤ëª…</td></tr><tr id="1e1451cf-7b79-806f-bf4c-ce61d69ce563"><td class="" id="G`wd" style="width:125px">AE-F8C16P4</td><td class="" id="GEiu" style="width:252px">8ë°° ì••ì¶• + íŒ¨ì¹˜ í¬ê¸° 4</td></tr><tr id="1e1451cf-7b79-8076-9db3-e52d727bc6c6"><td class="" id="G`wd" style="width:125px">AE-F16C32P2</td><td class="" id="GEiu" style="width:252px">16ë°° ì••ì¶• + íŒ¨ì¹˜ í¬ê¸° 2</td></tr><tr id="1e1451cf-7b79-80c5-af81-e6bf4a0e97af"><td class="" id="G`wd" style="width:125px">AE-F32C32P1</td><td class="" id="GEiu" style="width:252px">32ë°° ì••ì¶• + íŒ¨ì¹˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (SANA)</td></tr></tbody></table></div></div> <p class="" id="1e1451cf-7b79-804d-883e-cbead4e38a14">AE-F32C32P1 ì„¤ì •ì´ ê°€ì¥ ë›°ì–´ë‚œ ì„±ëŠ¥(FID, CLIP Score)ì„ ê¸°ë¡</p> <p class="" id="1e1451cf-7b79-8076-a4e1-dd378d999616">Autoencoderê°€ ì••ì¶•ì„ ì „ì ìœ¼ë¡œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ë° í›ˆë ¨ ì•ˆì •ì„± ëª¨ë‘ì—ì„œ ê°€ì¥ ìš°ìˆ˜</p> <p class="" id="1e1451cf-7b79-80c1-8a75-c172c62ee7c6"> </p> <li style="list-style-type:disc">Â <strong>Autoencoder latent ì±„ë„ ìˆ˜ë¥¼ ëª‡ ê°œë¡œ í•˜ëŠ” ê²Œ ì¢‹ì€ê°€?</strong></li> <div class="column-list" id="1e1451cf-7b79-808a-ba25-e8ce8eb7085a"><div class="column" id="1e1451cf-7b79-800a-85f2-e521ccbcff47" style="width:50%"><figure class="image" id="1e1451cf-7b79-80c7-a890-ddb81f6586fc"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%204.webp" style="width:709.9921875px"/></picture></figure></div><div class="column" id="1e1451cf-7b79-80eb-837c-c09fe3a2a8c6" style="width:50%"><li style="list-style-type:disc">C=16, C=32, C=64 ì‹¤í—˜ ìˆ˜í–‰</li><li style="list-style-type:disc">C=16ì€ ì •ë³´ ì†ì‹¤ë¡œ ì¸í•´ í’ˆì§ˆ ì €í•˜ ë°œìƒ</li><li style="list-style-type:disc">C=64ëŠ” ë³µì› í’ˆì§ˆì€ ì¢‹ì•˜ìœ¼ë‚˜ ëª¨ë¸ ë³µì¡ë„ê°€ ê¸‰ê²©íˆ ì¦ê°€í•˜ì—¬ ë¹„íš¨ìœ¨ì ì„</li><li style="list-style-type:disc">C=32ê°€ ì„±ëŠ¥ê³¼ íš¨ìœ¨ ì‚¬ì´ì—ì„œ ìµœì  ê· í˜•ì„ ë‹¬ì„±í•¨</li><p class="" id="1e1451cf-7b79-80cf-92a7-eae55efd12c9"> </p></div></div> <p class="" id="1e1451cf-7b79-8077-8e8b-da06c8fd118a"> </p> <h2 class="" id="1e1451cf-7b79-8005-9906-fe8ee9f67931">2.2 EFFICIENT LINEAR DIT DESIGN</h2> <li style="list-style-type:disc">ê¸°ì¡´ diffusion transformer(ì˜ˆ: DiT) êµ¬ì¡°ëŠ” Â <strong>Self-Attention</strong>ì„ ì‚¬ìš©í•¨.</li> <li style="list-style-type:disc">Self-Attentionì˜ ì—°ì‚°ëŸ‰ì€ Â <strong>O(NÂ²)</strong> ì— ë¹„ë¡€í•¨.<li style="list-style-type:circle">NNNì€ ì…ë ¥ í† í° ìˆ˜</li><li style="list-style-type:circle">í† í° ìˆ˜ê°€ ë§ì•„ì§€ë©´ ì—°ì‚°ëŸ‰ì´ ê¸‰ê²©íˆ ì»¤ì§</li></li> <li style="list-style-type:disc">4K í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ë ¤ë©´, latent token ìˆ˜ê°€ ë§ì•„ì§ˆ ìˆ˜ë°–ì— ì—†ìŒ.</li> <p class="" id="1e1451cf-7b79-80bb-9674-ec05fe71520b">â†’ ì´ë•Œ, ê¸°ì¡´ ì—°êµ¬ë“¤ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•´ìƒë„ ë‚®ì¶”ê±°ë‚˜ Token ìˆ˜ë¥¼ ì¤„ì˜€ìŒ.</p> <p class="" id="1e1451cf-7b79-806c-a8f4-da4c638adbc7"> </p> <p class="" id="1e1451cf-7b79-808e-aed5-dee3bacf859a"> </p> <h3 class="" id="1e1451cf-7b79-8005-bbf9-ca3630372b5f">ReLU ê¸°ë°˜ Linear Attention ë„ì…</h3> <p class="" id="1e1451cf-7b79-80a5-bd1f-fe258c3e21d3">ê¸°ì¡´ Softmax ê¸°ë°˜ Attentionì„ ì œê±°í•˜ê³ , Â <strong>ReLUë¥¼ ì´ìš©í•œ Linear Attention</strong>ì„ ì±„íƒ</p> <figure class="equation" id="230451cf-7b79-8016-b5cb-d5462c27e05d"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">A</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi></mrow><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">x</mi></mrow><mo stretchy="false">(</mo><mi>Q</mi><msup><mi>K</mi><mi mathvariant="normal">âŠ¤</mi></msup><mo stretchy="false">)</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">\mathrm{Attention}(Q, K, V) = \mathrm{softmax}(QK^\top) V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">Attention</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1491em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">softmax</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span></div></figure> <p class="" id="1e1451cf-7b79-804e-b8d2-cd2ce2a7b811">SoftmaxëŠ” ëª¨ë“  Query-Token ì¡°í•©ì„ ë‹¤ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì— O(NÂ²) ë³µì¡ë„ê°€ ë°œìƒ</p> <p class="" id="1e1451cf-7b79-80ef-a096-fe7b18a64df7"> </p> <div class="column-list" id="1e1451cf-7b79-8037-ab88-f625c0cce9d4"><div class="column" id="1e1451cf-7b79-8087-91f2-eda7b8ba45ee" style="width:31.25%"><figure class="image" id="1e1451cf-7b79-809b-b6ba-d5b13e8c53f3"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%205.webp" style="width:331.9921875px"/></picture></figure></div><div class="column" id="1e1451cf-7b79-80c8-a5f7-e54f713aa754" style="width:68.75%"><li style="list-style-type:disc">SANAì—ì„œëŠ” ë‹¤ìŒì²˜ëŸ¼ ê³„ì‚° êµ¬ì¡°ë¥¼ ë³€ê²½:<ol class="numbered-list" id="1e1451cf-7b79-8075-939d-fdd44b7c9e75" start="1" type="1"><li>ê° Keyì— ReLUë¥¼ ì ìš©í•¨: Â <strong>ReLU(K)</strong></li></ol><ol class="numbered-list" id="1e1451cf-7b79-8090-8371-e394e722bbc9" start="2" type="1"><li>ë‘ ê°€ì§€ ê³µìœ  termì„ ë¯¸ë¦¬ ê³„ì‚°<li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">L</mi><mi mathvariant="normal">U</mi></mrow><mo stretchy="false">(</mo><msub><mi>K</mi><mi>j</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup><msub><mi>V</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^N \mathrm{ReLU}(K_j)^T V_j</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.417em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">ReLU</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (dxd matrix)</li><li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">L</mi><mi mathvariant="normal">U</mi></mrow><mo stretchy="false">(</mo><msub><mi>K</mi><mi>j</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\sum_{j=1}^N \mathrm{ReLU}(K_j)^T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.417em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">ReLU</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (dÃ—1 vector)</li></li></ol><ol class="numbered-list" id="1e1451cf-7b79-808e-b95f-c187fb75f285" start="3" type="1"><li>ì´í›„, ê° Queryì— ëŒ€í•´ ì´ pre-computed shared termì„ ì¬ì‚¬ìš©í•˜ì—¬ Attentionì„ ê³„ì‚°</li></ol></li><li style="list-style-type:disc">ì´ ë°©ì‹ì€ Queryë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ ì—°ì‚°í•  í•„ìš”ê°€ ì—†ì–´ì„œ, ì „ì²´ Attention ê³„ì‚°ì´ Â <strong>O(N)</strong> ìœ¼ë¡œ ì¤„ì–´ë“¦.</li><p class="" id="1e1451cf-7b79-801f-b21f-f85a6a1000cf"> </p></div></div> <p class="" id="1e1451cf-7b79-808f-b019-c49c74b52e7e"> </p> <p class="" id="1e1451cf-7b79-80e2-9406-f12f81268cad">Â <strong>PixArtë„ Linearì´ë¬ëŠ”ë° ë‹¤ë¥¸ì ì€?</strong></p> <p class="" id="1e1451cf-7b79-8062-8136-e2c8084383eb">PixArtì—ì„œëŠ” Keyì™€ Value í† í°ì„ ì••ì¶•í•˜ì—¬ ì—°ì‚°ëŸ‰ì„ ì¤„ì—¬ì„œ Engineering Optimizationìœ¼ë¡œ O(N)ê³¼ ë¹„ìŠ·í•˜ê²Œ í•˜ëŠ” ë°©ì‹, SANAì—ì„œëŠ” ì•„ì˜ˆ ìˆ˜í•™ì ìœ¼ë¡œ ê³„ì‚°ëŸ‰ì´ O(N)</p> <p class="" id="1e1451cf-7b79-8017-a3ee-f319d05ef866"> </p> <p class="" id="1e1451cf-7b79-80df-931b-ed23d48991ef"> </p> <p class="" id="1e1451cf-7b79-8064-a4e3-e31fc8cd4e4b"> </p> <p class="" id="1e1451cf-7b79-80ef-a40f-fde33951f7cf"> </p> <h3 class="" id="1e1451cf-7b79-8094-bd3c-c9de943dfcfa">Mix-FFN Block</h3> <div class="column-list" id="1e1451cf-7b79-8014-8b6b-e9dc846abe4b"><div class="column" id="1e1451cf-7b79-8057-94ea-e74d67472b3d" style="width:18.75%"><figure class="image" id="1e1451cf-7b79-80e5-9d1d-e73d7e7f40e8"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%206.webp" style="width:331.9921875px"/></picture></figure></div><div class="column" id="1e1451cf-7b79-80ab-a302-fe2daa822bdd" style="width:81.25%"><p class="" id="1e1451cf-7b79-80a1-aa08-cea58de6dd01">ê¸°ì¡´ Transformerì˜ FFN (Feed-Forward Network)ì€ ë‹¨ìˆœíˆ 2ê°œì˜ Linear Layerë¡œ êµ¬ì„±ë˜ì–´ ìˆì—ˆìŒ.</p><p class="" id="1e1451cf-7b79-80ef-b509-cc0b50e0f1c8">FFNì€ ì „ì—­ì ì¸ ì •ë³´ëŠ” ì˜ ì²˜ë¦¬í•˜ì§€ë§Œ, Â <strong>ì§€ì—­ì ì¸(local) ë””í…Œì¼</strong> ë³µì›ì—ëŠ” ì•½í–ˆìŒ.</p><p class="" id="1e1451cf-7b79-805d-9466-db4c3916938c"> </p><p class="" id="1e1451cf-7b79-80ec-9f84-df19eb48f269">SANAì˜ í•´ê²°ì±…:</p><li style="list-style-type:disc">ê¸°ì¡´ MLP ì‚¬ì´ì— Â <strong>3Ã—3 Depthwise Convolution</strong>ì„ ì‚½ì…</li><li style="list-style-type:disc">ì´ë¥¼ í†µí•´ ì§€ì—­ êµ¬ì¡°(local structure) í•™ìŠµì„ ê°•í™”</li><li style="list-style-type:disc">ê²°ê³¼ì ìœ¼ë¡œ Â <strong>í…ìŠ¤ì²˜, ê²½ê³„ì„ </strong>, ì´ëŸ° ì„¸ë°€í•œ ë¶€ë¶„ ë³µì›ì— ìœ ë¦¬</li><p class="" id="1e1451cf-7b79-80c4-9e77-e9cabd2af50d"> </p></div></div> <p class="" id="1e1451cf-7b79-80b8-bb4c-e665e1580398"> </p> <p class="" id="1e1451cf-7b79-8006-a4dd-fe63c5ab7754"> </p> <p class="" id="1e1451cf-7b79-8044-ac8d-e8338b9be66e"> </p> <h3 class="" id="1e1451cf-7b79-80bb-890c-f14842ca751b">DiT without Positional Encoding (NoPE)</h3> <p class="" id="1e1451cf-7b79-80ce-891a-fb72b793fcff">ê¸°ì¡´ Transformer êµ¬ì¡°ëŠ” ì…ë ¥ ìˆœì„œë¥¼ ì¸ì‹í•˜ë„ë¡ Â <strong>Positional Encoding</strong>ì„ ì‚¬ìš©í–ˆìŒ.</p> <p class="" id="1e1451cf-7b79-8013-b598-c862c600b300">ì™œëƒë©´ TransformerëŠ” ì…ë ¥ ìˆœì„œë¥¼ êµ¬ë³„í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì—â€¦</p> <p class="" id="1e1451cf-7b79-8049-a242-d023119ca191"> </p> <p class="" id="1e1451cf-7b79-8042-923b-c825f3c64f69">í•˜ì§€ë§Œ 4K ê³ í•´ìƒë„ latentì²˜ëŸ¼ í† í° ìˆ˜ê°€ ë§ì„ ë•Œ, Positional Encodingì„ ê³„ì‚°í•˜ê³  ì €ì¥í•˜ëŠ” ë°ë„ ë¹„ìš©ì´ í¼.</p> <p class="" id="1e1451cf-7b79-8089-b32d-e572fc9e9972"> </p> <p class="" id="1e1451cf-7b79-80d5-970e-fe47244c21e5">SANAì—ì„œëŠ” ì•„ì˜ˆ Positional Encodingì„ ì œê±°í•¨</p> <li style="list-style-type:disc">Â <strong>3Ã—3 Depthwise Convolution</strong>ì´ Mix-FFNì— ì¶”ê°€ë˜ì–´ì„œ ì§€ì—­ì  ìœ„ì¹˜ ê´€ê³„ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŒ.</li> <li style="list-style-type:disc">Linear Attentionì€ Â <strong>ì „ì—­ ê´€ê³„</strong>ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í¬ì°©í•  ìˆ˜ ìˆìŒ.<p class="" id="1e1451cf-7b79-809e-bddb-d0eaf31cdb41">â†’ ë³„ë„ë¡œ ìœ„ì¹˜ ì •ë³´ë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šì•„ë„ ì¶©ë¶„íˆ íŒ¨í„´ê³¼ êµ¬ì¡°ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆìŒ.</p></li> <p class="" id="1e1451cf-7b79-8026-909d-cdad368961c3"> </p> <p class="" id="1e1451cf-7b79-8019-8111-ce9a849dcee8">ê²°ê³¼ì ìœ¼ë¡œ í’ˆì§ˆì´ ìœ ì§€ë˜ë©´ì„œ êµ¬ì¡°ê°€ ê°„ë‹¨í•´ì§€ê³  ë©”ëª¨ë¦¬ ì—°ì‚°ëŸ‰ì´ ê°ì†Œí•¨</p> <figure class="image" id="1e1451cf-7b79-8004-a692-db239ce26b72"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%207.webp" style="width:528px"/></picture></figure> <p class="" id="1e1451cf-7b79-8012-a554-e3dfe57ade45"> </p> <p class="" id="1e1451cf-7b79-8081-90cc-f566df8cef16"> </p> <p class="" id="1e1451cf-7b79-8099-beb2-e34547481389"> </p> <h3 class="" id="1e1451cf-7b79-8065-8dc2-eb244c9483b7">Triton Acceleration Training/Inference</h3> <p class="" id="1e1451cf-7b79-8009-8882-f72f1b0fb367">Appendixì— ì¶”ê°€í•œë‹¤ê³  ë˜ì–´ìˆëŠ”ë° ì•„ì§ ê´€ë ¨ ë‚´ìš© ì—†ìŒ.</p> <p class="" id="1e1451cf-7b79-80f2-a05f-d5ba351d6134"> </p> <p class="" id="1e1451cf-7b79-80a7-b828-dff44b07f9e3">GPTê°€ ì•Œë ¤ì¤€ ë‚´ìš©</p> <li style="list-style-type:disc">Linear Attentionì„ êµ¬í˜„í•  ë•Œ, ë‹¨ìˆœíˆ ì•Œê³ ë¦¬ì¦˜ë§Œ ê°œì„ í•˜ëŠ” ê²ƒìœ¼ë¡œëŠ” ë¶€ì¡±í•¨.</li> <li style="list-style-type:disc">ì‹¤ì œ ì—°ì‚° íš¨ìœ¨ê¹Œì§€ ê·¹ëŒ€í™”í•˜ë ¤ë©´, Â <strong>GPU kernel ë ˆë²¨ ìµœì í™”</strong>ê°€ í•„ìš”í•¨.</li> <li style="list-style-type:disc">SANAëŠ” Â <strong>Triton</strong>ì„ ì‚¬ìš©í•˜ì—¬ Linear Attention ì—°ì‚°ì„ ì§ì ‘ ìµœì í™”í•¨.<li style="list-style-type:circle">Tritonì€ NVIDIAê°€ ì§€ì›í•˜ëŠ” Â <strong>ì»¤ìŠ¤í…€ GPU ì»¤ë„ í”„ë¡œê·¸ë˜ë° í”„ë ˆì„ì›Œí¬</strong>ì„.</li><li style="list-style-type:circle">CUDAë³´ë‹¤ ë‹¨ìˆœí•œ ë¬¸ë²•ìœ¼ë¡œ, ê³ ì„±ëŠ¥ ì»¤ë„ì„ ì‘ì„±í•  ìˆ˜ ìˆìŒ.</li></li> <p class="" id="1e1451cf-7b79-80f5-9cf8-f5152a0df3ab"> </p> <p class="" id="1e1451cf-7b79-8057-b111-cd1230ed2402">Tritonìœ¼ë¡œ ìµœì í™”í•œ ê²°ê³¼:</p> <li style="list-style-type:disc">Matrix ê³± ì—°ì‚°(GEMM)ê³¼ Memory Accessë¥¼ ì¤„ì„.</li> <li style="list-style-type:disc">ì‹¤ì œ latency(ì§€ì—° ì‹œê°„)ì™€ memory bandwidth ì†Œëª¨ë¥¼ í¬ê²Œ ê°œì„ </li> <p class="" id="1e1451cf-7b79-8052-a8a6-d0f4815a7773"> </p> <p class="" id="1e1451cf-7b79-8088-8972-d06b7bf80def"> </p> <p class="" id="1e1451cf-7b79-808b-b041-d57e8f2a3049"> </p> <p class="" id="1e1451cf-7b79-80b5-8104-cba39f710b69"> </p> <p class="" id="1e1451cf-7b79-80c8-8171-c1fecf5a0d15"> </p> <h2 class="" id="1e1451cf-7b79-80bc-b5d2-de21611ef5ae">2.3 TEXT ENCODER DESIGN</h2> <p class="" id="1e1451cf-7b79-805e-9efe-c9aaa7c50acd"> </p> <h3 class="" id="1e1451cf-7b79-8096-9973-ccc984b429fa">Â <strong>ì™œ T5 ëŒ€ì‹  Decoder-only LLMì„ ì‚¬ìš©í•˜ëŠ”ê°€?</strong></h3> <p class="" id="1e1451cf-7b79-80c0-880e-e483b616aa44"> </p> <p class="" id="1e1451cf-7b79-8004-b481-fb568212a13f">SANAëŠ” Gemmaë¥¼ Text Encoderë¡œ ì‚¬ìš©í•˜ê¸°ë¡œ ì±„íƒ</p> <table class="simple-table" id="1e1451cf-7b79-8033-bb10-eb08e0e4727d"><tbody><tr id="1e1451cf-7b79-8098-bd99-ca73ab8a0411"><td class="" id="XfwJ" style="width:230px">í•­ëª©</td><td class="" id="sarK" style="width:230px">ê¸°ì¡´ (T5)</td><td class="" id="XAbw" style="width:230px">SANA (Gemma-2)</td></tr><tr id="1e1451cf-7b79-808a-8fb8-f7e1898d4ba8"><td class="" id="XfwJ" style="width:230px">ëª¨ë¸ êµ¬ì¡°</td><td class="" id="sarK" style="width:230px">Encoder-Decoder</td><td class="" id="XAbw" style="width:230px">Decoder-only</td></tr><tr id="1e1451cf-7b79-801f-b975-c1b949f0870e"><td class="" id="XfwJ" style="width:230px">Reasoning ëŠ¥ë ¥</td><td class="" id="sarK" style="width:230px">ì œí•œì </td><td class="" id="XAbw" style="width:230px">ë§¤ìš° ê°•í•¨ (CoT, ICL ê°€ëŠ¥)</td></tr><tr id="1e1451cf-7b79-8026-9d08-f5268410c1d3"><td class="" id="XfwJ" style="width:230px">ì¶”ë¡  ì†ë„</td><td class="" id="sarK" style="width:230px">ëŠë¦¼ (T5-XXL)</td><td class="" id="XAbw" style="width:230px">6ë°° ë¹ ë¦„ (Gemma-2-2B)</td></tr></tbody></table> <p class="" id="1e1451cf-7b79-806c-9e64-eb2f6cbd4ea1"> </p> <figure class="image" id="1e1451cf-7b79-807b-a441-e7801ac0efe7"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%208.webp" style="width:2054px"/></picture></figure> <p class="" id="1e1451cf-7b79-8000-90b4-ec164b0bde2f">â†’ ë¹ ë¥¸ë°ë„ ë¶ˆêµ¬í•˜ê³ , CLIP Scoreì™€ FID(ì´ë¯¸ì§€ í’ˆì§ˆ ì§€í‘œ)ì—ì„œëŠ” Â <strong>ì„±ëŠ¥ì´ ë¹„ìŠ·í•¨</strong></p> <p class="" id="1e1451cf-7b79-809e-bd16-dc436c081112"> </p> <p class="" id="1e1451cf-7b79-809d-83d5-fde23e843e83"> </p> <h3 class="" id="1e1451cf-7b79-8050-936f-f4ceb386076a">Decoder-only LLMì„ Text Encoderë¡œ ì“°ë©´ì„œ ìƒê¸´ ë¬¸ì œ í•´ê²°</h3> <p class="" id="1e1451cf-7b79-80a5-9bd6-e070176ae4d8">Decoder-only LLM (Gemma, Qwen ë“±)ì˜ í…ìŠ¤íŠ¸ ì„ë² ë”©ì€ Varianceê°€ í›¨ì”¬ í¼.</p> <li style="list-style-type:disc">í° ê°’ì´ í…ìŠ¤íŠ¸ ì„ë² ë”© ì•ˆì— ë§ì´ í¬í•¨ë˜ì–´ ìˆìŒ.</li> <li style="list-style-type:disc">Cross-Attention ì—°ì‚° ì¤‘ ìˆ˜ì¹˜ í­ë°œ(NaN)ë¡œ ì´ì–´ì§.</li> <p class="" id="1e1451cf-7b79-8031-b690-d300317ceda6"> </p> <p class="" id="1e1451cf-7b79-804e-aef8-fdbb3efc4073"> </p> <p class="" id="1e1451cf-7b79-8001-8fd1-f5cc9669c842">Â <strong>ë°©ë²• 1: RMSNorm ì¶”ê°€</strong></p> <p class="" id="1e1451cf-7b79-80b4-98ad-fe26f1b6d0ac">Gemma-2ì˜ í…ìŠ¤íŠ¸ ì„ë² ë”© ì¶œë ¥ì— Â <strong>RMSNorm</strong>ì„ ì ìš©</p> <p class="" id="1e1451cf-7b79-8078-9787-eafb501d7fb3">RMSNorm?</p> <li style="list-style-type:disc">ì…ë ¥ ë²¡í„°ì˜ Varianceë¥¼ 1.0ìœ¼ë¡œ ì •ê·œí™”</li> <li style="list-style-type:disc">í° ê°’ì´ë‚˜ ì‘ì€ ê°’ë“¤ì„ ê· ì¼í•˜ê²Œ ë§Œë“¤ì–´ ìˆ˜ì¹˜ í­ë°œ ë°©ì§€</li> <p class="" id="1e1451cf-7b79-80f0-b60a-c9e3b3af8af5"> </p> <p class="" id="1e1451cf-7b79-8048-8d2e-c64c9ae9f503">Â <strong>ë°©ë²• 2: Learnable Scale Factor ì¶”ê°€</strong></p> <li style="list-style-type:disc">ì¶”ê°€ë¡œ, í…ìŠ¤íŠ¸ ì„ë² ë”©ì— Â <strong>í•™ìŠµ ê°€ëŠ¥í•œ ì‘ì€ ìŠ¤ì¼€ì¼ íŒŒë¼ë¯¸í„°</strong>ë¥¼ ê³±í•¨</li> <li style="list-style-type:disc">ì´ˆê¸° ê°’ì€ ë§¤ìš° ì‘ê²Œ ì„¤ì •í•¨ (ì˜ˆ: 0.01)</li> <li style="list-style-type:disc">ì´ íŒŒë¼ë¯¸í„°ê°€ í•™ìŠµì„ í†µí•´ ì ì ˆí•œ í¬ê¸°ë¡œ ì¡°ì •ë˜ë©´ì„œ ëª¨ë¸ ìˆ˜ë ´ ì†ë„ê°€ ë¹¨ë¼ì§</li> <p class="" id="1e1451cf-7b79-802e-a6b5-c1b025bb65b8"> </p> <p class="" id="1e1451cf-7b79-804b-b578-d6cc57be261c">â†’ í›ˆë ¨ ì•ˆì •ì„± í™•ë³´ + ìˆ˜ë ´ ì†ë„ í–¥ìƒ</p> <figure class="image" id="1e1451cf-7b79-806c-bab4-dbe22b1d2d8a"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%209.webp" style="width:432px"/></picture></figure> <p class="" id="1e1451cf-7b79-80fa-b5f7-faf61ae8ad26"> </p> <p class="" id="1e1451cf-7b79-80cf-a529-de6e32ac4680"> </p> <h3 class="" id="1e1451cf-7b79-80cb-a7ce-cc817e85d83c">Complex Human Instruction Improves Text-Image Alignment</h3> <p class="" id="1e1451cf-7b79-80cc-a519-d914d84ec1e2">GemmaëŠ” ê°•ë ¥í•œ LLMì´ì§€ë§Œ, ì‚¬ìš©ìê°€ ì§§ê±°ë‚˜ ëª¨í˜¸í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ (ì˜ˆ: "a cat")</p> <p class="" id="1e1451cf-7b79-808c-9e94-d9334e39607c">LLMì´ ì´ˆì ì„ ìƒê³  ì—‰ëš±í•œ ë‹µë³€ì„ í•  ìˆ˜ë„ ìˆìŒ.</p> <p class="" id="1e1451cf-7b79-803f-bd4d-f77b3a1d6d15">â†’ LLMì´ í”„ë¡¬í”„íŠ¸ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ ë§Œë“œëŠ” ì¶”ê°€ ì§€ì‹œë¬¸ì´ í•„ìš”í•¨.</p> <p class="" id="1e1451cf-7b79-8024-8c55-e16bff64d2de"> </p> <p class="" id="1e1451cf-7b79-80df-a6a3-cbe872cf84aa">Â <strong>CHIê°€ ê·¸ë˜ì„œ ë­”ë””?</strong></p> <p class="" id="1e1451cf-7b79-8099-bd13-cfd1ca105562">LLMì˜ Â <strong>In-Context Learning</strong> ëŠ¥ë ¥ì„ í™œìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ì£¼ê¸° ì „ì—, </p> <p class="" id="1e1451cf-7b79-80cd-9d6b-d850e580600a">LLMì—ê²Œ "ìƒ‰ìƒ, í¬ê¸°, ìœ„ì¹˜ ê´€ê³„ ê°™ì€ ì„¸ë¶€ ë¬˜ì‚¬ë¥¼ ì¶”ê°€í•´ë¼"ì™€ ê°™ì€ Â <strong>ë³µì¡í•œ ëª…ë ¹ ì„¸íŠ¸</strong>ë¥¼ í•¨ê»˜ ì œê³µí•˜ëŠ” ê²ƒ</p> <p class="" id="1e1451cf-7b79-80cd-a1cb-ee60c69e658e"> </p> <p class="" id="1e1451cf-7b79-8040-85bf-ed8dd8f6f44a">Â <strong>ê²°ê³¼ 1</strong></p> <div class="column-list" id="1e1451cf-7b79-8097-9a43-cfbef9f6121b"><div class="column" id="1e1451cf-7b79-80fc-98ed-c84ac075c157" style="width:37.5%"><figure class="image" id="1e1451cf-7b79-80e0-81d6-e22d8fd2e0e3"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%2010.webp" style="width:720px"/></picture></figure></div><div class="column" id="1e1451cf-7b79-8010-8392-f60964428dc6" style="width:62.5%"><p class="" id="1e1451cf-7b79-80b5-93db-ed7bee07f91c">CHIë¥¼ ì ìš©í–ˆì„ ë•Œ, í•™ìŠµì„ ì²˜ìŒë¶€í„° í•˜ë“ (fresh training)</p><p class="" id="1e1451cf-7b79-805d-afd8-fe29ade9f100">ì•„ë‹ˆë©´ ê¸°ì¡´ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •(fine-tuning)í•˜ë“ </p><p class="" id="1e1451cf-7b79-807f-bbf4-ff9345eef635">Â <strong>í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì„±ëŠ¥ì´ í–¥ìƒ</strong></p></div></div> <p class="" id="1e1451cf-7b79-8062-bd1b-eaaca4714b77"> </p> <p class="" id="1e1451cf-7b79-8031-a545-d1b7666be5b2">Â <strong>ê²°ê³¼ 2</strong></p> <div class="column-list" id="1e1451cf-7b79-80e6-aca7-dc6e49816ca7"><div class="column" id="1e1451cf-7b79-8051-bb91-e4e5def3544c" style="width:50%"><figure class="image" id="1e1451cf-7b79-8024-8875-f8fdfcbb933a"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%2011.webp" style="width:331.9921875px"/></picture></figure></div><div class="column" id="1e1451cf-7b79-8075-91ef-fee18cd122f8" style="width:50%"><p class="" id="1e1451cf-7b79-80c8-90d4-cd4bd6126a58">ì§§ì€ í”„ë¡¬í”„íŠ¸(ì˜ˆ: "a cat")ë¥¼ ì…ë ¥í–ˆì„ ë•Œ,</p><p class="" id="1e1451cf-7b79-80da-8423-d573e7a5d20f"> </p><p class="" id="1e1451cf-7b79-80a6-a3f1-c0989f4cb298">CHIê°€ ì—†ìœ¼ë©´, ëª¨ë¸ì´ ì—‰ëš±í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê±°ë‚˜ í’ˆì§ˆì´ ë¶ˆì•ˆì •í•´ì§.</p><p class="" id="1e1451cf-7b79-8069-8833-eec57a78702c"> </p><p class="" id="1e1451cf-7b79-8003-83a8-fa421069e30a">CHIê°€ ìˆìœ¼ë©´, ëª¨ë¸ì´ Â <strong>í”„ë¡¬í”„íŠ¸ì— ì •í™•íˆ ë§ëŠ” ì•ˆì •ì ì¸ ì´ë¯¸ì§€</strong>ë¥¼ ìƒì„±</p><p class="" id="1e1451cf-7b79-80a9-8a48-d16a12f6e9d7"> </p></div></div> <p class="" id="1e1451cf-7b79-80c2-8eaa-d69f82999df9"> </p> <p class="" id="1e1451cf-7b79-80cf-be9f-fd35f11fe6f8"> </p> <p class="" id="1e1451cf-7b79-807d-93e8-dd3ef8b78aad"> </p> <p class="" id="1e1451cf-7b79-8042-8caa-cbb23bed9adf"> </p> <p class="" id="1e1451cf-7b79-80c0-b0b3-e6b1bae0e301"> </p> <h1 class="" id="1e1451cf-7b79-800b-9684-f23c46215e94">3 EFFICIENT TRAINING/INFERENCE</h1> <h2 class="" id="1e1451cf-7b79-80c9-a061-c5455d8655d4">3.1 DATA CURATION AND BLENDING</h2> <h3 class="" id="1e1451cf-7b79-80a3-8afc-e633623249c6">1. Multi-Caption Auto-labelling Pipeline</h3> <p class="" id="1e1451cf-7b79-8085-a059-cdd9d0d17de5"> </p> <p class="" id="1e1451cf-7b79-80ca-939b-cd45e6a4ae32">Â <strong>ì´ë¯¸ì§€ í•˜ë‚˜ë‹¹ 4ê°œì˜ VLM(Vision-Language Models) ì„ ì´ìš©í•´ ìº¡ì…˜ì„ ìƒì„±í•¨.</strong></p> <li style="list-style-type:disc">Â <strong>VILA-3B</strong></li> <li style="list-style-type:disc">Â <strong>VILA-13B</strong></li> <li style="list-style-type:disc">Â <strong>InternVL-28B</strong></li> <li style="list-style-type:disc">Â <strong>InternVL-26B</strong></li> <p class="" id="1e1451cf-7b79-80b8-85c7-c591d1067a22"> </p> <p class="" id="1e1451cf-7b79-804f-9bbe-c8bcb1f2c8e8">Â <strong>â†’ ì •í™•í•œ ìº¡ì…˜</strong> ìƒì„± (í•˜ë‚˜ë§Œ ì“°ëŠ” ê²ƒë³´ë‹¤ ì˜¤ë¥˜ ì¤„ì„)</p> <p class="" id="1e1451cf-7b79-8027-8b9b-e6d1373614f5">Â <strong>â†’ ë‹¤ì–‘í•œ í‘œí˜„</strong> í™•ë³´ (ê°™ì€ ì´ë¯¸ì§€ë¥¼ ì—¬ëŸ¬ ê´€ì ì—ì„œ ë¬˜ì‚¬ ê°€ëŠ¥)</p> <hr id="1e1451cf-7b79-8045-bc0d-c14849aa4cea"/> <h3 class="" id="1e1451cf-7b79-806c-b075-cc590274effc">2. CLIP-Score-based Caption Sampler</h3> <p class="" id="1e1451cf-7b79-8063-a310-d7dfdf81a3d6">Â <strong>ë¬¸ì œ ìƒí™©</strong></p> <li style="list-style-type:disc">ìº¡ì…˜ì„ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì—ˆëŠ”ë°,<p class="" id="1e1451cf-7b79-803c-9511-e555a8e2e77c">í›ˆë ¨í•  ë•Œ ì–´ë–¤ ìº¡ì…˜ì„ ì„ íƒí• ì§€ê°€ ë¬¸ì œì„.</p></li> <li style="list-style-type:disc">ë¬´ì‘ìœ„ë¡œ(random) í•˜ë‚˜ ê³ ë¥´ë©´:<li style="list-style-type:circle">í’ˆì§ˆì´ ë‚®ì€ ë¬¸ì¥ì„ ë½‘ì„ ìœ„í—˜ì´ ìˆìŒ</li><li style="list-style-type:circle">ê·¸ëŸ¬ë©´ í›ˆë ¨ì´ ëŠë ¤ì§€ê±°ë‚˜ ëª¨ë¸ í’ˆì§ˆì´ ë–¨ì–´ì§</li></li> <p class="" id="1e1451cf-7b79-8033-994d-c2063d8231da">Â <strong>í•´ê²° ë°©ë²•</strong></p> <li style="list-style-type:disc">Â <strong>CLIP score</strong>ë¥¼ í™œìš©í•´ í’ˆì§ˆ ë†’ì€ ìº¡ì…˜ì„ ë½‘ëŠ” ë°©ì‹ ì‚¬ìš©<li style="list-style-type:circle">CLIPì€ ì´ë¯¸ì§€-í…ìŠ¤íŠ¸ ë§¤ì¹­ ì •ë„ë¥¼ ì ìˆ˜ë¡œ ê³„ì‚°í•´ì¤Œ.</li></li> <li style="list-style-type:disc">ê³¼ì •:<ol class="numbered-list" id="1e1451cf-7b79-8043-a7e4-f032f1e74436" start="1" type="1"><li>ì´ë¯¸ì§€ì— ëŒ€í•´ ìƒì„±ëœ ê° ìº¡ì…˜ì˜ CLIP ì ìˆ˜(cic_ici)ë¥¼ ê³„ì‚°</li></ol><ol class="numbered-list" id="1e1451cf-7b79-8025-b743-d57f63576136" start="2" type="1"><li>ì ìˆ˜ê°€ ë†’ì€ ìº¡ì…˜ì¼ìˆ˜ë¡ ë½‘í í™•ë¥ ì´ ë†’ê²Œ ì„¤ì •</li></ol><ol class="numbered-list" id="1e1451cf-7b79-8054-b3c3-f5be9f794345" start="3" type="1"><li>Sampling í™•ë¥  ê³µì‹:</li></ol><figure class="equation" id="230451cf-7b79-80f7-aace-cf3753ca613c"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><msup><mi>e</mi><mrow><msub><mi>c</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>Ï„</mi></mrow></msup><mrow><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msup><mi>e</mi><mrow><msub><mi>c</mi><mi>j</mi></msub><mi mathvariant="normal">/</mi><mi>Ï„</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(c_i) = \frac{e^{c_i / \tau}}{\sum_{j=1}^N e^{c_j / \tau}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.872em;vertical-align:-1.307em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.1288em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8301em;"><span style="top:-3.0051em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">Ï„</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">Ï„</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.307em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></figure></li> <p class="" id="1e1451cf-7b79-80aa-b764-e9b1e0adae90">ì—¬ê¸°</p> <li style="list-style-type:disc">Ï„ëŠ” "temperature"ë¼ëŠ” í•˜ì´í¼íŒŒë¼ë¯¸í„°ì„.</li> <li style="list-style-type:disc">Â <strong>Temperature ì¡°ì •ìœ¼ë¡œ ë½‘ëŠ” ê°•ë„ë¥¼ ì¡°ì ˆ</strong>í•  ìˆ˜ ìˆìŒ:<li style="list-style-type:circle">Ï„ê°€ ì‘ìœ¼ë©´: ì ìˆ˜ ê°€ì¥ ë†’ì€ ìº¡ì…˜ë§Œ ê±°ì˜ í•­ìƒ ì„ íƒ</li><li style="list-style-type:circle">Ï„ê°€ í¬ë©´: ë‹¤ì–‘í•œ ìº¡ì…˜ì´ ê³ ë¥´ê²Œ ì„ íƒë¨</li></li> <hr id="1e1451cf-7b79-808f-b710-c6a09165c830"/> <h3 class="" id="1e1451cf-7b79-8032-a178-e8ad6f17eeb0">ì‹¤í—˜ ê²°ê³¼</h3> <li style="list-style-type:disc">Table 4 ê²°ê³¼ì— ë”°ë¥´ë©´:<li style="list-style-type:circle">ìº¡ì…˜ì„ ë‹¤ì–‘í•˜ê²Œ ê³¨ë¼ë„ ì´ë¯¸ì§€ í’ˆì§ˆ(FID)ì€ ê±°ì˜ ë³€í•˜ì§€ ì•ŠìŒ</li><li style="list-style-type:circle">í•˜ì§€ë§Œ Â <strong>í›ˆë ¨ ì¤‘ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬</strong>(semantic alignment)ì€ í›¨ì”¬ ì¢‹ì•„ì§</li></li> <hr id="1e1451cf-7b79-80ed-9c5d-c6e329e8175d"/> <h3 class="" id="1e1451cf-7b79-804a-90b0-ea6fe1d64f93">Â <strong>3. Cascade Resolution Training</strong></h3> <h3 class="" id="1e1451cf-7b79-803c-983b-fa1297a848b9">ê¸°ì¡´ ë°©ì‹</h3> <li style="list-style-type:disc">ëŒ€ë¶€ë¶„ì˜ diffusion ëª¨ë¸ì€ í•´ìƒë„ 256pxì§œë¦¬ ì´ë¯¸ì§€ë¡œ ë¨¼ì € pre-trainingì„ í•¨.</li> <li style="list-style-type:disc">ì´ìœ ëŠ” ì—°ì‚° ë¹„ìš©(cost)ì„ ì¤„ì´ê¸° ìœ„í•´ì„œì„.</li> <h3 class="" id="1e1451cf-7b79-8058-8a3c-e9acdce89ac6">ë¬¸ì œì </h3> <li style="list-style-type:disc">256px ì´ë¯¸ì§€ëŠ” ë””í…Œì¼(detail) ì†ì‹¤ì´ ì‹¬í•¨.</li> <li style="list-style-type:disc">ë”°ë¼ì„œ, ì‘ì€ í•´ìƒë„ì—ì„œ í•™ìŠµì„ ì‹œì‘í•˜ë©´:<li style="list-style-type:circle">ëª¨ë¸ì´ fineí•œ êµ¬ì¡°ë‚˜ í…ìŠ¤ì²˜ë¥¼ ë°°ìš°ê¸° ì–´ë ¤ì›€</li><li style="list-style-type:circle">ê²°êµ­ í° í•´ìƒë„ë¡œ ê°ˆ ë•Œ ë” ëŠë¦¬ê²Œ í•™ìŠµí•¨.</li></li> <hr id="1e1451cf-7b79-8027-b3fb-ee5d3d187009"/> <h3 class="" id="1e1451cf-7b79-800a-b78e-f05f748bbfbc">SANA ë°©ì‹</h3> <li style="list-style-type:disc">SANAëŠ” Â <strong>AE-F32C32P1 êµ¬ì¡°</strong>ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—<p class="" id="1e1451cf-7b79-8073-8a98-ed24f26e3315">latent ê³µê°„ì´ ë§¤ìš° ì‘ìŒ â†’ ì—°ì‚° ë¶€ë‹´ì´ ì ìŒ.</p></li> <li style="list-style-type:disc">ê·¸ë˜ì„œ êµ³ì´ 256pxì—ì„œ ì‹œì‘í•  í•„ìš” ì—†ì´ ë°”ë¡œ Â <strong>512px</strong>ì—ì„œ í•™ìŠµ ì‹œì‘í•¨.</li> <li style="list-style-type:disc">í•™ìŠµ ìˆœì„œ:<li style="list-style-type:circle">512px â†’ 1024px â†’ 2K â†’ 4K ìˆœì„œë¡œ ì ì§„ì (fine-tuning)ìœ¼ë¡œ í•´ìƒë„ë¥¼ ì˜¬ë¦¼.</li></li> <p class="" id="1e1451cf-7b79-80ca-b57e-d4c35d9bcd24"> </p> <p class="" id="1e6451cf-7b79-80d0-b860-dab650825d1a"> </p> <p class="" id="1e3451cf-7b79-8000-adb6-fc4a81565262"> </p> <h2 class="" id="1e1451cf-7b79-804f-9d03-e62702ab06fa">3.2 FLOW-BASED TRAINING / INFERENCE</h2> <p class="" id="1e1451cf-7b79-80fa-82f7-f963983f45e1"> </p> <h3 class="" id="1e1451cf-7b79-80ab-be37-cb2192fcc930">Flow-based Training</h3> <p class="" id="1e5451cf-7b79-804f-8779-d781983a6267">ê¸°ì¡´ ë°©ì‹ : noise prediction</p> <div class="column-list" id="230451cf-7b79-805a-ad56-fd46460b72cb"><div class="column" id="230451cf-7b79-80d4-8675-e0f238f1ee3a" style="width:50%"><figure class="equation" id="230451cf-7b79-8042-995d-e22fb6ec73c1"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><msub><mi>Î±</mi><mi>t</mi></msub><msub><mi>x</mi><mn>0</mn></msub><mo>+</mo><msub><mi>Ïƒ</mi><mi>t</mi></msub><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">x_t = \alpha_t x_0 + \sigma_t \epsilon</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">Ïµ</span></span></span></span></span></div></figure></div><div class="column" id="230451cf-7b79-8012-915f-d7cb51353602" style="width:50%"><figure class="equation" id="230451cf-7b79-8026-879c-c822e5e2faee"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïµ</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon_\theta(x_t, t) = \epsilon</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Ïµ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Ïµ</span></span></span></span></span></div></figure></div></div> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>: ì›ë³¸ ì´ë¯¸ì§€</li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Ïµ</span></span></span></span></span><span>ï»¿</span></span>: ëœë¤ ë…¸ì´ì¦ˆ</li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î±</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_t, \sigma_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>: diffusion ê³¼ì •ì˜ í•˜ì´í¼íŒŒë¼ë¯¸í„°</li> <p class="" id="230451cf-7b79-8021-ab57-c5538df22571"> </p> <p class="" id="1e5451cf-7b79-80b0-898e-db75c71747be">â†’ ë…¸ì´ì¦ˆë¥¼ ë§ì¶”ëŠ” ê²ƒì´ í•™ìŠµ ëª©í‘œ</p> <p class="" id="1e5451cf-7b79-804c-82b1-ffb745ac961d"> </p> <p class="" id="1e5451cf-7b79-80ab-9f70-c8a0439c09cb">ë¬¸ì œì  : tê°€ ì»¤ì§€ë©´ (Diffusion ë§ˆì§€ë§‰ ë‹¨ê³„ì— ê°€ê¹Œìš°ë©´) ë…¸ì´ì¦ˆê°€ ì»¤ì ¸ì„œ ì˜ˆì¸¡ ë¶ˆì•ˆì •</p> <p class="" id="1e5451cf-7b79-80cb-8a6b-df9d90b66f35"> </p> <p class="" id="1e5451cf-7b79-803f-bf2e-f524126a0398">ìƒˆ ë°©ì‹ : EDM ,RF</p> <p class="" id="1e5451cf-7b79-80c6-9622-c597c20dfde8">noise ëŒ€ì‹  dataë‚˜ velocity(ë…¸ì´ì¦ˆì™€ ì›ë³¸ ì´ë¯¸ì§€ ì°¨ì´) ì˜ˆì¸¡</p> <p class="" id="230451cf-7b79-80e8-aeff-f4e12bdcff9e">EDM : <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_\theta(x_t, t) = x_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (ì›ë³¸ ë°ì´í„° ì˜ˆì¸¡)</p> <p class="" id="230451cf-7b79-80ce-ae27-f7f21a6ec58f">RF : <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïµ</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">v_\theta(x_t, t) = \epsilon - x_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">Ïµ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (velocity ì˜ˆì¸¡)</p> <p class="" id="230451cf-7b79-80a0-bb37-e68463f48935"> </p> <figure class="equation" id="230451cf-7b79-805e-839a-e10cfc11b775"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïµ</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">v_\theta(x_t, t) = \epsilon - x_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">Ïµ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></div></figure> <figure class="equation" id="230451cf-7b79-80e5-9d14-e9e3b00ec272"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>=</mo><msub><mi>x</mi><mi>T</mi></msub><mo>âˆ’</mo><msub><mi>Ïƒ</mi><mi>T</mi></msub><mo>â‹…</mo><msub><mi>v</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>T</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>T</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_0 = x_T - \sigma_T \cdot v_\theta(x_T, t_T)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div></figure> <p class="" id="1e5451cf-7b79-80af-97b5-d73c0e96d93b">ê²°êµ­ RFë¥¼ ì‚¬ìš©í•˜ì—¬ cumulative(ëˆ„ì ) errorë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ</p> <p class="" id="1e6451cf-7b79-807e-a4ea-f65080c9559c"> </p> <p class="" id="1e6451cf-7b79-80b2-bef3-c2194b8546c9"> </p> <p class="" id="1e5451cf-7b79-806c-870d-c391be81758d"> </p> <h3 class="" id="1e5451cf-7b79-8036-ba46-cbbfa2cd97b2">Flow-based Inference</h3> <p class="" id="1e5451cf-7b79-8017-a15d-d2b8eff3bc51">ê¸°ì¡´ : DPM-Solver++</p> <p class="" id="1e6451cf-7b79-803f-b892-f7f4c4a2208b">â†’ required 28-50 steps for high-quality samples</p> <p class="" id="1e6451cf-7b79-806e-8a45-d018707854fc"> </p> <p class="" id="1e6451cf-7b79-8015-a23d-d46d8851693a"> í˜„ì¬ : Â <strong>Flow-DPM-Solver</strong></p> <p class="" id="1e6451cf-7b79-8011-88e9-d7e4bc9bfb8c">1.Not predict original data, but velocity</p> <p class="" id="1e6451cf-7b79-8094-ae9d-f9050732e663">2.substituting the scaling factor Î±t with 1 âˆ’ Ïƒt</p> <p class="" id="1e6451cf-7b79-801a-8033-fde7491c65f8">3.time-steps are redefined over the range [0, 1] instead of [1, 1000]</p> <p class="" id="1e6451cf-7b79-80cb-8be1-e320f8d3b905">â†’Generate high-quality samples in 14-20 steps</p> <p class="" id="1e5451cf-7b79-806a-bd87-e21ae51b6fa9"> </p> <p class="" id="1e5451cf-7b79-80e0-bd0f-f95736d6ae1c"> </p> <p class="" id="1e5451cf-7b79-80a0-9e03-d6cb39962f0d"> </p> <h1 class="" id="1e6451cf-7b79-80a9-9d46-f7c599357922">5. Experiments</h1> <h2 class="" id="1e6451cf-7b79-8054-85ef-e51382a8fb29">1. Model Details</h2> <h3 class="" id="1e6451cf-7b79-8019-aa5f-cb30db3bba2c">Sana-0.6B</h3> <li style="list-style-type:disc">íŒŒë¼ë¯¸í„° ìˆ˜: Â <strong>590M</strong></li> <li style="list-style-type:disc">êµ¬ì¡°: Â <strong>DiT-XL</strong> ë° Â <strong>PixArt-Î£</strong>ì™€ ê±°ì˜ ë™ì¼í•œ ë ˆì´ì–´ ìˆ˜ì™€ ì±„ë„ ìˆ˜ ì‚¬ìš©</li> <li style="list-style-type:disc">ëª©ì : ì†Œí˜• ëª¨ë¸ë¡œë„ íš¨ìœ¨ì„±ê³¼ í’ˆì§ˆì„ ë™ì‹œì— í™•ë³´</li> <h3 class="" id="1e6451cf-7b79-8099-ac27-c712a80f2758">Sana-1.6B</h3> <li style="list-style-type:disc">íŒŒë¼ë¯¸í„° ìˆ˜: Â <strong>1.6B</strong></li> <li style="list-style-type:disc">êµ¬ì¡°:<li style="list-style-type:circle">Â <strong>20ê°œì˜ Transformer ë ˆì´ì–´</strong></li><li style="list-style-type:circle">ê° ë ˆì´ì–´ë§ˆë‹¤ Â <strong>2240ê°œì˜ ì±„ë„</strong></li><li style="list-style-type:circle">FFN ë‚´ë¶€ ì±„ë„ ìˆ˜ëŠ” Â <strong>5600</strong></li></li> <li style="list-style-type:disc">ì´ êµ¬ì„±ì€ í•™ìŠµ íš¨ìœ¨ì„±ê³¼ ìƒì„± í’ˆì§ˆ ì‚¬ì´ì˜ ê· í˜•ì„ ê³ ë ¤í•œ ê²ƒì„</li> <p class="" id="1e6451cf-7b79-80a1-9bdc-c7840f63e9df"> </p> <h2 class="" id="1e6451cf-7b79-80eb-94d0-db1f98b81984">2. Evaluation Details</h2> <p class="" id="1e6451cf-7b79-8048-9a9a-cf8bd861ea15">SANAëŠ” ì´ Â <strong>5ê°€ì§€ ëŒ€í‘œì ì¸ í‰ê°€ ì§€í‘œ</strong>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ í‰ê°€í•¨.</p> <table class="simple-table" id="1e6451cf-7b79-80b0-8b7a-c4f3b4a27170"><tbody><tr id="1e6451cf-7b79-8082-8e8b-ef3a667a8a5d"><td class="" id="Mhcv" style="width:266px">ì§€í‘œ</td><td class="" id="wmxf" style="width:415px">ì„¤ëª…</td></tr><tr id="1e6451cf-7b79-80cc-92aa-d4be06f0c402"><td class="" id="Mhcv" style="width:266px">Â <strong>FID (FrÃ©chet Inception Distance)</strong></td><td class="" id="wmxf" style="width:415px">ì´ë¯¸ì§€ í’ˆì§ˆì„ ìˆ˜ì¹˜ë¡œ ì¸¡ì •. ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</td></tr><tr id="1e6451cf-7b79-807b-87e1-dfe7d1e388d7"><td class="" id="Mhcv" style="width:266px">Â <strong>CLIP Score</strong></td><td class="" id="wmxf" style="width:415px">ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ê°„ ì˜ë¯¸ì  ì •ë ¬ ì •ë„ í‰ê°€. ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ</td></tr><tr id="1e6451cf-7b79-803d-8b45-c1d540707549"><td class="" id="Mhcv" style="width:266px">Â <strong>GenEval</strong> (Ghosh et al., 2024)</td><td class="" id="wmxf" style="width:415px">í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ í‰ê°€. ì´ 533ê°œì˜ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©</td></tr><tr id="1e6451cf-7b79-804e-a3dd-fb860ac5b556"><td class="" id="Mhcv" style="width:266px">Â <strong>DPG-Bench</strong> (Hu et al., 2024)</td><td class="" id="wmxf" style="width:415px">í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì •ë°€ë„ í…ŒìŠ¤íŠ¸. 1065ê°œì˜ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©</td></tr><tr id="1e6451cf-7b79-80ba-861c-ec42cb02e2bf"><td class="" id="Mhcv" style="width:266px">Â <strong>ImageReward</strong> (Xu et al., 2024)</td><td class="" id="wmxf" style="width:415px">ì¸ê°„ì˜ ì£¼ê´€ì  ì„ í˜¸ë„ë¥¼ ë°˜ì˜í•œ ì ìˆ˜. 100ê°œ í”„ë¡¬í”„íŠ¸ë¡œ ì¸¡ì •</td></tr></tbody></table> <h2 class="" id="1e6451cf-7b79-8055-96ff-f1858372d0d3">3. í‰ê°€ ë°ì´í„°ì…‹</h2> <li style="list-style-type:disc">Â <strong>MJHQ-30K (Li et al., 2024a)</strong><li style="list-style-type:circle">Midjourneyì—ì„œ ìˆ˜ì§‘í•œ Â <strong>30,000ê°œ ê³ í’ˆì§ˆ ì´ë¯¸ì§€</strong> í¬í•¨</li><li style="list-style-type:circle">FID, CLIP Score ì¸¡ì •ì— ì‚¬ìš©ë¨</li></li> <p class="" id="1e6451cf-7b79-8013-9261-c400f8d75156"> </p> <p class="" id="1e6451cf-7b79-807e-bffa-c3bd8d38d021"> </p> <p class="" id="1e6451cf-7b79-8073-97b9-e661905a16b8"> </p> <figure class="image" id="1e6451cf-7b79-80a1-ab7f-debea7e735cc"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%2012.webp" style="width:2106px"/></picture></figure> <p class="" id="1e6451cf-7b79-803a-aabd-d0693c398975"> </p> <figure class="image" id="1e6451cf-7b79-8068-b7bf-e8694a7eef26"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%2013.webp" style="width:2066px"/></picture></figure> <p class="" id="1e5451cf-7b79-80d7-b735-cf98c5cf027c"> </p> <h1 class="" id="1b2451cf-7b79-80c7-9286-cdd226e72d91">Limitation </h1> <div class="column-list" id="1b4451cf-7b79-8041-9a12-e857f944912f"><div class="column" id="1b4451cf-7b79-8086-b547-df4cad250355" style="width:50%"><figure class="image" id="1b4451cf-7b79-80df-8ac8-e6b0c048fdef"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-05-12-sana/image%2014.webp" style="width:384px"/></picture></figure></div><div class="column" id="1b4451cf-7b79-8029-a1b0-e5670ac40c91" style="width:50%"><p class="" id="1b4451cf-7b79-8091-be4f-e77e937baefd"><a href="https://x.com/cloneofsimo/status/1864309440356470894?s=46">https://x.com/cloneofsimo/status/1864309440356470894?s=46</a></p><p class="" id="1b4451cf-7b79-80ea-80cf-def1f0eca2b0">ì½”ë“œê°€ ì „ë°˜ì ìœ¼ë¡œ NVIDIAì¹©ë§Œì„ ìœ„í•´ ì„¤ê³„ë˜ì–´</p><p class="" id="1b4451cf-7b79-80d5-86d5-e8b9b61541b8">ë‹¤ë¥¸ GPU ì¥ë¹„ëŠ” ë¬¼ë¡ ì´ê³ ,</p><p class="" id="1b4451cf-7b79-8017-b4b9-f4b9b6596a9e">Mobile Deviceì—ì„œëŠ” ë‹¹ì—°íˆ ë¶ˆê°€ëŠ¥í•¨.</p><p class="" id="1e1451cf-7b79-8060-991b-d4e643bec45e"> </p><p class="" id="1e1451cf-7b79-806a-9a6e-d51a61ba56ab">ì•„ë¬´ë˜ë„ NVIDIAì—ì„œ ë‚¸ ë…¼ë¬¸ì´ê¸° ë•Œë¬¸ì— Blackwell chip í™ë³´ ê²¸ NVIDIA chipì—ì„œë§Œ ê°€ëŠ¥í•˜ë„ë¡ í•œë“¯.</p><p class="" id="1b4451cf-7b79-8027-a7db-c8f0b55f4d83"> </p></div></div> <p class="" id="1e6451cf-7b79-80a2-b6c4-c6e8aa0fa870"> </p> <p class="" id="1e6451cf-7b79-80ea-aa53-c9c054e1998c"> </p> <p><span class="sans" style="font-size:14px;padding-top:2em"></span></p>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2410.10629Project Pagehttps://nvlabs.github.io/Sana/Github Codehttps://github.com/NVlabs/SanaAffiliationNVIDIA, MIT, Tsinghua University ğŸ’¡Â Key DifferentiatorEfficient Linear DiT designReLU ê¸°ë°˜ Linear Attention ë„ì…Mix-FFN BlockDeep Compression Autoencoderâ†’ ì´ë¡œ ì¸í•œ 32ë°° ì••ì¶• ê°€ëŠ¥ìœ¼ë¡œ ì—°ì‚°ë„ ë¹¨ë¼ì§]]></summary></entry><entry><title type="html">ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ ìŠ¤í‚µ</title><link href="https://hoonably.github.io/blog/lab-safety/" rel="alternate" type="text/html" title="ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ ìŠ¤í‚µ"/><published>2025-04-04T07:25:31+00:00</published><updated>2025-04-04T07:25:31+00:00</updated><id>https://hoonably.github.io/blog/lab-safety</id><content type="html" xml:base="https://hoonably.github.io/blog/lab-safety/"><![CDATA[<p>êµ­ê°€ ëˆë‚­ë¹„ ì¤‘ í•˜ë‚˜ì¸ ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ì„ ì•„ë§ˆ ë§¤í•™ê¸° í•´ì•¼í•˜ëŠ”ë° ì •ë§ ê·€ì°®ë‹¤.<br/> íŠ¹íˆ ì»´ê³µì€ ì •ë§ ì“¸ë°ì—†ëŠ” ë“¯ í•˜ë‹¤. ì•Œ ì‚¬ëŒì€ ì•Œì§€ë§Œ ìŠ¤í‚µí•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.</p> <h3 id="1-ë™ì˜ìƒ-í‹€ê¸°">1. ë™ì˜ìƒ í‹€ê¸°</h3> <p>í‰ì†Œì²˜ëŸ¼ ë™ì˜ìƒì„ ì¬ìƒí•œë‹¤.</p> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h3 id="2-ê°œë°œì-ëª¨ë“œ-ì§„ì…">2. ê°œë°œì ëª¨ë“œ ì§„ì…</h3> <p>Window : <code class="language-plaintext highlighter-rouge">F12</code></p> <p>Mac : <code class="language-plaintext highlighter-rouge">cmd+opt+I</code></p> <h3 id="3-console-ì°½-ì§„ì…">3. Console ì°½ ì§„ì…</h3> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%201.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h3 id="4-ë™ì˜ìƒ-ë°”ë¡œ-ì¢…ë£Œ">4. ë™ì˜ìƒ ë°”ë¡œ ì¢…ë£Œ</h3> <p>ProgressCheckë¡œ ë™ì˜ìƒì„ ëª¨ë‘ ìˆ˜ê°•í•œê²ƒìœ¼ë¡œ ì²´í¬í•  ìˆ˜ ìˆë‹¤.</p> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">progressCheck</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</code></pre></div></div> <p>ì´ ë‚´ìš©ì„ Console(ì½˜ì†”) ì°½ì— ë¶™ì—¬ë„£ê¸° í•˜ê³  <code class="language-plaintext highlighter-rouge">Enter</code> ëˆ„ë¥´ë©´ ëœë‹¤.</p> <details> <summary>Consoleì— ë¶™ì—¬ë„£ê¸°ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ëœ¬ë‹¤ë©´?</summary> <code>allow pasting</code> ì„ ì§ì ‘ ì˜ì–´ë¡œ ì…ë ¥ í›„ Enter </details> <p><br/></p> <details> <summary>ìœ„ ë°©ë²•ì´ ì•ˆëœë‹¤ë©´?</summary> <code>document.querySelector('video').currentTime += 6000;</code> -&gt; 6000ì´ˆ ê±´ë„ˆë›°ê¸° <br/> <code>document.querySelector('video').playbackRate = 16;</code> -&gt; 16ë°°ì† </details> <h3 id="5-í€´ì¦ˆ-ì •ë‹µ-ìë™-ì²´í¬">5. í€´ì¦ˆ ì •ë‹µ ìë™ ì²´í¬</h3> <p>ì‚¬ì‹¤ ê·¸ëƒ¥ ë“œë˜ê·¸í•´ì„œ GPTí•œí…Œ ê¸ì–´ë„ ê¸°ì¤€ì ìˆ˜ëŠ” ë¬´ì¡°ê±´ ë„˜ëŠ”ë‹¤.</p> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
  <span class="nx">answer</span> <span class="o">=</span> <span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#qustionCorrectNo_</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">i</span><span class="p">).</span><span class="nf">val</span><span class="p">();</span>
  <span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">input[name='qustionAnswerList[</span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">].Answer']:radio[value=</span><span class="dl">"</span><span class="o">+</span><span class="nx">answer</span><span class="o">+</span><span class="dl">"</span><span class="s2">]</span><span class="dl">"</span><span class="p">).</span><span class="nf">attr</span><span class="p">(</span><span class="dl">"</span><span class="s2">checked</span><span class="dl">"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%202.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%203.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h3 id="ë">ë</h3> <figure> <picture> <img src="/files/2025-04-04-lab-safety/image%204.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure>]]></content><author><name></name></author><category term="Tip"/><summary type="html"><![CDATA[êµ­ê°€ ëˆë‚­ë¹„ ì¤‘ í•˜ë‚˜ì¸ ì—°êµ¬ì‹¤ ì•ˆì „êµìœ¡ì„ ì•„ë§ˆ ë§¤í•™ê¸° í•´ì•¼í•˜ëŠ”ë° ì •ë§ ê·€ì°®ë‹¤. íŠ¹íˆ ì»´ê³µì€ ì •ë§ ì“¸ë°ì—†ëŠ” ë“¯ í•˜ë‹¤. ì•Œ ì‚¬ëŒì€ ì•Œì§€ë§Œ ìŠ¤í‚µí•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.]]></summary></entry><entry><title type="html">Pintos Setting</title><link href="https://hoonably.github.io/blog/pintos-setting/" rel="alternate" type="text/html" title="Pintos Setting"/><published>2025-03-20T07:26:04+00:00</published><updated>2025-03-20T07:26:04+00:00</updated><id>https://hoonably.github.io/blog/pintos-setting</id><content type="html" xml:base="https://hoonably.github.io/blog/pintos-setting/"><![CDATA[<p>ë©”ëª¨: docker start -ai pintos</p> <blockquote> <p>Welcome to Pintos. Pintos is a simple operating system framework for the 80x86 architecture.</p> </blockquote> <h1 id="docker-build">Docker Build</h1> <p><a href="https://github.com/NamJeongseok/PintOS-Docker-UNIST">https://github.com/NamJeongseok/PintOS-Docker-UNIST</a></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM ubuntu:12.04

RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/archive.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/sources.list
RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/security.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/sources.list

RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\</span>
	bash <span class="se">\</span>
	vim <span class="se">\</span>
	build-essential <span class="se">\</span>
	gcc-4.4 <span class="se">\</span>
	gcc-multilib <span class="se">\</span>
	g++-4.4 <span class="se">\</span>
	perl <span class="se">\</span>
	wget <span class="se">\</span>
	patch <span class="se">\</span>
	libncurses5-dev <span class="se">\</span>
	libx11-dev libxrandr-dev xorg-dev <span class="se">\</span>
	make

RUN <span class="nb">mv</span> /usr/bin/gcc-4.4 /usr/bin/gcc
RUN <span class="nb">mv</span> /usr/bin/g++-4.4 /usr/bin/g++
COPY ./bochs-2.2.6.tar.gz /root/
RUN <span class="nb">mkdir</span> /root/pintos 
RUN <span class="nb">echo</span> <span class="s1">'export PATH="$PATH:/root/pintos/src/utils"'</span> <span class="o">&gt;&gt;</span> ~/.bashrc

CMD <span class="o">[</span><span class="s2">"/bin/bash"</span><span class="o">]</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:NamJeongseok/PintOS-Docker-UNIST.git
<span class="nb">cd </span>PintOS-Docker-UNIST
</code></pre></div></div> <ul> <li>amd64 (x86_64) (Window)</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>docker build <span class="nt">-t</span> pintos <span class="nb">.</span>
</code></pre></div></div> <ul> <li>ARM64 (Silicon Mac)</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">--platform</span><span class="o">=</span>linux/amd64 <span class="nt">-t</span> pintos <span class="nb">.</span>
</code></pre></div></div> <h1 id="error">Error</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ  PintOS-Docker-UNIST git:<span class="o">(</span>main<span class="o">)</span> <span class="nb">sudo </span>docker build <span class="nt">-t</span> pintos <span class="nb">.</span>                  
Password:
<span class="o">[</span>+] Building 1.8s <span class="o">(</span>9/14<span class="o">)</span>                                                          docker:desktop-linux
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load build definition from Dockerfile                                              0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring dockerfile: 696B                                                              0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load metadata <span class="k">for </span>docker.io/library/ubuntu:12.04                                   1.5s
 <span class="o">=&gt;</span> <span class="o">[</span>auth] library/ubuntu:pull token <span class="k">for </span>registry-1.docker.io                                     0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load .dockerignore                                                                 0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring context: 2B                                                                   0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>1/9] FROM docker.io/library/ubuntu:12.04@sha256:18305429afa14ea462f810146ba44d4363ae76e4c8d  0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> resolve docker.io/library/ubuntu:12.04@sha256:18305429afa14ea462f810146ba44d4363ae76e4c8d  0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load build context                                                                 0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring context: 42B                                                                  0.0s
 <span class="o">=&gt;</span> CACHED <span class="o">[</span>2/9] RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/archive.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/sources  0.0s
 <span class="o">=&gt;</span> CACHED <span class="o">[</span>3/9] RUN <span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/security.ubuntu.com/old-releases.ubuntu.com/g'</span> /etc/apt/source  0.0s
 <span class="o">=&gt;</span> ERROR <span class="o">[</span>4/9] RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span>  bash  vim  build-essential  gcc-4.4  g  0.2s
<span class="nt">------</span>                                                                                                 
 <span class="o">&gt;</span> <span class="o">[</span>4/9] RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> 	bash 	vim 	build-essential 	gcc-4.4 	gcc-multilib 	g++-4.4 	perl 	wget 	patch 	libncurses5-dev 	libx11-dev libxrandr-dev xorg-dev 	make:
0.202 qemu: uncaught target signal 11 <span class="o">(</span>Segmentation fault<span class="o">)</span> - core dumped
0.206 E: Method http has died unexpectedly!
0.207 E: Sub-process http received a segmentation fault.
<span class="nt">------</span>

 1 warning found <span class="o">(</span>use docker <span class="nt">--debug</span> to <span class="nb">expand</span><span class="o">)</span>:
 - InvalidBaseImagePlatform: Base image ubuntu:12.04 was pulled with platform <span class="s2">"linux/amd64"</span>, expected <span class="s2">"linux/arm64"</span> <span class="k">for </span>current build <span class="o">(</span>line 1<span class="o">)</span>
Dockerfile:6
<span class="nt">--------------------</span>
   5 |     
   6 | <span class="o">&gt;&gt;&gt;</span> RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\</span>
   7 | <span class="o">&gt;&gt;&gt;</span> 	bash <span class="se">\</span>
   8 | <span class="o">&gt;&gt;&gt;</span> 	vim <span class="se">\</span>
   9 | <span class="o">&gt;&gt;&gt;</span> 	build-essential <span class="se">\</span>
  10 | <span class="o">&gt;&gt;&gt;</span> 	gcc-4.4 <span class="se">\</span>
  11 | <span class="o">&gt;&gt;&gt;</span> 	gcc-multilib <span class="se">\</span>
  12 | <span class="o">&gt;&gt;&gt;</span> 	g++-4.4 <span class="se">\</span>
  13 | <span class="o">&gt;&gt;&gt;</span> 	perl <span class="se">\</span>
  14 | <span class="o">&gt;&gt;&gt;</span> 	wget <span class="se">\</span>
  15 | <span class="o">&gt;&gt;&gt;</span> 	patch <span class="se">\</span>
  16 | <span class="o">&gt;&gt;&gt;</span> 	libncurses5-dev <span class="se">\</span>
  17 | <span class="o">&gt;&gt;&gt;</span> 	libx11-dev libxrandr-dev xorg-dev <span class="se">\</span>
  18 | <span class="o">&gt;&gt;&gt;</span> 	make
  19 |     
<span class="nt">--------------------</span>
ERROR: failed to solve: process <span class="s2">"/bin/sh -c apt-get update &amp;&amp; apt-get install -y </span><span class="se">\t</span><span class="s2">bash </span><span class="se">\t</span><span class="s2">vim </span><span class="se">\t</span><span class="s2">build-essential </span><span class="se">\t</span><span class="s2">gcc-4.4 </span><span class="se">\t</span><span class="s2">gcc-multilib </span><span class="se">\t</span><span class="s2">g++-4.4 </span><span class="se">\t</span><span class="s2">perl </span><span class="se">\t</span><span class="s2">wget </span><span class="se">\t</span><span class="s2">patch </span><span class="se">\t</span><span class="s2">libncurses5-dev </span><span class="se">\t</span><span class="s2">libx11-dev libxrandr-dev xorg-dev </span><span class="se">\t</span><span class="s2">make"</span> did not <span class="nb">complete </span>successfully: <span class="nb">exit </span>code: 100

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/307xpyqphklv4cd5fc8tmb1eg
</code></pre></div></div> <h3 id="rosetta-í‚¤ê¸°">Rosetta í‚¤ê¸°</h3> <p>ë‚´ê°€ ì „ì— í•€í† ìŠ¤ ë¯¸ë¦¬ í•´ë³´ë ¤ê³  ë¸”ë¡œê·¸ ì°¾ì•„ë³´ë‹¤ê°€ ì´ ì„¤ì •ì„ êº¼ì•¼ x86ìœ¼ë¡œ í™•ì‹¤í•˜ê²Œ ëŒì•„ê°„ë‹¤ê³  í•´ì„œ êº¼ë†¨ì—ˆëŠ”ë°, ì´ê±° í‚¤ë‹ˆê¹Œ ì˜ ëœë‹¤.</p> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì´ì „ì— í•€í† ìŠ¤ ë¯¸ë¦¬ í•´ë³´ë ¤ê³  í• ë•Œ, ì–´ë–¤ ë¸”ë¡œê·¸ ë³´ê³ </p> <p>ì €ê±¸ êº¼ì•¼ x86ìœ¼ë¡œ ì •í™•íˆ ì‘ë™í•œë‹¤ê³  í•´ì„œ êº¼ë†¨ì—ˆëŠ”ë°, ì´ê²Œ ë¬¸ì œì˜€ë‹¤.</p> <blockquote> <p>Dockerì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">--platform=linux/amd64</code> ì˜µì…˜ìœ¼ë¡œ x86 ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•  ë•Œ, ë‚´ë¶€ì ìœ¼ë¡œ QEMUë¥¼ ì´ìš©í•´ ì—ë®¬ë ˆì´ì…˜í•¨.</p> <p>ì´ë•Œ Rosettaë¥¼ í™œì„±í™”í•˜ë©´ QEMUê°€ ë” ì•ˆì •ì ì´ê³  ë¹ ë¥´ê²Œ ë™ì‘í•¨. íŠ¹íˆ ì˜¤ë˜ëœ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€(Ubuntu 12.04 ê°™ì€ ê±°)ì—ì„œ apt-getì´ ì£½ê±°ë‚˜ ì„¸ê·¸í´íŠ¸ ë‚˜ëŠ” ê²½ìš°, ëŒ€ë¶€ë¶„ Rosetta êº¼ì ¸ ìˆì–´ì„œ ìƒê¸°ëŠ” ë¬¸ì œì„.</p> </blockquote> <h3 id="ë¹Œë“œ-ì„±ê³µ">ë¹Œë“œ ì„±ê³µ</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">--platform</span><span class="o">=</span>linux/amd64 <span class="nt">-t</span> pintos <span class="nb">.</span>
</code></pre></div></div> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%201.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="start">Start</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget <span class="o">[</span>http://www.stanford.edu/class/cs140/projects/pintos/pintos.tar.gz]<span class="o">(</span>http://www.stanford.edu/class/cs140/projects/pintos/pintos.tar.gz<span class="o">)</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>xvf pintos.tar.
</code></pre></div></div> <h3 id="íŒŒì¼-ê¶Œí•œ-ì—ëŸ¬-í•´ê²°">íŒŒì¼ ê¶Œí•œ ì—ëŸ¬ í•´ê²°</h3> <p>ì§„ì§œ ì´ê±°ë•Œë¬¸ì— ê°œê³ ìƒí–ˆìŒâ€¦</p> <p>Stanfordì—ì„œ ë°›ì€ íŒŒì¼ì´ ê¶Œí•œì´ ì—†ëŠ” ì±„ë¡œ ì£¼ëŠ”ë°,</p> <p>ìœˆë„ìš°ì—ì„œëŠ” ì›ë˜ ìƒê´€ì´ ì—†ì–´ì„œ ê´œì°®ì€ë°,</p> <p>ë§¥ì—ì„œëŠ” ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œì±„ë¡œ ì••ì¶•ì´ í’€ì–´ì ¸ì„œ ë¬¸ì œê°€ ë°œìƒí•¨.</p> <p>ê·¼ë° ì´ê²Œ ë˜ ì´ ìƒíƒœë¡œ Dockerë¡œ ì˜®ê²¨ì„œ ê·¸ëƒ¥ Permission Denied í•´ë²„ë¦¬ë‹ˆê¹Œ</p> <p>ì´ê²Œ ë„ëŒ€ì²´ ì™œ ê·¸ëŸ°ì§€ GPT ì¨ë„ ì˜ ëª°ëìŒ.</p> <p>Docker ë„˜ì–´ê°€ê¸° ì „ë¶€í„° ì›ë³¸ íŒŒì¼ ê¶Œí•œì´ ë¶€ì¡±í•´ì„œ ê·¸ëŸ°ê±´ë° Docker íŒŒì¼ ê³µìœ  ë°©ì‹ë•Œë¬¸ì¸ì¤„ì•Œê³  ì‚½ì§ˆí•¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xattr <span class="nt">-rc</span> pintos/
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> <span class="nt">-R</span> u+rwX,go+rX pintos/
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find pintos/ <span class="nt">-type</span> f <span class="nt">-exec</span> <span class="nb">ls</span> <span class="nt">-l</span> <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></div> <p>ìœ„ ëª…ë ¹ì–´ í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ file permissionì´ ëœ¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-rw-r--r--</span>@ 1 hoon  staff  333  9 27  2012 pintos//src/Makefile.kernel
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  1486  9 27  2012 pintos//src/misc/bochs-2.2.6-build.sh
<span class="nt">-rw-r--r--</span>@ 1 hoon  staff  511  9 27  2012 pintos//src/misc/bochs-2.2.6-solaris-link.patch
</code></pre></div></div> <p>ì—¬ê¸° ë³´ë©´ ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ (.sh) íŒŒì¼ ë“±ì— x í‘œì‹œê°€ ìƒê¸¸ê²ƒì„.</p> <p>ë˜ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ë§Œ ê¶Œí•œ ë³´ë ¤ë©´</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find pintos/ <span class="nt">-type</span> f <span class="nt">-perm</span> <span class="nt">-111</span> <span class="nt">-exec</span> <span class="nb">ls</span> <span class="nt">-l</span> <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></div> <p>ì•„ë˜ì²˜ëŸ¼ ëë‹¤ë©´ ì„±ê³µ</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  1486  9 27  2012 pintos//src/misc/bochs-2.2.6-build.sh
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  4096  9 27  2012 pintos//src/tests/make-grade
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  2951  9 27  2012 pintos//src/utils/backtrace
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  4563  9 27  2012 pintos//src/utils/pintos-mkdisk
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  429  9 27  2012 pintos//src/utils/pintos-gdb
<span class="nt">-rwxr-xr-x</span>@ 1 hoon  staff  29821  9 27  2012 pintos//src/utils/pintos
</code></pre></div></div> <h3 id="ì»¨í…Œì´ë„ˆ-ë“¤ì–´ê°€ê¸°-ì „ì—-ë¡œì»¬ì—ì„œ-í¸í•˜ê²Œ-bochs-íŒŒì¼-ìˆ˜ì •">ì»¨í…Œì´ë„ˆ ë“¤ì–´ê°€ê¸° ì „ì— ë¡œì»¬ì—ì„œ í¸í•˜ê²Œ <code class="language-plaintext highlighter-rouge">bochs</code> íŒŒì¼ ìˆ˜ì •</h3> <p><code class="language-plaintext highlighter-rouge">pintos/src/misc/bochs-2.2.6-build.sh</code></p> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%202.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <ul> <li>ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">CFGOPTS</span><span class="o">=</span><span class="s2">"--enable-cpu-level=6 --with-x --with-x11 --with-term --with-nogui --prefix=</span><span class="nv">$DSTDIR</span><span class="s2">"</span>
</code></pre></div></div> <h1 id="docker-run">docker run</h1> <p>ë“œë””ì–´ ì œëŒ€ë¡œ ì‹¤í–‰í•´ë³´ì.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--platform</span><span class="o">=</span>linux/amd64 <span class="nt">-it</span> <span class="nt">-p</span> 80:80 <span class="se">\</span>
	<span class="nt">-v</span> /Users/hoon/github/os20201118_20201032/pintos:/root/pintos <span class="se">\</span>
	<span class="nt">--name</span> pintos pintos
</code></pre></div></div> <h1 id="boch-266-ì„¤ì¹˜">boch 2.6.6 ì„¤ì¹˜</h1> <ul> <li> <p>ìœ„ì—ì„œ VSCodeë¡œ bochs ìˆ˜ì • ì•ˆí–ˆë‹¤ë©´</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd </span>pintos/src/misc
</code></pre></div> </div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  vi bochs-2.2.6-build.sh
</code></pre></div> </div> <blockquote> <p>i : ìˆ˜ì • ëª¨ë“œ ìˆ˜ì •â€¦ ESC : ìˆ˜ì • ëª¨ë“œ ë‚˜ê°€ê¸° :wq : ì €ì¥ í›„ ì¢…ë£Œ</p> <ul> <li>ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •</li> </ul> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">CFGOPTS</span><span class="o">=</span><span class="s2">"--enable-cpu-level=6 --with-x --with-x11 --with-term --with-nogui --prefix=</span><span class="nv">$DSTDIR</span><span class="s2">"</span>
</code></pre></div> </div> </li> </ul> <blockquote class="block-warning"> <p>ğŸ“¢ ë§Œì•½ Containerë¥¼ ì‚­ì œí•´ì„œ ë‹¤ì‹œ Runí•œë‹¤ë©´ ì´ ê³¼ì •ì„ ë‹¤ì‹œ í•´ì¤˜ì•¼í•œë‹¤.</p> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /root/pintos/src/misc
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">env </span><span class="nv">SRCDIR</span><span class="o">=</span>/root/ <span class="nv">PINTOSDIR</span><span class="o">=</span>/root/pintos/ <span class="nv">DSTDIR</span><span class="o">=</span>/usr/local ./bochs-2.2.6-build.sh
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>which bochs
bochs <span class="nt">-v</span>
</code></pre></div></div> <h1 id="test">Test</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /root/pintos/src/threads
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>build
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pintos <span class="nt">-q</span> run alarm-multiple
</code></pre></div></div> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%203.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="github-repo-ìƒì„±">github repo ìƒì„±</h1> <p><a href="https://github.com/hoonably/os20201118_20201032">[https://github.com/hoonably/os20201118_20201032](https://github.com/hoonably/os20201118_20201032)</a></p> <h1 id="rootpintossrc-ì—ì„œ-ì‹œì‘í•˜ê¸°">root/pintos/src ì—ì„œ ì‹œì‘í•˜ê¸°</h1> <p>í• ë•Œë§ˆë‹¤ root í´ë”ì—ì„œ ì‹œì‘í•˜ëŠ”ë°©ë²•</p> <p>í•œë²ˆ ì³ì£¼ë©´ í•­ìƒ ì ìš©ë¨.</p> <p>ë„ì»¤íŒŒì¼ì— ë‹¤ìŒ ì¤„ì„ ë„£ì–´ë„ ë˜ê¸´ í•¨.</p> <div class="language-docker highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WORKDIR</span><span class="s"> /root/pintos/src</span>
</code></pre></div></div> <p>ê·¼ë° ì´ë¯¸ ë¹Œë“œí–ˆìœ¼ë‹ˆ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì¹˜ë©´ ë¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'cd /root/pintos/src'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</code></pre></div></div> <ul> <li> <p>ì´í›„ bashrc ìƒí™©</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cat</span> ~/.bashrc
</code></pre></div> </div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ... ë§¨ ì•„ë˜ì¤„ì— ë‹¤ìŒ ë‘ì¤„ì´ ìˆìœ¼ë©´ ì„±ê³µ
  <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:/root/pintos/src/utils"</span>
  <span class="nb">cd</span> /root/pintos/src
    
</code></pre></div> </div> </li> </ul> <h1 id="í•œë²ˆ-run-ì´í›„-container-ì‹œì‘">í•œë²ˆ Run ì´í›„ Container ì‹œì‘</h1> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%204.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì»¨í…Œì´ë„ˆì—ì„œ <code class="language-plaintext highlighter-rouge">exit</code> ë¥¼ í–ˆë‹¤ë©´,</p> <p>ìœ„ì²˜ëŸ¼ ContainerëŠ” ë‚¨ì•„ìˆê³ , ì¤‘ì§€ë˜ì–´ìˆì„ ê²ƒì´ë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start <span class="nt">-ai</span> pintos
</code></pre></div></div> <p>ë‚˜ì¤‘ì— ë˜ ê°™ì€ ë°©ì‹ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">exit</code> í•˜ê³  ë°˜ë³µí•˜ë©´ ëœë‹¤.</p> <h1 id="branch">Branch</h1> <h2 id="ë¸Œëœì¹˜-ìƒì„±">ë¸Œëœì¹˜ ìƒì„±</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> <span class="o">[</span>your-branch-name]
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> feat/alarm-clock
</code></pre></div></div> <hr/> <h3 id="-ë§Œë“ -ë¸Œëœì¹˜ë¥¼-githubì—-í‘¸ì‹œ">ğŸ“¤ ë§Œë“  ë¸Œëœì¹˜ë¥¼ GitHubì— í‘¸ì‹œ</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin <span class="o">[</span>your-branch-name]
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin feat/alarm-clock
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">u</code> ì˜µì…˜ì€ ì´í›„ <code class="language-plaintext highlighter-rouge">git push</code>/<code class="language-plaintext highlighter-rouge">pull</code> ì‹œ ë¸Œëœì¹˜ ì´ë¦„ ìƒëµ ê°€ëŠ¥í•˜ê²Œ ì—°ê²°í•´ì¤Œ</li> <li> <p>ë‹¤ìŒë¶€í„° ê·¸ëƒ¥ push í•´ë„ ë¨.</p> </li> <li> <p>ì™œ <code class="language-plaintext highlighter-rouge">feat/</code> ë¥¼ ì“°ëŠ”ê°€?</p> <p>âœ… ë¸Œëœì¹˜ ì´ë¦„ íŒ¨í„´</p> <table> <thead> <tr> <th>Prefix</th> <th>ì˜ë¯¸</th> <th>ì˜ˆì‹œ ë¸Œëœì¹˜ëª…</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">feat/</code></td> <td>ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€</td> <td><code class="language-plaintext highlighter-rouge">feat/alarm-clock</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">fix/</code></td> <td>ë²„ê·¸ ìˆ˜ì •</td> <td><code class="language-plaintext highlighter-rouge">fix/overflow-bug</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">refactor/</code></td> <td>ì½”ë“œ ë¦¬íŒ©í† ë§ (ê¸°ëŠ¥ ë³€í™” X)</td> <td><code class="language-plaintext highlighter-rouge">refactor/thread-init</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">test/</code></td> <td>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •</td> <td><code class="language-plaintext highlighter-rouge">test/userprog-tests</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">doc/</code></td> <td>ë¬¸ì„œ, README ìˆ˜ì •</td> <td><code class="language-plaintext highlighter-rouge">doc/setup-instructions</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">chore/</code></td> <td>ë¹Œë“œ, ì„¤ì • ë³€ê²½ ë“± ì¡ì¼</td> <td><code class="language-plaintext highlighter-rouge">chore/dockerfile-update</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">hotfix/</code></td> <td>ê¸‰í•œ ë²„ê·¸ ìˆ˜ì • (ë°°í¬ í›„)</td> <td><code class="language-plaintext highlighter-rouge">hotfix/build-crash</code></td> </tr> </tbody> </table> <hr/> <p>âœ… ì™œ ì´ë ‡ê²Œ ì“°ë‚˜?</p> <ul> <li>í˜‘ì—… ì¤‘ì— ë¸Œëœì¹˜ê°€ ë§ì•„ì§ˆ ë•Œ â†’ <strong>ì´ë¦„ë§Œ ë³´ê³  ìš©ë„ íŒŒì•… ê°€ëŠ¥</strong></li> <li>GitHub Pull Requestì—ì„œ <strong>ìë™ ì •ë ¬ì´ë‚˜ í•„í„°ë„ í¸ë¦¬í•¨</strong></li> <li>íŒ€ ë‚´ë¶€ì—ì„œ <strong>ì¼ê´€ëœ ìŠ¤íƒ€ì¼ ìœ ì§€ ê°€ëŠ¥</strong></li> <li>ì¼ë¶€ ìë™í™” ë„êµ¬(CI/CD, Release notes)ì™€ë„ ì˜ í˜¸í™˜ë¨</li> </ul> </li> <li>VSCodeì—ì„œ í•œë‹¤ë©´ ì´ë ‡ê²Œ ì»¤ë°‹ ì–´ë””ì— í•˜ëŠ”ê±´ì§€ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆìŒ</li> </ul> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%205.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="github-pull-ì´í›„-error">Github Pull ì´í›„ Error</h1> <p>ì´ê±´ ë§¥ì—ì„œ ë°œìƒí•œ ê²ƒì€ ì•„ë‹ˆê³ , íŒ€ì› ìœˆë„ìš°ì—ì„œ git pull í•´ì˜¨ í›„ .sh íŒŒì¼ì„ ì‹¤í–‰í–ˆì„ ë•Œ ë‚˜ëŠ” ë¬¸ì œë‹¤.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@04fedab3f530:~/pintos/src/misc# <span class="nb">env </span><span class="nv">SRCDIR</span><span class="o">=</span>/root/ <span class="nv">PINTOSDIR</span><span class="o">=</span>/root/pintos/ <span class="nv">DSTDIR</span><span class="o">=</span>/usr/local bash ./bochs-2.2.6-build.sh

./bochs-2.2.6-build.sh: line 2: <span class="s1">$'</span><span class="se">\r</span><span class="s1">'</span>: <span class="nb">command </span>not found
./bochs-2.2.6-build.sh: line 41: syntax error: unexpected end of file
</code></pre></div></div> <ol> <li> <p><strong><code class="language-plaintext highlighter-rouge">$'\r': command not found</code></strong></p> <p>ì´ ë©”ì‹œì§€ëŠ” íŒŒì¼ì´ <strong>Windows ìŠ¤íƒ€ì¼ ì¤„ë°”ê¿ˆ (CRLF)</strong> ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆì–´ì„œ ë°œìƒí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìœ ë‹‰ìŠ¤/ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” <strong>LF (\n)</strong> ì¤„ë°”ê¿ˆë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë¯€ë¡œ, ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¦¬ëˆ…ìŠ¤ì—ì„œ ì§ì ‘ ì‹¤í–‰ë˜ê¸° ì „ì— í¬ë§·ì„ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.</p> </li> <li> <p><strong><code class="language-plaintext highlighter-rouge">syntax error: unexpected end of file</code></strong></p> <p>ì¤„ë°”ê¿ˆ ë¬¸ì œë¡œ ì¸í•´ ì‰˜ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ êµ¬ì¡°ë¥¼ ì œëŒ€ë¡œ í•´ì„í•˜ì§€ ëª»í•´ ëë¶€ë¶„ì—ì„œ ë¬¸ë²• ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì…ë‹ˆë‹¤.</p> </li> </ol> <ul> <li>ìœˆë„ìš°ì—ì„œ gitì„ ì„¤ì¹˜í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ ì„¤ì •ì¸ë°, ì´ê²Œ ë¬¸ì œë‹¤.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>core.autocrlf<span class="o">=</span><span class="nb">true</span>
</code></pre></div></div> <p>ì´ ì„¤ì •ì€:</p> <ul> <li><strong>clone/pull í•  ë•Œ â†’ CRLFë¡œ ë³€í™˜</strong></li> <li>commit/push í•  ë•Œ â†’ LFë¡œ ë˜ëŒë¦¼</li> </ul> <p>ì¦‰, ì¹œêµ¬ê°€ pullí•  ë•Œ <code class="language-plaintext highlighter-rouge">.sh</code> íŒŒì¼ì´ CRLFë¡œ ë°”ë€Œì–´ë²„ë¦° ê²ƒì´ë‹¤.</p> <p>Docker ìš°ë¶„íˆ¬ ì»¨í…Œì´ë„ˆëŠ” ë¦¬ëˆ…ìŠ¤ë‹ˆê¹Œ CRLF í•´ì„ ëª» í•¨ â†’ ì—ëŸ¬ ë°œìƒ</p> <h3 id="í•´ê²°ë°©ë²•-ï¸">í•´ê²°ë°©ë²• â­ï¸</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf  <span class="c"># í˜„ì¬ ì„¤ì • í™•ì¸</span>
</code></pre></div></div> <table> <thead> <tr> <th>ê²°ê³¼</th> <th>ì˜ë¯¸</th> <th>Â </th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">true</code></td> <td>ìœˆë„ìš°ìš©: pullí•  ë•Œ CRLF, pushí•  ë•Œ LF</td> <td>Â </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">input</code></td> <td>ë§¥/ë¦¬ëˆ…ìŠ¤ìš©: pullí•  ë•Œ LF ìœ ì§€, pushí•  ë•Œ LF</td> <td>Â </td> </tr> <tr> <td>(ì•„ë¬´ê²ƒë„ ì—†ìŒ)</td> <td>ê¸°ë³¸ê°’ ì‚¬ìš© ì¤‘ (ë³´í†µ OSì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì‘ë™)</td> <td><br/>- <code class="language-plaintext highlighter-rouge">input</code> ìœ¼ë¡œ ë³€ê²½í•˜ê¸°</td> </tr> </tbody> </table> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf input
</code></pre></div></div> <h3 id="ì´ë¯¸-ë°›ì€-íŒŒì¼-ê³ ì¹˜ê¸°">ì´ë¯¸ ë°›ì€ íŒŒì¼ ê³ ì¹˜ê¸°</h3> <p>ê·¸ëƒ¥ ì§ì ‘ ì¤„ë°”ê¿ˆ ìŠ¤íƒ€ì¼ì„ ë°”ê¿”ì£¼ëŠ”ê±°ë‹¤.</p> <p>ê·¼ë° .shíŒŒì¼ ë‹¤ë¥¸ê²ƒë„ ë§ê³  ì´ê±´ ê·¸ëƒ¥ ì„ì‹œë°©í¸ì´ë‹ˆ ë‹¤ì‹œ pullí•˜ëŠ”ê±¸ ì¶”ì²œ.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/\r$//'</span> bochs-2.2.6-build.sh
</code></pre></div></div> <h1 id="ff">FF?</h1> <p>VSCodeë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ FFê°€ ë“¤ì–´ê°„ ì‹ ê¸°í•œ ë¬¸ìê°€ ìˆë‹¤.</p> <figure> <picture> <img src="/files/2025-03-20-pintos-setting/image%206.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>ì´ <code class="language-plaintext highlighter-rouge">FF</code>ëŠ” <strong>Form Feed (ì¤„ ë°”ê¿ˆ ëª…ë ¹ ì¤‘ í•˜ë‚˜)</strong></p> <p>ASCII ì½”ë“œë¡œëŠ” <code class="language-plaintext highlighter-rouge">0x0C</code> (ë˜ëŠ” <code class="language-plaintext highlighter-rouge">^L</code>) ì´ê³ ,</p> <p>í„°ë¯¸ë„ì—ì„œëŠ” <strong>í˜ì´ì§€ ë„˜ê¹€</strong> ì—­í• ì„ í•˜ë˜ ì˜ˆì „ ë¬¸ì</p> <hr/> <ul> <li>ì˜ˆì „ êµì¬/ì—ë””í„°ì—ì„œ ë³µë¶™í•œ ì½”ë“œ</li> <li>ëˆ„êµ°ê°€ <code class="language-plaintext highlighter-rouge">.c</code> íŒŒì¼ì— <code class="language-plaintext highlighter-rouge">^L</code> ë„£ì–´ì„œ êµ¬ë¶„ìì²˜ëŸ¼ ì“°ë˜ ìŠµê´€</li> <li>í•€í† ìŠ¤ë‚˜ ì˜¤ë˜ëœ ìœ ë‹‰ìŠ¤ ê¸°ë°˜ ì½”ë“œì—ì„œ ê°€ë” ë³´ì„.</li> <li>VS Codeê°€ íŠ¹ë³„íˆ ë³´ì—¬ì£¼ëŠ” ê±°ê³ , <strong>ì˜¤ë¥˜ëŠ” ì•„ë‹˜</strong></li> </ul>]]></content><author><name></name></author><category term="Study"/><category term="CS"/><summary type="html"><![CDATA[ë©”ëª¨: docker start -ai pintos]]></summary></entry><entry><title type="html">SVDQuant: Absorbing Outliers by Low-Rank Components for 4-Bit Diffusion Models</title><link href="https://hoonably.github.io/blog/svdquant/" rel="alternate" type="text/html" title="SVDQuant: Absorbing Outliers by Low-Rank Components for 4-Bit Diffusion Models"/><published>2025-03-05T16:28:23+00:00</published><updated>2025-03-05T16:28:23+00:00</updated><id>https://hoonably.github.io/blog/svdquant</id><content type="html" xml:base="https://hoonably.github.io/blog/svdquant/"><![CDATA[<table class="simple-table" id="1ae451cf-7b79-805c-93cd-e196dc0bdeb9"><tbody><tr id="1ae451cf-7b79-808c-943f-eac9eb5f2eba"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">ArXiv</th><td class="" id="L|H:" style="width:580.5px"><a href="https://arxiv.org/abs/2411.05007">https://arxiv.org/abs/2411.05007</a></td></tr><tr id="1ae451cf-7b79-8003-aee0-df288cea6508"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Project Page</th><td class="" id="L|H:" style="width:580.5px"><a href="https://hanlab.mit.edu/projects/svdquant">https://hanlab.mit.edu/projects/svdquant</a></td></tr><tr id="1ae451cf-7b79-80e1-8c89-e694ec013045"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Github Code</th><td class="" id="L|H:" style="width:580.5px"><a href="https://github.com/mit-han-lab/nunchaku">https://github.com/mit-han-lab/nunchaku</a></td></tr><tr id="1af451cf-7b79-800d-bf70-cf7f29ae2f57"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Demo</th><td class="" id="L|H:" style="width:580.5px"><a href="https://svdquant.mit.edu/">https://svdquant.mit.edu/</a></td></tr><tr id="241451cf-7b79-80d6-a6c2-ce2a5cea5dce"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Affiliation</th><td class="" id="L|H:" style="width:580.5px">MIT, NVIDIA, CMU, Princeton, UC Berkeley, SJTU, Pika Labs</td></tr></tbody></table> <figure class="block-color-teal_background callout" id="1ae451cf-7b79-80b4-b7a9-d4f362a314d8" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">Â <strong>Key Differentiator</strong><br/>â€œOutlier Absorption Using Singular Value Decompositionâ€<figure class="image" id="1b4451cf-7b79-80d5-8378-e104c018ad62"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image.webp" style="width:643.984375px"/></picture></figure></div></figure> <p class="" id="1b9451cf-7b79-8032-b7ef-e5cec973616b"> </p> <div style="position:relative; width:100%; aspect-ratio:1214/749;"> <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSU7sZnjEqo3uQrnjcfXSaT1yHgL3KncTkH7FMlG8JO_motNMUV-es7fVjSUEkEBA/pubembed?start=false&amp;loop=false&amp;delayms=3000" style="position:absolute; top:0; left:0; width:100%; height:100%;" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"> </iframe> </div> <p class="" id="1b9451cf-7b79-8094-97e0-e2c246b2c531"> </p> <h1 class="" id="1b9451cf-7b79-8012-b7d6-e14efa74183b">Song Han?</h1> <blockquote class="" id="1b9451cf-7b79-80aa-8170-e45a21f2c364">Song Han is an associate professor at MIT EECS. He earned his PhD from Stanford, pioneering efficient AI computing techniques such as â€œDeep Compressionâ€ (pruning, quantization) and the â€œEfficient Inference Engine,â€ which first introduced weight sparsity to modern AI chips, making it one of the top-5 most cited papers in the 50-year history of ISCA (1953-2023). His innovations, including TinyML and hardware-aware neural architecture search (Once-for-All Network), have advanced AI model deployment on resource-constrained devices.</blockquote> <figure class="image" id="1b9451cf-7b79-80d3-a2d4-c3a2854934a1"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%201.webp" style="width:576px"/></picture></figure> <p class="" id="1b9451cf-7b79-80e5-8edc-f584a3a713c0"> </p> <p class="" id="1b9451cf-7b79-80f8-8222-ce544cfed97c"> </p> <p class="" id="1b9451cf-7b79-8021-b819-f144582b675e"> </p> <p class="" id="1b9451cf-7b79-8088-bc0d-d678ad8a06cd"> </p> <p class="" id="1b9451cf-7b79-8053-b1db-cd0ed566f6a7"> </p> <p class="" id="1b9451cf-7b79-80a4-8ce2-d75baf6f5327"> </p> <p class="" id="1af451cf-7b79-8064-a8a6-d81951bce9ee"> </p> <h1 class="" id="1af451cf-7b79-8080-9bf7-e6ca0ea8ac06">1. Introduction</h1> <div class="column-list" id="1b0451cf-7b79-80cc-89bb-c5061bd83aa2"><div class="column" id="1b0451cf-7b79-803c-ad51-d3337be6cf87" style="width:43.75%"><figure class="image" id="1af451cf-7b79-80b9-b6cc-ef3c8c412aa2"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%202.webp" style="width:336px"/></picture></figure></div><div class="column" id="1b0451cf-7b79-8014-bc51-ce5bd0a7be1d" style="width:56.25%"><p class="" id="1ae451cf-7b79-809f-a365-e27629e5708d">LLMê³¼ ë¹„êµí–ˆì„ ë•Œ, ëª¨ë¸ ì‚¬ì´ì¦ˆì— ë”°ë¼ ê³„ì‚° ë¹„ìš©ì´ ë¹ ë¥´ê²Œ ì¦ê°€í•œë‹¤.</p><p class="" id="1af451cf-7b79-80d2-a35e-da017eca03f3">Mooreâ€™s lawê°€ slow down í•¨ìœ¼ë¡œì„œ, ì €ë ´í•œ ì¶”ë¡ (low-precision inference) ìœ¼ë¡œ ì „í™˜í•˜ëŠ”ì¤‘ </p><p class="" id="1af451cf-7b79-8098-80f9-eb7a6d6223db">â†’ 4bit floating point (FP4)ê°€ ëŒ€ì„¸ì„</p><p class="" id="1b0451cf-7b79-8042-aca3-ebbe11f66404"> </p></div></div> <div class="column-list" id="1b0451cf-7b79-8032-a22b-d1683814c2c5"><div class="column" id="1b0451cf-7b79-80bc-8221-c4aeb1973a4e" style="width:37.5%"><figure class="image" id="1af451cf-7b79-80ac-b07c-ef4740e29565"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%203.webp" style="width:144px"/></picture></figure><p class="" id="1b0451cf-7b79-8053-bbcc-d14dba1639fd"> </p></div><div class="column" id="1b0451cf-7b79-80f9-82f2-f542e8f4941e" style="width:62.5%"><p class="" id="1b0451cf-7b79-80eb-9f9b-d476809a077e">LLM</p><p class="" id="1b0451cf-7b79-80fb-bb0b-c83f6b66c59f">latencyëŠ” ì£¼ë¡œ ê°€ì¤‘ì¹˜(weight) ë¡œë”© ì†ë„ì— ì˜í•´ ê²°ì •</p><p class="" id="1b0451cf-7b79-8082-8d58-e14653f5a1e3">"ê°€ì¤‘ì¹˜ë§Œ ì–‘ìí™”(weight-only quantization)" í•´ë„ ì†ë„ë¥¼ ê°œì„ </p><p class="" id="1b0451cf-7b79-8099-8d68-eda637d51f0a"> </p><p class="" id="1b0451cf-7b79-806c-a2dc-c0c397f6c725">Diffusion ëª¨ë¸</p><p class="" id="1b0451cf-7b79-80a7-92ee-d72568410dc9">ë ˆì´í„´ì‹œëŠ” ê°€ì¤‘ì¹˜ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì†ë„ê°€ ì•„ë‹ˆë¼, ì—°ì‚°ëŸ‰ ìì²´ê°€ ë³‘ëª©</p><p class="" id="1b0451cf-7b79-8049-9f28-d3c199676790">ì™œëƒí•˜ë©´ ê°€ì¤‘ì¹˜ë§Œ 4ë¹„íŠ¸ë¡œ ì¤„ì—¬ë„ í™œì„±í™”ê°’ì´ 16ë¹„íŠ¸ì´ë©´, ì—°ì‚° ê³¼ì •ì—ì„œ 16ë¹„íŠ¸ë¡œ ë‹¤ì‹œ ë³€í™˜(upcast)ë˜ë¯€ë¡œ ì—°ì‚°ëŸ‰ì´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ.</p><p class="" id="1b0451cf-7b79-80fe-b855-e236e83dd90e">ê²°êµ­ ì—°ì‚°ëŸ‰ì„ ì¤„ì´ë ¤ë©´ ê°€ì¤‘ì¹˜(weight)ë¿ë§Œ ì•„ë‹ˆë¼Â <strong> í™œì„±í™”ê°’(activation)</strong>ë„ í•¨ê»˜ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”í•´ì•¼ í•¨.</p></div></div> <figure class="image" id="1b0451cf-7b79-8094-8134-c9ea7d1ff191"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%204.webp" style="width:709.984375px"/></picture></figure> <p class="" id="1b3451cf-7b79-8020-98fd-e38dfe0b7963"> </p> <figure class="block-color-yellow_background callout" id="1b4451cf-7b79-80d5-8357-e37ef77f7fa0" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ“¢</span></div><div style="width:100%"><li style="list-style-type:disc">Â <strong>Input Channel</strong> â†’ ì›ë˜ Activationì—ì„œ ë‚˜ì˜¨ ì…ë ¥ ì±„ë„</li><li style="list-style-type:disc">Â <strong>Channel</strong> â†’ Weightì˜ ê° ì±„ë„</li></div></figure> <p class="" id="1b4451cf-7b79-8020-a22d-eda7068c31d3"> </p> <h3 class="" id="1b0451cf-7b79-8031-b656-c73c4e468076">1. ê¸°ì¡´ 4ë¹„íŠ¸ ì–‘ìí™”(4-bit Quantization)ì˜ ë¬¸ì œì </h3> <li style="list-style-type:disc">ê°€ì¤‘ì¹˜(Weight)ì™€ í™œì„±í™”ê°’(Activation) ëª¨ë‘ 4ë¹„íŠ¸ë¡œ ì¤„ì´ë©´ í’ˆì§ˆì´ í¬ê²Œ ì €í•˜ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</li> <li style="list-style-type:disc">íŠ¹íˆ ê¸°ì¡´ ë°©ë²•(ì˜ˆ: Smoothing)ì€ ê°€ì¤‘ì¹˜ì™€ í™œì„±í™”ê°’ ì‚¬ì´ì—ì„œ Outlierë¥¼ ì´ë™ì‹œí‚¤ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆì§€ë§Œ,Diffusion ëª¨ë¸ì—ì„œëŠ” Outlierê°€ ì–‘ìª½(W, X) ëª¨ë‘ì—ì„œ ì‹¬ê°í•˜ê²Œ ë°œìƒí•˜ë¯€ë¡œ íš¨ê³¼ì ì´ì§€ ì•ŠìŒ.<li style="list-style-type:circle">ê¸°ì¡´ ë°©ì‹ì€ í™œì„±í™”ê°’(X)ì—ì„œ Outlierë¥¼ ì œê±°í•˜ë ¤ê³  í•˜ë©´ ê°€ì¤‘ì¹˜(W)ë¡œ ì´ë™í•˜ê³ , ë°˜ëŒ€ë¡œ í•˜ë©´ Xì— Outlierê°€ ë‚¨ëŠ” ë¬¸ì œ ë°œìƒ.</li></li> <hr id="1b0451cf-7b79-805b-82c0-fa3c3c42a9a6"/> <h3 class="" id="1b0451cf-7b79-80d7-8c42-d6af561178a5">2. SVDQuantì˜ í•µì‹¬ ì•„ì´ë””ì–´</h3> <li style="list-style-type:disc">Outlierë¥¼ ë‹¨ìˆœíˆ ì´ë™í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, "Â <strong>í¡ìˆ˜</strong>"í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•¨.</li> <li style="list-style-type:disc">ì €ë¹„ìš©ì˜ "Low-Rank Branch"ë¥¼ ì¶”ê°€í•˜ì—¬ Outlierë¥¼ ê°€ì¤‘ì¹˜(W)ì—ì„œ í¡ìˆ˜í•¨.</li> <li style="list-style-type:disc">ì´ë¥¼ ìœ„í•´ SVD(Singular Value Decomposition, íŠ¹ì´ê°’ ë¶„í•´) ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ê°€ì¤‘ì¹˜ë¥¼ ë‘ ê°œì˜ ì„±ë¶„ìœ¼ë¡œ ë¶„í•´í•¨.</li> <hr id="1b0451cf-7b79-8051-961d-cfd87abd2a58"/> <h3 class="" id="1b0451cf-7b79-80fd-8208-c69bf137b1d1">3. SVDQuantì˜ ë‹¨ê³„ë³„ ë™ì‘ ë°©ì‹</h3> <p class="" id="1b0451cf-7b79-8066-829c-c3df956b74ae">1. Outlier ì´ë™ (Smoothing)</p> <li style="list-style-type:disc">ë¨¼ì € Outlierë¥¼ í™œì„±í™”ê°’(X)ì—ì„œ ê°€ì¤‘ì¹˜(W)ë¡œ ì´ë™í•¨.</li> <li style="list-style-type:disc">ì´ë¥¼ í†µí•´ í™œì„±í™”ê°’(X)ì´ ë” ê· ì¼í•´ì ¸ì„œ 4ë¹„íŠ¸ ì–‘ìí™”ê°€ ë” ì‰¬ì›Œì§.</li> <p class="" id="1b0451cf-7b79-8029-8c6a-fada4f9ac553">2. SVD(íŠ¹ì´ê°’ ë¶„í•´)ë¥¼ ì ìš©í•˜ì—¬ ê°€ì¤‘ì¹˜(W)ë¥¼ ë‘ ê°œì˜ ì„±ë¶„ìœ¼ë¡œ ë¶„í•´</p> <li style="list-style-type:disc">W â†’ L1L2(ì €ìˆœìœ„ ì„±ë¶„) + ì”ì—¬ ì„±ë¶„(W - L1L2)ë¡œ ë¶„ë¦¬</li> <li style="list-style-type:disc">L1L2(ì €ìˆœìœ„ ì„±ë¶„)ì€ 16ë¹„íŠ¸ë¡œ ìœ ì§€í•˜ê³ , W - L1L2(ì”ì—¬ ì„±ë¶„)ë§Œ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”</li> <li style="list-style-type:disc">ì¦‰, ì €ìˆœìœ„ ì„±ë¶„(Low-Rank Component)ì´ Outlierë¥¼ í¡ìˆ˜í•˜ë©´ì„œ 4ë¹„íŠ¸ ì–‘ìí™”ê°€ ë” ì‰¬ì›Œì§.</li> <p class="" id="1b0451cf-7b79-801a-998e-eac0ba146fa9">3. ì €ìˆœìœ„ ì„±ë¶„ì„ ë”°ë¡œ ê³„ì‚°í•˜ë©´ ë©”ëª¨ë¦¬ ì•¡ì„¸ìŠ¤ ì˜¤ë²„í—¤ë“œê°€ ì¦ê°€í•˜ëŠ” ë¬¸ì œ ë°œìƒ</p> <li style="list-style-type:disc">ì¦‰, L1L2ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ë©´ ì—°ì‚° ì†ë„ê°€ ëŠë ¤ì§€ëŠ” ë¬¸ì œê°€ ìƒê¹€.</li> <li style="list-style-type:disc">ê¸°ë³¸ì ìœ¼ë¡œ 4ë¹„íŠ¸ ì—°ì‚°ì˜ ì†ë„ë¥¼ ë†’ì´ë ¤ê³  í–ˆëŠ”ë°, ì €ìˆœìœ„ ì—°ì‚°ì´ ì¶”ê°€ë˜ë©´ ì˜¤íˆë ¤ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ.</li> <p class="" id="1b0451cf-7b79-80af-be9b-cee524284df7">4. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì „ìš© ì¶”ë¡  ì—”ì§„(Nunchaku) ì„¤ê³„</p> <li style="list-style-type:disc">Nunchaku ì—”ì§„ì€ 4ë¹„íŠ¸ ì–‘ìí™” ì—°ì‚°ê³¼ ì €ìˆœìœ„ ì—°ì‚°ì„ í•¨ê»˜ ìµœì í™”í•˜ì—¬ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì„.</li> <li style="list-style-type:disc">ì¦‰, L1L2(ì €ìˆœìœ„ ì—°ì‚°)ì™€ 4ë¹„íŠ¸ ì—°ì‚°ì„ í•¨ê»˜ ì²˜ë¦¬í•˜ëŠ” ì»¤ë„(fusion kernel)ë¡œ ë³€í™˜í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”.</li> <li style="list-style-type:disc">ì´ë¥¼ í†µí•´ ì¶”ê°€ì ì¸ ì—°ì‚°ëŸ‰ì´ ìƒê¸°ë”ë¼ë„ ì‹¤ì œë¡œëŠ” 4ë¹„íŠ¸ ì—°ì‚°ì˜ ì†ë„ë¥¼ í–¥ìƒí•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë¨.</li> <p class="" id="1b0451cf-7b79-8027-8d85-d72e2a8500c4"> </p> <p class="" id="1b0451cf-7b79-8040-b088-e9573a3875ea"> </p> <details><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Â <strong>ê¸°ì¡´ ë°©ì‹(SmoothQuant, AWQ)ê³¼ SVDQuantì˜ ì°¨ì´</strong></summary><div class="indented"><table class="simple-table" id="1b0451cf-7b79-80e9-a7be-e57d2b8883d8"><tbody><tr id="1b0451cf-7b79-8035-9773-e1ac9754aafa"><td class="" id=":Vib">ë°©ë²•</td><td class="" id="uAUW">ë°©ì‹</td><td class="" id="uBN[" style="width:229.5625px">Outlier ì²˜ë¦¬ ë°©ì‹</td><td class="" id="\ab\">ì ìš© ëŒ€ìƒ</td><td class="" id="d^ui">ë¬¸ì œì </td></tr><tr id="1b0451cf-7b79-80d3-b1a1-fa2a22528041"><td class="" id=":Vib">Â <strong>SmoothQuant (2023)</strong></td><td class="" id="uAUW">W4A4</td><td class="" id="uBN[" style="width:229.5625px">Input Channel(Activation) â†’ Channel(Weight)</td><td class="" id="\ab\">LLM(ëŒ€í˜• ì–¸ì–´ ëª¨ë¸)</td><td class="" id="d^ui">Outlierê°€ ê°€ì¤‘ì¹˜ì— ëˆ„ì ë¨</td></tr><tr id="1b0451cf-7b79-80a7-b747-d8244d0ca7e5"><td class="" id=":Vib">Â <strong>AWQ (2024)</strong></td><td class="" id="uAUW">W4A4</td><td class="" id="uBN[" style="width:229.5625px">Â <strong>ê°€ì¤‘ì¹˜ ì¤‘ ì¤‘ìš”í•œ ë¶€ë¶„ì„ ë³´ì¡´í•˜ì—¬ ì–‘ìí™”</strong></td><td class="" id="\ab\">LLM</td><td class="" id="d^ui">Diffusion ëª¨ë¸ì—ì„œëŠ” í•œê³„ ê°€ëŠ¥ì„±</td></tr><tr id="1b0451cf-7b79-80a2-87d0-ee757edac464"><td class="" id=":Vib">Â <strong>SVDQuant (2024)</strong></td><td class="" id="uAUW">W4A4</td><td class="" id="uBN[" style="width:229.5625px">Â <strong>ì €ìˆœìœ„(Low-Rank) ì„±ë¶„ìœ¼ë¡œ Outlier í¡ìˆ˜</strong></td><td class="" id="\ab\">Diffusion ëª¨ë¸ ìµœì í™”</td><td class="" id="d^ui">ì¶”ê°€ ì—°ì‚°ì„ í•´ê²°í•´ì•¼ í•¨</td></tr></tbody></table><h3 class="" id="1b4451cf-7b79-808d-b9f5-caf9daa665ef">Â <strong>1. SmoothQuant (2023) â€“ Activationì—ì„œ Weightë¡œ ì´ìƒì¹˜ ì´ë™</strong></h3><p class="" id="1b4451cf-7b79-809a-907c-c266d6047b9c">SmoothQuantì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” Â <strong>í™œì„±í™”ê°’(Activation)ì—ì„œ ë°œìƒí•˜ëŠ” ì´ìƒì¹˜ë¥¼ ê°€ì¤‘ì¹˜(Weight)ë¡œ ì´ë™</strong>ì‹œí‚¤ëŠ” ê±°ì•¼â€‹Li á„ƒá…³á†¼ - 2024 - SVDQuanâ€¦.</p><li style="list-style-type:disc">Â <strong>ê¸°ì¡´ ë¬¸ì œ</strong><li style="list-style-type:circle">Transformer ê¸°ë°˜ ëª¨ë¸ì—ì„œ Self-Attention ì—°ì‚°ì´ ë§ì•„ì„œ Â <strong>í™œì„±í™”ê°’(Activation)ì˜ ë²”ìœ„ê°€ ë„“ì–´ì§€ê³  ì´ìƒì¹˜ê°€ ë°œìƒ</strong>í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„.</li><li style="list-style-type:circle">ì´ë¥¼ 8-bitì´ë‚˜ 4-bitë¡œ ì–‘ìí™”í•˜ë©´, ì‘ì€ ê°’ë“¤ì€ ëª¨ë‘ 0ì´ ë˜ê³ , ì •ë³´ ì†ì‹¤ì´ ì‹¬í•´ì§.</li></li><li style="list-style-type:disc">Â <strong>í•´ê²° ë°©ë²•</strong><li style="list-style-type:circle">í™œì„±í™”ê°’(Activation)ì˜ ì±„ë„ë³„ ìŠ¤ì¼€ì¼ë§ì„ ì ìš©í•˜ì—¬, Â <strong>ì´ìƒì¹˜ë¥¼ ê°€ì¤‘ì¹˜(Weight) ìª½ìœ¼ë¡œ ì´ë™</strong>ì‹œí‚´.</li><li style="list-style-type:circle">ì¦‰, ì›ë˜ Activation ê°’ì´ í¬ë©´, í•´ë‹¹ ì±„ë„ì„ ìŠ¤ì¼€ì¼ë§í•´ì„œ ì¤„ì´ê³ , ëŒ€ì‹  ê·¸ ê°’ì„ Weightì—ì„œ ë³´ìƒí•´ì£¼ëŠ” ë°©ì‹.</li><li style="list-style-type:circle">ì´ë ‡ê²Œ í•˜ë©´, Â <strong>Activation ê°’ì´ ì–‘ìí™”í•  ë•Œ ì†ì‹¤ ì—†ì´ ë” ê· ë“±í•˜ê²Œ ë¶„í¬í•  ìˆ˜ ìˆìŒ</strong>.</li></li><li style="list-style-type:disc">Â <strong>í•œê³„</strong><li style="list-style-type:circle">Weight ìª½ìœ¼ë¡œ ì´ìƒì¹˜ë¥¼ ëª°ì•„ë„£ìœ¼ë©´, Â <strong>Weightì˜ ê°’ì´ ì»¤ì§€ê³ , Weight ì–‘ìí™” ì‹œ ì˜¤ë¥˜ê°€ ì»¤ì§ˆ ê°€ëŠ¥ì„±</strong>ì´ ìˆìŒ.</li><li style="list-style-type:circle">ë”°ë¼ì„œ Â <strong>Weightë¥¼ 4-bitë¡œ ì–‘ìí™”í•  ê²½ìš° ì •ë³´ ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ</strong>.</li></li><hr id="1b4451cf-7b79-80d4-b6ae-c77a2e75b979"/><h3 class="" id="1b4451cf-7b79-80a1-b032-fc72c2e78684">Â <strong>2. AWQ (Activation-aware Weight Quantization, 2024) â€“ Weightì—ì„œ Activationìœ¼ë¡œ ì´ìƒì¹˜ ì´ë™</strong></h3><p class="" id="1b4451cf-7b79-80a8-9004-e985dc396261">AWQëŠ” Â <strong>Weightì˜ ì´ìƒì¹˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ Activationìœ¼ë¡œ ë¶„ì‚°ì‹œí‚¤ëŠ” ë°©ì‹</strong></p><li style="list-style-type:disc">Â <strong>ê¸°ì¡´ ë¬¸ì œ</strong><li style="list-style-type:circle">SmoothQuant ë°©ì‹ì²˜ëŸ¼ ì´ìƒì¹˜ë¥¼ Weight ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚¤ë©´, Weightì˜ í¬ê¸°ê°€ ì»¤ì ¸ì„œ Â <strong>Weightë¥¼ 4-bitë¡œ ì–‘ìí™”í•  ë•Œ ì •ë³´ ì†ì‹¤ì´ ë°œìƒ</strong>í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§.</li><li style="list-style-type:circle">íŠ¹íˆ, Weightì— ì´ìƒì¹˜ê°€ ë§ìœ¼ë©´, Â <strong>ìŠ¤ì¼€ì¼ë§ì„ ì ìš©í•´ë„ ì–‘ìí™” ì˜¤ë¥˜ê°€ ì»¤ì§€ê³  ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ë¬¸ì œ</strong>ê°€ ë°œìƒ.</li></li><li style="list-style-type:disc">Â <strong>í•´ê²° ë°©ë²•</strong><li style="list-style-type:circle">ëŒ€ì‹  Â <strong>Weightì—ì„œ Activationìœ¼ë¡œ ì¼ë¶€ ì´ìƒì¹˜ë¥¼ ì´ë™ì‹œì¼œì„œ, Weightê°€ ì–‘ìí™”ë  ë•Œ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”</strong>í•¨.</li><li style="list-style-type:circle">ì¦‰, ì¤‘ìš”í•œ Weight ê°’ì„ ë”°ë¡œ ë³´í˜¸í•˜ê³ , ë¶ˆí•„ìš”í•œ í° ê°’ì„ Activation ìª½ìœ¼ë¡œ ì´ë™ì‹œì¼œì„œ Weightë¥¼ ë” ê· ë“±í•œ ë¶„í¬ë¡œ ë§Œë“¤ë„ë¡ ì„¤ê³„.</li></li><li style="list-style-type:disc">Â <strong>í•œê³„</strong><li style="list-style-type:circle">Activationì˜ ë¶„í¬ê°€ ë‹¤ì‹œ ë„“ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŒ â†’ Â <strong>Activationì„ ë‹¤ì‹œ 4-bitë¡œ ì–‘ìí™”í•  ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ</strong>.</li></li><hr id="1b4451cf-7b79-8002-96d5-f0c26ed3dad0"/><h3 class="" id="1b4451cf-7b79-8002-a31f-fdb97d4588e9">Â <strong>3. SVDQuant (2024) â€“ Outlierë¥¼ Low-Rank Componentë¡œ ì´ë™</strong></h3><p class="" id="1b4451cf-7b79-80a5-b07b-d4011ec79379">SVDQuantëŠ” SmoothQuantì™€ AWQì˜ ë¬¸ì œì ì„ ëª¨ë‘ í•´ê²°í•˜ë ¤ê³ , Â <strong>ì´ìƒì¹˜ë¥¼ ì´ë™ì‹œí‚¤ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ Low-Rank Componentë¡œ í¡ìˆ˜</strong>í•˜ëŠ” ë°©ì‹ì´ì•¼â€‹Li á„ƒá…³á†¼ - 2024 - SVDQuanâ€¦.</p><li style="list-style-type:disc">Â <strong>í•µì‹¬ ì•„ì´ë””ì–´</strong><li style="list-style-type:circle">SmoothQuantì²˜ëŸ¼ Â <strong>Activationì˜ ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™</strong>í•˜ë©´ì„œë„,</li><li style="list-style-type:circle">AWQì²˜ëŸ¼ Â <strong>Weightì—ì„œ ë‹¤ì‹œ Activationìœ¼ë¡œ ì´ë™í•˜ëŠ” ëŒ€ì‹ , Low-Rank Componentë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥</strong>.</li><li style="list-style-type:circle">ì¦‰, Â <strong>ì´ìƒì¹˜ë¥¼ ì–‘ìí™”í•˜ì§€ ì•Šê³ , 16-bit Low-Rank Componentë¡œ ìœ ì§€</strong>í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”.</li></li><li style="list-style-type:disc">Â <strong>ì¥ì </strong><li style="list-style-type:circle">SmoothQuantë‚˜ AWQì²˜ëŸ¼ Â <strong>í•œìª½ìœ¼ë¡œ ì´ìƒì¹˜ë¥¼ ëª°ì•„ë„£ì§€ ì•Šê³ , Low-Rank Branchê°€ ì´ìƒì¹˜ë¥¼ í¡ìˆ˜í•´ì„œ ì†ì‹¤ì„ ë§‰ìŒ</strong>.</li><li style="list-style-type:circle">Â <strong>Weightì™€ Activation ëª¨ë‘ ê· ë“±í•œ ë¶„í¬ë¥¼ ê°€ì§€ê²Œ ë˜ì–´, ì–‘ìí™” ì˜¤ë¥˜ê°€ ì¤„ì–´ë“¦</strong>.</li><li style="list-style-type:circle">ì‹¤ì œ ì‹¤í—˜ì—ì„œë„ Â <strong>SmoothQuant, AWQë³´ë‹¤ 4-bit ì–‘ìí™”ì—ì„œ ì„±ëŠ¥ì´ ë›°ì–´ë‚¨</strong>.</li></li><hr id="1b4451cf-7b79-809c-b6c1-e62cc01ddd97"/><h3 class="" id="1b4451cf-7b79-8021-8426-fe5be52ee107">Â <strong>ê²°ë¡ </strong></h3><li style="list-style-type:disc">Â <strong>SmoothQuant</strong> â†’ Â <strong>Activationì˜ ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™</strong> (Weightì˜ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ)</li><li style="list-style-type:disc">Â <strong>AWQ</strong> â†’ Â <strong>Weightì˜ ì´ìƒì¹˜ë¥¼ Activationìœ¼ë¡œ ì´ë™</strong> (Activationì˜ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ)</li><li style="list-style-type:disc">Â <strong>SVDQuant</strong> â†’ Â <strong>Weightì™€ Activationì—ì„œ Low-Rank Componentë¡œ ì´ë™</strong> (ì´ìƒì¹˜ ìì²´ë¥¼ ì œê±°í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”)</li><p class="" id="1b4451cf-7b79-8047-a453-cf8f26792a35">ì¦‰, Â <strong>SmoothQuantê³¼ AWQëŠ” ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ Outlierë¥¼ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•˜ë ¤ê³  í–ˆë˜ ì ‘ê·¼ë²•</strong>, ë°˜ë©´ Â <strong>SVDQuantëŠ” Outlier ìì²´ë¥¼ Low-Rankë¡œ ë¹¼ë²„ë¦¬ëŠ” ë°©ì‹ì´ë¼ ì •ë³´ ì†ì‹¤ì´ ê°€ì¥ ì ìŒ</strong>.</p><p class="" id="1b4451cf-7b79-80c1-b932-f1842c5e4c74"> </p></div></details> <p class="" id="1b4451cf-7b79-8065-9f3f-f2f8ae9a15db"> </p> <p class="" id="1b4451cf-7b79-803e-a0ef-fe7b52f25ec7"> </p> <p class="" id="1b4451cf-7b79-80c0-b0a3-c337950d8bb4"> </p> <p class="" id="1b4451cf-7b79-8041-ad53-eb95341fef1f"> </p> <p class="" id="1b0451cf-7b79-80be-8bfd-f29d8f979a3a"> </p> <h1 class="" id="1b0451cf-7b79-8044-8a33-e5b0a2de789b">3 QUANTIZATION PRELIMINARY</h1> <li style="list-style-type:disc">Â <strong>ì–‘ìí™”(Quantization)ì˜ ê¸°ë³¸ ê°œë…</strong><li style="list-style-type:circle">ë”¥ëŸ¬ë‹ì—ì„œ Â <strong>ì–‘ìí™”ëŠ” ì—°ì‚° ì†ë„ë¥¼ ë†’ì´ê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë°©ë²•</strong>.</li><li style="list-style-type:circle">í…ì„œ Xë¥¼ ì–‘ìí™”í•˜ëŠ” ê³¼ì •:</li><figure class="equation" id="230451cf-7b79-8022-9a55-e16bc8d9e68c"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>X</mi></msub><mo>=</mo><mrow><mi mathvariant="normal">r</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">d</mi></mrow><mrow><mo fence="true">(</mo><mfrac><mi mathvariant="bold">X</mi><msub><mi>s</mi><mi>X</mi></msub></mfrac><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>s</mi><mi>X</mi></msub><mo>=</mo><mfrac><mrow><mi>max</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi mathvariant="bold">X</mi><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><msub><mi>q</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">x</mi></mrow></msub></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex"> Q_X = \mathrm{round}\left( \frac{\mathbf{X}}{s_X} \right), \quad s_X = \frac{\max(|\mathbf{X}|)}{q_\mathrm{max}}.</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mord mathrm">round</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3631em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbf">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">max</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">max</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathbf">X</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div></figure></li> <li style="list-style-type:disc">ì—¬ê¸°ì„œ QXâ€‹ëŠ” Â <strong>ì–‘ìí™”ëœ(low-bit) ê°’</strong>.</li> <li style="list-style-type:disc">sXëŠ” Â <strong>ìŠ¤ì¼€ì¼ë§ íŒ©í„°(Scaling Factor)</strong>.</li> <li style="list-style-type:disc">qmaxëŠ” Â <strong>ìµœëŒ€ ì–‘ìí™” ê°’</strong>(ë¹„íŠ¸ ìˆ˜ì— ë”°ë¼ ë‹¬ë¼ì§).</li> <li style="list-style-type:disc">Â <strong>4ë¹„íŠ¸ ë¶€ë™ì†Œìˆ˜ì  ì–‘ìí™”(4-bit FP)ì—ì„œëŠ” qmax=6ì„.</strong></li> <li style="list-style-type:disc">Â <strong>ì–‘ìí™”ëœ í–‰ë ¬ ì—°ì‚°</strong><li style="list-style-type:circle">ì„ í˜• ê³„ì¸µ(Linear Layer)ì—ì„œ ì…ë ¥ Xì™€ ê°€ì¤‘ì¹˜ Wê°€ ìˆì„ ë•Œ, ì—°ì‚°ì„ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ ê·¼ì‚¬:<figure class="equation" id="230451cf-7b79-8098-9aa3-e93ba3381b72"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>â‰ˆ</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>s</mi><mi>X</mi></msub><msub><mi>s</mi><mi>W</mi></msub><mo>â‹…</mo><msub><mi>Q</mi><mi>X</mi></msub><msub><mi>Q</mi><mi>W</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathbf{XW} \approx Q(\mathbf{X}) Q(\mathbf{W}) = s_X s_W \cdot Q_X Q_W.</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></figure></li><li style="list-style-type:circle">ì¦‰, ì–‘ìí™”ëœ í…ì„œë¼ë¦¬ ì—°ì‚°í•œ í›„, ìŠ¤ì¼€ì¼ë§ íŒ©í„° sXâ€‹sWâ€‹ë¥¼ ê³±í•˜ì—¬ ë‹¤ì‹œ ì›ë˜ ê°’ì— ê°€ê¹ê²Œ ë³µì›í•¨.</li></li> <li style="list-style-type:disc">Â <strong>GPUì—ì„œ ê°™ì€ ë¹„íŠ¸í­(bit width)ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ </strong><li style="list-style-type:circle">Â <strong>ìµœì‹  GPUì—ì„œëŠ” ì…ë ¥(QX)ê³¼ ê°€ì¤‘ì¹˜(QW)ì˜ ë¹„íŠ¸ ìˆ˜ê°€ ë™ì¼í•´ì•¼ ì—°ì‚° ì†ë„ê°€ í–¥ìƒë¨.</strong></li><li style="list-style-type:circle">Â <strong>ë§Œì•½ QXì™€ QWì˜ ë¹„íŠ¸ ìˆ˜ê°€ ë‹¤ë¥´ë©´, ë” ë†’ì€ ë¹„íŠ¸ ê°’ìœ¼ë¡œ ë³€í™˜(upcast)ë˜ë©´ì„œ ì†ë„ ì´ì ì´ ì‚¬ë¼ì§.</strong></li><li style="list-style-type:circle">ì˜ˆ:<li style="list-style-type:square">Â <strong>ê°€ì¤‘ì¹˜(W)ë¥¼ 4ë¹„íŠ¸ë¡œ ì–‘ìí™”(W4)í–ˆì§€ë§Œ, í™œì„±í™”ê°’(X)ì´ 16ë¹„íŠ¸(A16)ë¼ë©´?</strong><br/>â†’ <br/>Â <strong>ì—°ì‚° ì‹œ W4ê°€ A16ìœ¼ë¡œ ì—…ìºìŠ¤íŠ¸(Upcast)ë˜ì–´ ì‹¤ì œ ì†ë„ í–¥ìƒì´ ì—†ìŒ.</strong><br/>â†’ ë”°ë¼ì„œ, <br/>Â <strong>W4A4(ê°€ì¤‘ì¹˜ 4ë¹„íŠ¸, í™œì„±í™”ê°’ 4ë¹„íŠ¸) ì¡°í•©ì´ ìµœì í™”ëœ ë°©ì‹.</strong>&lt;/br&gt;</li></li></li> <li style="list-style-type:disc">Â <strong>W4A4 ì–‘ìí™”ì—ì„œì˜ ë¬¸ì œì : Outlier(ì´ìƒì¹˜)</strong><li style="list-style-type:circle">Â <strong><span style="border-bottom:0.05em solid">Diffusion ëª¨ë¸ì—ì„œëŠ” ê°€ì¤‘ì¹˜(W)ì™€ í™œì„±í™”ê°’(X) ì–‘ìª½ì—ì„œ Outlier(ê·¹ë‹¨ì ì¸ ê°’)ê°€ ë§ì´ ë°œìƒ</span></strong>Â <strong>í•¨.</strong></li><li style="list-style-type:circle">Â <strong>Outlierê°€ ë§ìœ¼ë©´ ì–‘ìí™” í›„ í’ˆì§ˆì´ í¬ê²Œ ì €í•˜ë¨.</strong></li><li style="list-style-type:circle">ê¸°ì¡´ í•´ê²° ë°©ë²•:<ol class="numbered-list" id="1b0451cf-7b79-80da-b3d7-e72c02fd8a47" start="1" type="1"><li>Â <strong>Quantization-Aware Training (QAT)</strong><li style="list-style-type:disc">Â <strong>ì–‘ìí™”ë¥¼ ê³ ë ¤í•˜ì—¬ ëª¨ë¸ì„ í›ˆë ¨í•˜ëŠ” ë°©ì‹.</strong></li><li style="list-style-type:disc">Â <strong>í•˜ì§€ë§Œ, 100ì–µ ê°œ ì´ìƒì˜ ë§¤ê°œë³€ìˆ˜(ì˜ˆ: FLUX.1 ëª¨ë¸)ë¥¼ ì¡°ì •í•˜ë ¤ë©´ ê³„ì‚° ë¹„ìš©ì´ ë§¤ìš° í¼.</strong></li></li></ol><ol class="numbered-list" id="1b0451cf-7b79-800f-8b55-c2d6731d8775" start="2" type="1"><li>Â <strong>Rotation ê¸°ë²•</strong> (Ashkboos et al., 2024; Liu et al., 2024c)<li style="list-style-type:disc">Â <strong>ê°€ì¤‘ì¹˜ì™€ í™œì„±í™”ê°’ì„ íšŒì „(rotation)í•˜ì—¬ Outlierë¥¼ ì¤„ì´ëŠ” ë°©ë²•.</strong></li><li style="list-style-type:disc">Â <strong>í•˜ì§€ë§Œ, Diffusion ëª¨ë¸ì˜ "Adaptive Normalization Layer"ì—ì„œëŠ” ì ìš©ì´ ì–´ë ¤ì›€.</strong></li><li style="list-style-type:disc">ì´ìœ :<li style="list-style-type:circle">Adaptive Normalizationì€ Â <strong>ì‹¤í–‰ ì‹œê°„(runtime) ì¤‘ì— ìƒˆë¡œìš´ ê°€ì¤‘ì¹˜ë¥¼ ìƒì„±</strong>.</li><li style="list-style-type:circle">ë”°ë¼ì„œ, Â <strong>ì‚¬ì „ ê³„ì‚°ëœ íšŒì „ í–‰ë ¬ì„ ì ìš©í•  ìˆ˜ ì—†ìŒ.</strong></li><li style="list-style-type:circle">Â <strong>ì‹¤í–‰ ì‹œê°„ì— íšŒì „ì„ ì ìš©í•˜ë©´ ì—°ì‚°ëŸ‰ì´ ì¦ê°€í•˜ì—¬ ì†ë„ê°€ ëŠë ¤ì§.</strong></li></li></li></ol></li></li> <p class="" id="1b0451cf-7b79-8096-a589-d7c6648b3890"> </p> <figure class="block-color-yellow_background callout" id="1b4451cf-7b79-8085-8ee5-e934e7c60ee7" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ“¢</span></div><div style="width:100%">Â <strong>ì´ìƒì¹˜(Outlier)ê°€ ìˆìœ¼ë©´ ì–´ë–»ê²Œ ì„±ëŠ¥ì´ ì €í•˜ë ê¹Œ?</strong><h3 class="" id="1b4451cf-7b79-80fe-94e7-d6c1c716309f">Â <strong>1. ìŠ¤ì¼€ì¼ë§ íŒ©í„° ë¬¸ì œ</strong></h3><li style="list-style-type:disc">ì–‘ìí™”ëŠ” ë°ì´í„°ì˜ ì „ì²´ ë²”ìœ„(min-max)ë¥¼ ê³ ë ¤í•´ì„œ ê°’ì„ ì¡°ì •í•´ì•¼ í•˜ëŠ”ë°, ì´ìƒì¹˜ê°€ ìˆìœ¼ë©´ Â <strong>ìŠ¤ì¼€ì¼ë§ íŒ©í„°ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì»¤ì§</strong>.</li><li style="list-style-type:disc">ëŒ€ë¶€ë¶„ì˜ ê°’ì€ ì‘ì€ ë²”ìœ„ì— ëª°ë ¤ ìˆëŠ”ë°, Â <strong>í•œë‘ ê°œì˜ í° ê°’(ì´ìƒì¹˜) ë•Œë¬¸ì— ìŠ¤ì¼€ì¼ì´ ì»¤ì§€ë©´ ì‘ì€ ê°’ë“¤ì´ ëª¨ë‘ 0 ë˜ëŠ” ë™ì¼í•œ ê°’ìœ¼ë¡œ ë§¤í•‘ë˜ëŠ” ë¬¸ì œ</strong>ê°€ ìƒê²¨.Â <strong>ì˜ˆì œ:</strong><li style="list-style-type:circle">ì›ë˜ ê°€ì¤‘ì¹˜ ê°’: <code>[-0.1, -0.05, 0.0, 0.05, 0.1, 5.0]</code> (ì´ìƒì¹˜: 5.0)</li><li style="list-style-type:circle">ì´ìƒì¹˜ê°€ ì—†ì„ ë•Œ: <code>s_X = 0.1</code>, ë²”ìœ„ë¥¼ <code>[-8, 7]</code>ë¡œ ë§¤í•‘ ê°€ëŠ¥</li><li style="list-style-type:circle">ì´ìƒì¹˜(5.0)ê°€ í¬í•¨ë  ë•Œ: <code>s_X = 5.0</code>, ì‘ì€ ê°’ë“¤ì€ ëª¨ë‘ 0ì´ ë˜ì–´ ì •ë³´ ì†ì‹¤ ë°œìƒ</li></li><h3 class="" id="1b4451cf-7b79-8094-9ce0-d5349afe65d2">Â <strong>2. ì •ë³´ ì†ì‹¤ (Precision Loss)</strong></h3><li style="list-style-type:disc">ì´ìƒì¹˜ë¥¼ ê³ ë ¤í•´ ì „ì²´ ê°’ì„ ì¡°ì •í•˜ë©´, ë‚˜ë¨¸ì§€ ëŒ€ë¶€ë¶„ì˜ ê°’ì´ Â <strong>ë§¤ìš° ì‘ì€ ì°¨ì´ë¥¼ ê°€ì§€ëŠ”ë°ë„ ë™ì¼í•œ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ í‘œí˜„</strong>ë  ê°€ëŠ¥ì„±ì´ ë†’ì•„.</li><li style="list-style-type:disc">ì¦‰, Â <strong>ëª¨ë¸ì´ ì‘ì€ ë³€í™”(gradient ë“±)ë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•˜ê³  í‘œí˜„ë ¥ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§</strong>.</li><h3 class="" id="1b4451cf-7b79-80ac-ae9d-fb3363b903fa">Â <strong>3. í™œì„±í™”(Activation) ì´ìƒì¹˜ë¡œ ì¸í•´ ì—°ì‚°ëŸ‰ ì¦ê°€</strong></h3><li style="list-style-type:disc">ì´ìƒì¹˜ê°€ ìˆìœ¼ë©´ ì–‘ìí™”ëœ ê°’ì„ ë‹¤ì‹œ ë¶€ë™ì†Œìˆ˜ì ìœ¼ë¡œ ë³€í™˜í•  ë•Œ Â <strong>FP32(32-bit)ë¡œ ë³€í™˜í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„</strong>, ê²°êµ­ ì—°ì‚° ìµœì í™”ê°€ ê¹¨ì§.</li><li style="list-style-type:disc">íŠ¹íˆ Transformer ê¸°ë°˜ ëª¨ë¸ì—ì„œëŠ” Self-Attention ì—°ì‚°ì´ í¬ê¸° ë•Œë¬¸ì— Â <strong>í™œì„±í™”ê°’(Activation)ì˜ ì´ìƒì¹˜ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ê³¼ ì—°ì‚°ëŸ‰ ì¦ê°€ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ</strong>.</li> </div></figure> <h1 class="" id="1b0451cf-7b79-80b7-93aa-de0c77515d05">4 Method</h1> <p class="" id="1b4451cf-7b79-80cf-b998-e21b580b4344"> </p> <h2 class="" id="1b4451cf-7b79-8054-a2e2-fe6883e5e369">4.1 PROBLEM FORMULATION</h2> <p class="" id="1b5451cf-7b79-8063-8579-df66165101b7">ì–‘ìí™”ì˜ ì˜¤ë¥˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë¨.</p> <figure class="equation" id="230451cf-7b79-8043-8fab-e37f5ec6c2f5"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mrow><mo fence="true">âˆ¥</mo><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">E(\mathbf{X}, \mathbf{W}) = \left\| \mathbf{XW} - Q(\mathbf{X}) Q(\mathbf{W}) \right\|_F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span></span></span></span></span></div></figure> <p class="" id="1b5451cf-7b79-80eb-82da-e0b53f626858">ì›ë˜ í–‰ë ¬ ê³±ì…ˆ XWì™€ ì–‘ìí™”ëœ ê°’ìœ¼ë¡œ ì—°ì‚°í•œ Q(X)Q(W)ì˜ ì°¨ì´ë¥¼ ì¸¡ì •í•˜ëŠ” ê°’</p> <p class="" id="1b5451cf-7b79-80c5-a6c4-d376626e90d8"> </p> <p class="" id="1b5451cf-7b79-80a7-8b1d-d812b025cb02">ì¢€ ë” ì„¸ë¶„í™”</p> <figure class="equation" id="230451cf-7b79-8008-a2b3-da9fc1f9849a"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>â‰¤</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">X</mi><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">W</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>+</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">X</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mrow><mo fence="true">(</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">W</mi><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>+</mo><msub><mrow><mo fence="true">âˆ¥</mo><mi mathvariant="bold">W</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">E(\mathbf{X}, \mathbf{W}) \leq \left\| \mathbf{X} \right\|_F \left\| \mathbf{W} - Q(\mathbf{W}) \right\|_F+ \left\| \mathbf{X} - Q(\mathbf{X}) \right\|_F \left( \left\| \mathbf{W} \right\|_F + \left\| \mathbf{W} - Q(\mathbf{W}) \right\|_F \right).</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf">X</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">âˆ¥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">.</span></span></span></span></span></div></figure> <p class="" id="230451cf-7b79-80e8-90b1-edd1fb51bd9c">ì´ ì‹ì€ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ê²°ì •í•˜ëŠ” ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ë³´ì—¬ì¤Œ:</p> <ol class="numbered-list" id="230451cf-7b79-802d-b873-c1464c5d82b3" start="1" type="1"><li>ê°€ì¤‘ì¹˜ì˜ í¬ê¸°: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{W}\|_F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol> <ol class="numbered-list" id="230451cf-7b79-8002-8576-d196c21a1266" start="2" type="1"><li>ì…ë ¥ì˜ í¬ê¸°: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">X</mi><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{X}\|_F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf">X</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol> <ol class="numbered-list" id="230451cf-7b79-80df-967e-e26f603c38f8" start="3" type="1"><li>ê°€ì¤‘ì¹˜ì˜ ì–‘ìí™” ì˜¤ë¥˜: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">W</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{W} - Q(\mathbf{W})\|_F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf" style="margin-right:0.01597em;">W</span><span class="mclose">)</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol> <ol class="numbered-list" id="230451cf-7b79-8051-b5ce-f3ea1ab7182a" start="4" type="1"><li>ì…ë ¥ì˜ ì–‘ìí™” ì˜¤ë¥˜: <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">X</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">âˆ¥</mi><mi>F</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{X} - Q(\mathbf{X})\|_F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ¥</span><span class="mord mathbf">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">X</span><span class="mclose">)</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span></li></ol> <p class="" id="230451cf-7b79-808c-9b26-edd884dc2e77">ì¦‰, ì „ì²´ì ì¸ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ë ¤ë©´ ì´ ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ì¡°ì ˆí•˜ëŠ” ê²ƒì´ í•µì‹¬ì„.</p> <p class="" id="1b5451cf-7b79-801c-b016-f87be0a50e7e"> </p> <p class="" id="1b5451cf-7b79-8013-a4f5-d943e040ae3d"> </p> <h2 class="" id="1b4451cf-7b79-80fd-b19f-d41847604e12">4.2 SVDQUANT: ABSORBING OUTLIERS VIA LOW-RANK BRANCH</h2> <hr id="1b4451cf-7b79-803d-930f-ed86b403b9d8"/> <h3 class="" id="1b4451cf-7b79-8071-8cb0-d42a6cd514bc">Migrate outliers from activation to weight</h3> <figure class="image" id="1b4451cf-7b79-8084-9053-da5bac137308"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%205.webp" style="width:709.984375px"/></picture></figure> <p class="" id="1b4451cf-7b79-80d2-a144-da65900cc7b1">After Smoothing ë¶€ë¶„ì´ ê¸°ì¡´ ê¸°ë²•ì¸ë°, ë‹¨ì ì´ ìˆìŒ</p> <li style="list-style-type:disc">âœ… Â <strong>Activation(X)ì˜ ì´ìƒì¹˜ë¥¼ ì—†ì• ëŠ” ê²ƒì€ ì„±ê³µí–ˆì§€ë§Œ</strong>,</li> <li style="list-style-type:disc">âŒ Â <strong>ëŒ€ì‹  Weight(W)ì˜ ì´ìƒì¹˜ê°€ ì¦ê°€í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ</strong>.</li> <li style="list-style-type:disc">ê²°ê³¼ì ìœ¼ë¡œ, Â <strong>ì „ì²´ì ì¸ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ì¤„ì´ë ¤ëŠ” ëª©ì ì´ ì œëŒ€ë¡œ ë‹¬ì„±ë˜ì§€ ì•ŠìŒ</strong>.</li> <p class="" id="1b5451cf-7b79-806f-846b-e2b09fa70859"> </p> <h3 class="block-color-yellow_background" id="1b5451cf-7b79-8041-8c84-ecfc5e5922cb">Absorb magnified weight outliers with a low-rank branch.</h3> <p class="" id="1b5451cf-7b79-80a3-b791-c78e79c2de89">Â <strong>Weightë¥¼ ë°”ë¡œ 4-bitë¡œ ì–‘ìí™”í•˜ì§€ ì•Šê³ , Low-Rank Componentë¥¼ ë”°ë¡œ ë¶„ë¦¬í•´ì„œ ì´ìƒì¹˜ë¥¼ í¡ìˆ˜</strong>í•˜ëŠ” ì „ëµ</p> <figure class="equation" id="230451cf-7b79-805b-897f-d8da2bf251a2"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>=</mo><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mi mathvariant="bold">R</mi><mo separator="true">,</mo><mspace width="1em"></mspace><mtext>whereÂ </mtext><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>Ã—</mo><mi>r</mi></mrow></msup><mtext>Â andÂ </mtext><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>r</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\hat{\mathbf{W}} = \mathbf{L}_1 \mathbf{L}_2 + \mathbf{R}, \quad \text{where } \mathbf{L}_1 \in \mathbb{R}^{m \times r} \text{ and } \mathbf{L}_2 \in \mathbb{R}^{r \times n}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathbf">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">whereÂ </span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9713em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord">Â andÂ </span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8213em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span></div></figure> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><mo>=</mo><mi mathvariant="bold">U</mi><msub><mi mathvariant="bold">Î£</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{L}_1 = \mathbf{U} \boldsymbol{\Sigma}_r</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord mathbf">U</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">Î£</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (ì…ë ¥ ì°¨ì›ì„ ì¤„ì´ëŠ” í–‰ë ¬)</li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>=</mo><msubsup><mi mathvariant="bold">V</mi><mi>r</mi><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathbf{L}_2 = \mathbf{V}_r^T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0883em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.016em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> (ì¶œë ¥ ì°¨ì›ì„ ì¤„ì´ëŠ” í–‰ë ¬)</li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">R</mi></mrow><annotation encoding="application/x-tex">\mathbf{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">R</span></span></span></span></span><span>ï»¿</span></span> (ì”ì—¬ í–‰ë ¬, 4-bitë¡œ ì–‘ìí™”ë  ë¶€ë¶„)</li> <p class="" id="1b5451cf-7b79-806a-a32d-d8f6b89e23ca"> </p> <h3 class="" id="1b9451cf-7b79-80f9-a6a0-ebdb6cb7faac">SVD(Singular Value Decomposition, íŠ¹ì´ê°’ ë¶„í•´)</h3> <li style="list-style-type:disc">ì›ë˜ í–‰ë ¬ í¬ê¸°ê°€ mÃ—nì´ë©´, ì§ì ‘ ê³±í•˜ë©´ ì—°ì‚°ëŸ‰ì´ Â <strong>O(mn)</strong>.</li> <li style="list-style-type:disc">í•˜ì§€ë§Œ SVDë¡œ Rank rë§Œ ìœ ì§€í•˜ë©´ Â <strong>ì—°ì‚°ëŸ‰ì´ O(mr+rn)ë¡œ ì¤„ì–´ë“¦</strong>.</li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">U</mi></mrow><annotation encoding="application/x-tex">\mathbf{U}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">U</span></span></span></span></span><span>ï»¿</span></span>: ì…ë ¥ ì°¨ì› ë³€í™˜ í–‰ë ¬ <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>m</mi><mo>Ã—</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(m \times m)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span></li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">Î£</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{\Sigma}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">Î£</span></span></span></span></span></span></span><span>ï»¿</span></span>: ëŒ€ê° í–‰ë ¬ (íŠ¹ì´ê°’ë“¤ì´ ë“¤ì–´ ìˆëŠ” í–‰ë ¬, <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m \times n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span><span>ï»¿</span></span>)</li> <li style="list-style-type:disc"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">V</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\mathbf{V}^T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>: ì¶œë ¥ ì°¨ì› ë³€í™˜ í–‰ë ¬ <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>Ã—</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n \times n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span><span>ï»¿</span></span></li> <p class="" id="230451cf-7b79-80b8-9234-c1c29c6210ba"> </p> <p class="" id="1b9451cf-7b79-8070-b01a-dba731140a46"> í¬ì¸íŠ¸ëŠ” ëŒ€ê° ì›ì†Œ(íŠ¹ì´ê°’, Singular Values)</p> <li style="list-style-type:disc">Â <strong>í° íŠ¹ì´ê°’ë“¤ì€ ì¤‘ìš”í•œ ì •ë³´(íŒ¨í„´)ë¥¼ ë‚˜íƒ€ëƒ„</strong>.</li> <li style="list-style-type:disc">Â <strong>ì‘ì€ íŠ¹ì´ê°’ë“¤ì€ ë…¸ì´ì¦ˆ(ì´ìƒì¹˜ í¬í•¨)ë¥¼ ë‚˜íƒ€ë‚¼ ê°€ëŠ¥ì„±ì´ ë†’ìŒ</strong>.</li> <p class="" id="1b9451cf-7b79-80f1-8f7b-ebea3afbdaa7"> </p> <h3 class="" id="1b9451cf-7b79-80bf-8f75-ed07a8408afc">Low-Rank ë¶„í•´ </h3> <p class="" id="230451cf-7b79-800a-9eeb-f771f9be4692"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span class="notion-text-equation-token" contenteditable="false" data-token-index="0" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mi mathvariant="bold">R</mi><mo>â‰ˆ</mo><munder><munder><mrow><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub></mrow><mo stretchy="true">âŸ</mo></munder><mtext>16-bitÂ low-rankÂ branch</mtext></munder><mo>+</mo><munder><munder><mrow><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">âŸ</mo></munder><mtext>4-bitÂ residual</mtext></munder><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathbf{XW} = \hat{\mathbf{X}} \hat{\mathbf{W}} = \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + \hat{\mathbf{X}} \mathbf{R}\approx \underbrace{\hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2}_{\text{16-bit low-rank branch}}+ \underbrace{Q(\hat{\mathbf{X}}) Q(\mathbf{R})}_{\text{4-bit residual}}.</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0995em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord mathbf">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4337em;vertical-align:-1.4841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.5159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">16-bitÂ low-rankÂ branch</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.202em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path></svg></span><span class="brace-center" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMidYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path></svg></span><span class="brace-right" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMaxYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.798em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4841em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5337em;vertical-align:-1.5841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">4-bitÂ residual</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path></svg></span><span class="brace-center" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMidYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path></svg></span><span class="brace-right" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMaxYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5841em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span><span>ï»¿</span></span></p> <p class="" id="1b9451cf-7b79-808c-b9c0-cb57b5a305e6"><mark class="highlight-yellow_background">Â <strong>ëŒ€ê° ì›ì†Œ ì¤‘ì—ì„œ ìƒìœ„ rê°œì˜ íŠ¹ì´ê°’ë§Œ ìœ ì§€</strong></mark>Â <strong>í•˜ì—¬, ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´ë§Œ í¬í•¨í•˜ëŠ” L1,L2ë¥¼ ìƒì„±. </strong></p> <p class="" id="1b9451cf-7b79-806e-a1d7-d18db5ec03f3">Â <strong>â†’ ë”°ë¡œ 16-bit ì—°ì‚°</strong></p> <p class="" id="1b9451cf-7b79-8045-88fa-c4f5633418b3"><mark class="highlight-yellow_background">Â <strong>ë‚¨ì€ ë¶€ë¶„(ì‘ì€ íŠ¹ì´ê°’)</strong></mark>Â <strong> â†’ Rìœ¼ë¡œ ë¶„ë¦¬ </strong></p> <p class="" id="1b9451cf-7b79-8087-8635-fb1ab461f555">Â <strong>â†’ 4-bit ì—°ì‚°</strong></p> <p class="" id="1b9451cf-7b79-804b-82ac-f9668ecca85d"> </p> <p class="" id="1b9451cf-7b79-8031-afcc-dcf955a24738">â†’ ì‘ì€ íŠ¹ì´ê°’ë§Œ ë‚¨ì•˜ìœ¼ë¯€ë¡œ Rì„ Â <strong>4-bitë¡œ ì–‘ìí™”í•˜ë”ë¼ë„ ì •ë³´ ì†ì‹¤ì´ í¬ê²Œ ì¤„ì–´ë“¦</strong></p> <p class="" id="1b9451cf-7b79-80ea-9676-f298086a02f3"> </p> <p class="" id="1b4451cf-7b79-80bd-9072-cf28b76dcc8c"> </p> <h2 class="" id="1b4451cf-7b79-80a9-8bd2-e53684d44a92">4.3 NUNCHAKU: Fusing Low-Rank and Low-Bit Branch Kernels</h2> <figure class="image" id="1b4451cf-7b79-80c6-9315-d2f2b998bf78"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%206.webp" style="width:709.9921875px"/></picture></figure> <hr id="1b4451cf-7b79-805c-98bf-dd5f162d3829"/> <h3 class="" id="1b4451cf-7b79-8020-8142-d7133e5e1aa9">Â <strong>Low-Rank Branchì—ì„œ ë°œìƒí•˜ëŠ” ì„±ëŠ¥ ì €í•˜ ë¬¸ì œ</strong></h3> <li style="list-style-type:disc">Â <strong>QKV Projectionê³¼ ê°™ì€ ì—°ì‚°ì—ì„œëŠ” Low-Rank Branchê°€ L2 ìºì‹œë¥¼ ì´ˆê³¼í•˜ë©´ì„œ DRAMì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•¨</strong>.</li> <li style="list-style-type:disc">ì´ëŠ” Â <strong>ë©”ëª¨ë¦¬ ì ‘ê·¼ ë¹„ìš©ì´ ì¦ê°€í•˜ì—¬ ì—°ì‚° ì†ë„ê°€ ë–¨ì–´ì§€ëŠ” ì›ì¸</strong>.</li> <li style="list-style-type:disc">Â <strong>Figure 6(a)ì—ì„œ ë³´ë“¯ì´, Low-Rank BranchëŠ” ì „ì²´ 4-bit ì—°ì‚° ì§€ì—°ì˜ 50%ë¥¼ ì°¨ì§€</strong>.</li> <hr id="1b4451cf-7b79-8034-9f73-cadb388dcc08"/> <h3 class="" id="1b4451cf-7b79-80f4-b396-f14e1b10f544">Â <strong>NUNCHAKU: í•´ê²° ë°©ë²•</strong></h3> <li style="list-style-type:disc"><mark class="highlight-orange_background">ë…¼ë¬¸ì—ì„œëŠ” </mark><mark class="highlight-orange_background">Â <strong>Low-Rank Branchì™€ Low-Bit Branchì˜ ì—°ì‚°ì„ í•˜ë‚˜ë¡œ í•©ì³(fusing) ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì¤„ì´ëŠ” ë°©ë²•ì„ ì œì•ˆ</strong></mark><mark class="highlight-orange_background">.</mark></li> <li style="list-style-type:disc">Â <strong>Figure 6(b)ì—ì„œ ë³´ë“¯ì´, ë‘ ê°œì˜ Kernelì„ í•©ì³ì„œ ë°ì´í„°ë¥¼ ê³µìœ í•¨</strong>:<ol class="numbered-list" id="1b4451cf-7b79-8065-a3fc-c7ad225403dc" start="1" type="1"><li>Â <strong>Down Projection ì—°ì‚°ì„ Quantization Kernelê³¼ í•©ì¹¨</strong>.</li></ol><ol class="numbered-list" id="1b4451cf-7b79-805d-8fad-da3447dd9db0" start="2" type="1"><li>Â <strong>Up Projection ì—°ì‚°ì„ 4-bit ì—°ì‚° Kernelê³¼ í•©ì¹¨</strong>.</li></ol></li> <li style="list-style-type:disc">ì´ë¥¼ í†µí•´ Â <strong>Low-Rank Branchê°€ Low-Bit Branchì™€ í™œì„±í™”ê°’ì„ ê³µìœ í•  ìˆ˜ ìˆì–´, ì¶”ê°€ì ì¸ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì œê±°</strong>.</li> <li style="list-style-type:disc">ê²°ê³¼ì ìœ¼ë¡œ, Â <strong>Kernel í˜¸ì¶œ íšŸìˆ˜ê°€ ì ˆë°˜ìœ¼ë¡œ ì¤„ì–´ë“¤ì–´ ì†ë„ ê°œì„  íš¨ê³¼ê°€ ìˆìŒ</strong>.</li> <p class="" id="1b4451cf-7b79-8034-8a61-ebb13c9dbf45"> </p> <p class="" id="1b4451cf-7b79-80b1-b8fd-eea92e48f82b"> </p> <p class="" id="1b4451cf-7b79-8033-8767-e918cb5b1aef"> </p> <p class="" id="1b0451cf-7b79-800d-99d2-e6580a457e9f"> </p> <h1 class="" id="1b0451cf-7b79-800c-a182-fe595644a631">5 Experiments</h1> <h3 class="" id="1b9451cf-7b79-805f-91df-eef69e1b0c6b">Benchmark models</h3> <table class="simple-table" id="1b9451cf-7b79-80ae-8b87-da042df55667"><tbody><tr id="1b9451cf-7b79-8030-a28d-faec444a75d8"><td class="" id="aUJ|">Model</td><td class="" id="LJ;p">Architecture</td><td class="" id="m]Yg">Parameters</td><td class="" id="?hTZ">Special Features</td></tr><tr id="1b9451cf-7b79-80bc-9d21-cad69757e339"><td class="" id="aUJ|">FLUX.1-dev</td><td class="" id="LJ;p">DiT</td><td class="" id="m]Yg">12B</td><td class="" id="?hTZ">50-step guidance-distilled</td></tr><tr id="1b9451cf-7b79-8022-88d2-c16c2e358ced"><td class="" id="aUJ|">FLUX.1-schnell</td><td class="" id="LJ;p">DiT</td><td class="" id="m]Yg">12B</td><td class="" id="?hTZ">4-step timestep-distilled</td></tr><tr id="1b9451cf-7b79-804f-98b1-e428f888fbd7"><td class="" id="aUJ|">PixArt-Î£</td><td class="" id="LJ;p">DiT</td><td class="" id="m]Yg">600M</td><td class="" id="?hTZ">20-step default</td></tr><tr id="1b9451cf-7b79-80b8-98f9-d2d48c452321"><td class="" id="aUJ|">SANA</td><td class="" id="LJ;p">DiT</td><td class="" id="m]Yg">1.6B</td><td class="" id="?hTZ">32Ã— compression autoencoder, Linear Attention</td></tr><tr id="1b9451cf-7b79-80e1-8776-f194ffe206dc"><td class="" id="aUJ|">SDXL</td><td class="" id="LJ;p">UNet</td><td class="" id="m]Yg">2.6B</td><td class="" id="?hTZ">30-step</td></tr></tbody></table> <h3 class="" id="1b9451cf-7b79-8091-b966-f2432aefb45e">Baselines Quantization</h3> <table class="simple-table" id="1b9451cf-7b79-80f1-9730-f6c63a349b46"><tbody><tr id="1b9451cf-7b79-80ab-b8f9-e75c411763db"><td class="" id="&lt;lV]">Method</td><td class="" id="?OWR">Description</td><td class="" id="yunN">Usage in Benchmarking</td></tr><tr id="1b9451cf-7b79-806a-a156-f635b46b71a1"><td class="" id="&lt;lV]">NF4<br/>(4-bit NormalFloat)<br/></td><td class="" id="?OWR">Optimized 4-bit weight-only quantization assuming normal distribution</td><td class="" id="yunN">Used as a weight-only quantization baseline for FLUX.1</td></tr><tr id="1b9451cf-7b79-80ad-956d-d8053cca98b5"><td class="" id="&lt;lV]">ViDiT-Q</td><td class="" id="?OWR">Per-token quantization + smoothing to reduce outliers</td><td class="" id="yunN">Achieves lossless 8-bit quantization on PixArt-Î£</td></tr><tr id="1b9451cf-7b79-80e2-b74e-f201b50a1cbd"><td class="" id="&lt;lV]">MixDQ</td><td class="" id="?OWR">Detects outliers in text embeddings and protects them with 16-bit pre-computation</td><td class="" id="yunN">Enables W4A8 quantization with minimal performance drop on SDXL-Turbo</td></tr><tr id="1b9451cf-7b79-807a-98b4-d434a27793a5"><td class="" id="&lt;lV]">TensorRT</td><td class="" id="?OWR">Industry-standard PTQ toolkit for 8-bit quantization</td><td class="" id="yunN">Uses smoothing + percentile calibration over specific timesteps</td></tr></tbody></table> <figure class="image" id="1b3451cf-7b79-80c7-9c88-ea2289a5f38f"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%207.webp" style="width:709.9921875px"/></picture></figure> <figure class="image" id="1b9451cf-7b79-8048-a239-e2d6aa27f92e"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%208.webp" style="width:709.984375px"/></picture></figure> <figure class="image" id="1b3451cf-7b79-80b2-b150-d0f26013425e"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%209.webp" style="width:709.9765625px"/></picture></figure> <figure class="image" id="1b9451cf-7b79-800a-bb07-fb2185e3e8d3"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2010.webp" style="width:709.9921875px"/></picture></figure> <figure class="image" id="1b9451cf-7b79-80f9-b9e7-e0fb7a02557f"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2011.webp" style="width:709.9921875px"/></picture></figure> <p class="" id="1b3451cf-7b79-8016-a721-eb2e6bdb3df9"> </p> <p class="" id="1b3451cf-7b79-801c-8b7c-decce0570ec6"> </p> <h1 class="" id="1b3451cf-7b79-8069-a8d8-cce825d2197e">Limitation</h1> <p class="" id="1b9451cf-7b79-80d0-8c8f-f787946d192e">ì—„ì²­ë‚œ ê¸°ìˆ ì´ê³  ê¸°ìˆ ë©´ì—ì„œëŠ” í•œê³„ê°€ ì—†ë‹¤ê³  ìƒê°í•¨. </p> <p class="" id="1b9451cf-7b79-80e3-8195-fd5a412c5cb4">í•˜ì§€ë§Œ, êµ³ì´ í•œê³„ì ì„ ë½‘ìë©´, Song Hanì´ NVIDIAì—ì„œë„ ì—°êµ¬ë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— NVIDIA chipë§Œì„ ìœ„í•´ì„œ ì½”ë“œë¥¼ ì§°ê³ , ì´ì— ìµœì í™”ë˜ì–´ìˆë‹¤.</p> <p class="" id="1b9451cf-7b79-8001-b0c1-c88078f30bf9">ì‹¬ì§€ì–´ CUDA 12.2 ì´ìƒì—ì„œë§Œ ì‘ë™ ê°€ëŠ¥í•´ì„œ ë‚´ í•™êµ ì„œë²„ë¡œ ëŒë ¤ë³´ë ¤ê³  í–ˆëŠ”ë°, GPU Driver versionì´ ë‚®ì•„ì„œ ì•ˆëŒì•„ê°€ë”ë¼.</p> <figure class="image" id="1b9451cf-7b79-80b1-90ea-e3f4976a02bc"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2012.webp" style="width:709.984375px"/></picture></figure> <p class="" id="1b5451cf-7b79-809a-be3b-d50cf256f252">ë¬¼ë¡  NVIDIA chipì—ì„œ ê·¹í•œì˜ ìµœì í™”ë¥¼ ìœ„í•´ì„œ ì˜€ì§€ë§Œ, ë‹¤ë¥¸ GPU ì¥ë¹„ì—ì„œëŠ” ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p> <p class="" id="1b9451cf-7b79-8099-b811-d3f49b2751c6">ê°™ì€ ë°©ì‹ì„ ë‹¤ë¥¸ GPU ì¥ë¹„ì™€ Mobile edge deviceë“¤ì— ì ìš©í•œë‹¤ë©´ ì¢‹ì„ ê²ƒì´ë‹¤.</p> <p class="" id="1b9451cf-7b79-8034-8ef0-db4f0ee73b51"> </p> <p class="" id="1b9451cf-7b79-80af-aa03-f74a76e2d116"> </p> <p class="" id="1b9451cf-7b79-80a9-9db0-cc9a176288ba"> </p> <h1 class="block-color-red_background" id="1b9451cf-7b79-80a2-91bb-dd9012fcaa7b">ë©”ëª¨ë¦¬ë‘ ì¶”ë¡ ì‹œê°„ë§Œ ì¤„ì¸ê²Œ ì•„ë‹Œê°€? ì •í™•ë„ë¥¼ ì™œ ì–¸ê¸‰?</h1> <h3 class="" id="1b9451cf-7b79-80bc-808a-ff3da0234b8d">Memory, Latency?</h3> <p class="" id="1b9451cf-7b79-806e-9095-e10f17ed8580">ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ SVDì–‘ìí™”ë¡œ ì¸í•´ ë©”ëª¨ë¦¬ì™€ latency ì´ì ì„ ì–»ì€ê²Œ í¬ì¸íŠ¸ ì•„ë‹Œê°€?</p> <figure class="image" id="1b9451cf-7b79-80a2-8cd8-fa65283b56c1"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2013.webp" style="width:695px"/></picture></figure> <p class="block-color-yellow_background" id="1b9451cf-7b79-80c4-b42e-c30f72c5bfd2">ë¹„êµê°€ ê¸°ì¡´ 16bit / W4A16 / W4A4(SVD) ì˜€ê¸° ë•Œë¬¸ì— í° ì°¨ì´ë¥¼ ë³´ì—¬ì¤€ ê²ƒ ê°™ë‹¤.</p> <p class="" id="1b9451cf-7b79-8055-a534-eb7be3a7153c">Inference timeê³¼ Memory ì¤„ì¸ê²Œ í¬ì¸íŠ¸ì¸ì¤„ ì•Œì•˜ëŠ”ë° ì™„ì „ ì˜ëª» ìƒê°í•œê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤.</p> <p class="" id="1b9451cf-7b79-808f-8cb9-c51ec1d5b09c"> </p> <p class="block-color-orange_background" id="1b9451cf-7b79-8056-90ad-f8224f8d116d">ë¬¼ë¡  Outlierë•Œë¬¸ì— 32bitë¡œ ì²˜ë¦¬í–ˆë˜ ë¶€ë¶„ë“¤ì´ ì—†ì–´ì§€ê³  16bitë¡œ low rankë¡œ ë”°ë¡œ ë¹¼ë‹ˆê¹Œ í–¥ìƒì€ ëì„ ê²ƒì´ì§€ë§Œ, ì œ ìƒê°ì—ëŠ” SVD ì—†ëŠ” W4A4ë‘ ë¹„êµí–ˆë‹¤ë©´, Memoryì™€ ì¶”ë¡ ì‹œê°„ì´ 3ë°° ì´ìƒ ì°¨ì´ë‚˜ì§€ëŠ” ì•Šì„ ê²ƒì…ë‹ˆë‹¤.</p> <figure class="image" id="1b9451cf-7b79-8020-b2df-cefc97fa8752"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2014.webp" style="width:694.984375px"/></picture></figure> <h3 class="" id="1b9451cf-7b79-8054-85b1-f77ceb4c8f23">ì •í™•ë„?</h3> <p class="" id="1b9451cf-7b79-80ff-9ed1-c193dde950ec">ê¸°ì¡´ ì–‘ìí™”ì—ì„œ ì •í™•ë„ë¥¼ ìœ ì§€í•˜ëŠ” ë¶€ë¶„ì´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë§ì´ ë–¨ì–´ì¡Œì—ˆë‹¤.</p> <p class="" id="1b9451cf-7b79-803b-b04c-d868ac6d01cd">(ë‘ë²ˆì§¸ê°€ ê¸°ì¡´ ì–‘ìí™” ê¸°ë²•, ì‹¬ì§€ì–´ W4A4ê°€ ì•„ë‹Œ W4A16ì¸ë°ë„ ë” ë–¨ì–´ì§€ëŠ” ëª¨ìŠµì„ ë³´ì„)</p> <figure class="image" id="1b9451cf-7b79-80c7-b6e8-fcd54c9ae799" style="text-align:left"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2015.webp" style="width:432px"/></picture></figure> <h3 class="" id="1b9451cf-7b79-80de-8586-fa234a4e0e1c">ë³´ì¡´ í•  ìˆ˜ ìˆì—ˆë˜ ì´ìœ  â†’ Â <strong>Low-Rank Branch</strong></h3> <li style="list-style-type:disc">ê¸°ì¡´ 4-bit ì–‘ìí™” ë°©ì‹ì—ì„œëŠ” Â <strong>Weight ì „ì²´ë¥¼ 4-bitë¡œ ë³€í™˜</strong>í•˜ë¯€ë¡œ ì •ë³´ ì†ì‹¤ì´ í¼.</li> <li style="list-style-type:disc">SVDQuantëŠ” Weightë¥¼ Low-Rank Component (L1L2) ì™€ ì”ì—¬ (R)ë¡œ ë¶„í•´í•œë‹¤.<figure class="equation" id="230451cf-7b79-808e-a039-c8447097c22a"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi></mrow><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>=</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mi mathvariant="bold">R</mi><mo>â‰ˆ</mo><munder><munder><mrow><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub></mrow><mo stretchy="true">âŸ</mo></munder><mtext>16-bitÂ low-rankÂ branch</mtext></munder><mo>+</mo><munder><munder><mrow><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">âŸ</mo></munder><mtext>4-bitÂ residual</mtext></munder><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathbf{XW} = \hat{\mathbf{X}} \hat{\mathbf{W}} = \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + \hat{\mathbf{X}} \mathbf{R}\approx \underbrace{\hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2}_{\text{16-bit low-rank branch}}+ \underbrace{Q(\hat{\mathbf{X}}) Q(\mathbf{R})}_{\text{4-bit residual}}.</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">XW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0995em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9495em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord mathbf">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4337em;vertical-align:-1.4841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.5159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">16-bitÂ low-rankÂ branch</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.202em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path></svg></span><span class="brace-center" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMidYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path></svg></span><span class="brace-right" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMaxYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.798em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4841em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5337em;vertical-align:-1.5841em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">4-bitÂ residual</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path></svg></span><span class="brace-center" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMidYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path></svg></span><span class="brace-right" style="height:0.548em;"><svg height="0.548em" preserveaspectratio="xMaxYMin slice" viewbox="0 0 400000 548" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5841em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></figure></li> <li style="list-style-type:disc"><mark class="highlight-yellow_background"><span style="border-bottom:0.05em solid">L1L2ëŠ” 16-bit precisionìœ¼ë¡œ ìœ ì§€ â†’ ì¤‘ìš”í•œ ì •ë³´ëŠ” ê³ ì •ë°€ë„ë¡œ ë‚¨ê²¨ë‘ .</span></mark></li> <li style="list-style-type:disc">Â <strong>ì”ì—¬ Rë§Œ 4-bitë¡œ ì–‘ìí™”í•˜ì—¬ ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”í•¨</strong></li> <li style="list-style-type:disc">í•œ ë²ˆë§Œ Low-Rank ë¶„í•´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, Â <strong>ë°˜ë³µì ìœ¼ë¡œ Rì„ ìµœì í™”</strong>í•˜ì—¬ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”</li> <p class="" id="1b9451cf-7b79-8008-addf-df773f81d36d"> </p> <h3 class="" id="1b9451cf-7b79-808d-9c6f-f3db6c7574aa">quantization error</h3> <figure class="equation" id="230451cf-7b79-803f-8520-f790b6db1cd4"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence="true">âˆ¥</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mover accent="true"><mi mathvariant="bold">W</mi><mo>^</mo></mover><mo>âˆ’</mo><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><msub><mi mathvariant="bold">L</mi><mn>1</mn></msub><msub><mi mathvariant="bold">L</mi><mn>2</mn></msub><mo>+</mo><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>=</mo><msub><mrow><mo fence="true">âˆ¥</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mi mathvariant="bold">R</mi><mo>âˆ’</mo><mi>Q</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi>Q</mi><mo stretchy="false">(</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo><mo fence="true">âˆ¥</mo></mrow><mi>F</mi></msub><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>^</mo></mover><mo separator="true">,</mo><mi mathvariant="bold">R</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\left\| \hat{\mathbf{X}} \hat{\mathbf{W}} - \left( \hat{\mathbf{X}} \mathbf{L}_1 \mathbf{L}_2 + Q(\hat{\mathbf{X}}) Q(\mathbf{R}) \right) \right\|_F= \left\| \hat{\mathbf{X}} \mathbf{R} - Q(\hat{\mathbf{X}}) Q(\mathbf{R}) \right\|_F= E(\hat{\mathbf{X}}, \mathbf{R}),</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.8497em;vertical-align:-0.6997em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg height="1.800em" viewbox="0 0 556 1800" width="0.556em" xmlns="http://www.w3.org/2000/svg"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg height="1.800em" viewbox="0 0 556 1800" width="0.556em" xmlns="http://www.w3.org/2000/svg"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.2214em;"><span style="top:-2.0003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8497em;vertical-align:-0.6997em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg height="1.800em" viewbox="0 0 556 1800" width="0.556em" xmlns="http://www.w3.org/2000/svg"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord mathbf">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathbf">R</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg height="1.800em" viewbox="0 0 556 1800" width="0.556em" xmlns="http://www.w3.org/2000/svg"><path d="M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43z M367 15 v585 v600 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.2214em;"><span style="top:-2.0003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1995em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9495em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf">R</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></div></figure> <p class="" id="1b9451cf-7b79-804e-a8c5-fb4bb7a0d47c">ì´ ì‹ì—ì„œ L1L2+Rë¡œ ë¶„í•´í•¨ìœ¼ë¡œì„œ Quantizationì„ ì§„í–‰í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” Errorë¥¼ ìµœëŒ€í•œ ì¤„ì¸ê±°ì„.</p> <p class="" id="1b9451cf-7b79-8018-b00c-d9eb56f9faeb"> </p> <p class="block-color-blue_background" id="1b9451cf-7b79-80cf-8f38-d29ef01a5203">Quantization ìì²´ê°€ Outlierë¡œ ì¸í•´ì„œ ì •í™•ë„ë¥¼ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ë°–ì— ì—†ëŠ”ë°, ì´ë¥¼ ìµœëŒ€í•œ ë³´ì¡´í–ˆë‹¤ëŠ” ì ì´ ì—„ì²­ë‚œ ì—°êµ¬ì¸ ê²ƒì„!!!!</p> <h1 class="block-color-red_background" id="1b9451cf-7b79-804d-9f66-e41d84df02ba">SVDë¥¼ LLMì— ì¨ë„ ë˜ëŠ”ê°€? ì™œ Diffusionìœ¼ë¡œ ë…¼ë¬¸ì„?</h1> <p class="block-color-teal_background" id="1b9451cf-7b79-80e0-aef1-fbbf56042c83">ê¸°ì¡´ ì œ ìƒê° : ì ìš© í•  ìˆ˜ëŠ” ìˆì„ ê²ƒ ê°™ìœ¼ë‚˜, LLMì€ ë³‘ëª©í˜„ìƒì´ <span style="border-bottom:0.05em solid">ë¬´ê±°ìš´ ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •</span>ì—ì„œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ ë’¤ì— ì—°ì‚°ì„ ì¤„ì—¬ë„ Diffusionë§Œí¼ í° íš¨ê³¼ëŠ” ë‚˜íƒ€ë‚  ì§€ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. (<span style="border-bottom:0.05em solid">Diffusionì€ ì—°ì‚°ì´ ë³‘ëª©</span>ì„)</p> <p class="" id="1b9451cf-7b79-80df-ace1-c33706c16ab7"> </p> <p class="" id="1b9451cf-7b79-8012-9ba8-ed02e08ebd53">ë¬¼ë¡  ê¸°ì¡´ ì œ ìƒê°ë„ ì°¾ì•„ë³´ë‹ˆ ë§ëŠ” ê²ƒ ê°™ìœ¼ë‚˜, ì‹¤ì œë¡œ í™œìš©í•œë‹¤ë©´, ë°”ë¡œ ìœ„ ì§ˆë¬¸ì—ì„œ ë‹¤ë¤˜ë˜ ì •í™•ë„ í–¥ìƒì—ë„ ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì—, ì˜¤íˆë ¤ ì •í™•ë„ ë¶€ë¶„ì—ì„œ ë„ì›€ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p> <p class="" id="1b9451cf-7b79-8008-81c3-e61e76c68f60"> </p> <h3 class="" id="1b9451cf-7b79-804f-8ccf-d771d8e662af">ê¸°ì¡´ ì–‘ìí™”</h3> <li style="list-style-type:disc">Â <strong>GPTQ</strong> â†’ Post-training quantization ë°©ì‹, Weightë§Œ 4-bit ë³€í™˜.</li> <li style="list-style-type:disc">Â <strong>AWQ</strong> â†’ Weight ì¤‘ìš”ë„ë¥¼ ë¶„ì„í•´ ì„ íƒì ìœ¼ë¡œ 4-bit ë³€í™˜.</li> <li style="list-style-type:disc">Â <strong>SmoothQuant</strong> â†’ Activation ì´ìƒì¹˜ë¥¼ Weightë¡œ ì´ë™ì‹œì¼œ ì–‘ìí™” ì˜¤ë¥˜ë¥¼ ì¤„ì´ëŠ” ë°©ì‹.</li> <p class="" id="1b9451cf-7b79-801c-a6b9-ddd0e4110575"> </p> <h3 class="" id="1b9451cf-7b79-803b-8cf3-cb358fec4a1a">SVDQuant ì‚¬ìš©í•œë‹¤ë©´?</h3> <p class="" id="1b9451cf-7b79-8076-af24-d2dcf281b3da">Weightë¥¼ Low-Rank(16-bit) + Residual(4-bit)ë¡œ ë‚˜ëˆ„ì–´ ì¤‘ìš”í•œ ì •ë³´ëŠ” ìœ ì§€í•˜ë©´ì„œ ì••ì¶•í•˜ë¯€ë¡œ</p> <p class="" id="1b9451cf-7b79-8076-94a5-f961585b2b47">Diffusionì²˜ëŸ¼ ì •í™•ë„ í–¥ìƒì— ë„ì›€ì´ ë ë“¯ !!!</p> <p class="" id="1b9451cf-7b79-80d3-b36d-e9093fc70da1"> </p> <p class="" id="1b9451cf-7b79-80d4-ad96-f1468b285f55"> </p> <p class="" id="1b9451cf-7b79-8010-846c-d9685870a1ff"> </p> <h1 class="" id="1b9451cf-7b79-8050-a9dd-d24ae3c8c99a">For an explanation from the author, Song Han</h1> <figure class="image" id="1b9451cf-7b79-80aa-9611-df893eea3b07"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2016.webp" style="width:709.9921875px"/></picture></figure> <p class="" id="1b9451cf-7b79-80a6-83f7-ce2fd3f35fb4"><a href="https://www.youtube.com/watch?v=nYujDH9r69s&amp;t=1s">Youtube [Introduction to SVDQuant for 4-bit Diffusion Models]</a></p> <p class="" id="1b9451cf-7b79-801d-bc12-e4601f945f32"> </p> <p class="" id="1b9451cf-7b79-807f-8071-f4a9689437c5"> </p> <h1 class="" id="1b9451cf-7b79-80d7-8244-d4fca4f1d07e">Demo</h1> <p class="" id="1b9451cf-7b79-80ce-9933-f7b6ca6c337c"><a href="https://hanlab.mit.edu/projects/svdquant">https://hanlab.mit.edu/projects/svdquant</a></p> <figure class="image" id="1b9451cf-7b79-8021-aaef-dd4cf2ca4a7b"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-03-06-svdquant/image%2017.webp" style="width:709.9921875px"/></picture></figure> <p><span class="sans" style="font-size:14px;padding-top:2em"></span></p>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2411.05007Project Pagehttps://hanlab.mit.edu/projects/svdquantGithub Codehttps://github.com/mit-han-lab/nunchakuDemohttps://svdquant.mit.edu/AffiliationMIT, NVIDIA, CMU, Princeton, UC Berkeley, SJTU, Pika Labs ğŸ’¡Â Key Differentiatorâ€œOutlier Absorption Using Singular Value Decompositionâ€]]></summary></entry><entry><title type="html">Ablation Study ë€?</title><link href="https://hoonably.github.io/blog/ablation-study/" rel="alternate" type="text/html" title="Ablation Study ë€?"/><published>2025-03-05T08:20:00+00:00</published><updated>2025-03-05T08:20:00+00:00</updated><id>https://hoonably.github.io/blog/ablation-study</id><content type="html" xml:base="https://hoonably.github.io/blog/ablation-study/"><![CDATA[<p><a href="https://hanlab.mit.edu/projects/svdquant">SVDQuant Project</a></p> <p>ë…¼ë¬¸ì„ ì½ë‹¤ê°€ ë„ëŒ€ì²´ Ablation Studyê°€ ë­ì§€? í–ˆë‹¤.</p> <p>í•œêµ­ì–´ë¡œ ì§ì—­í•˜ë©´ ì ˆì œ ì—°êµ¬ì¸ë° í•´ì„í•´ë„ ì´ê²Œ ë­”ì§€ ì‹¶ì–´ì„œ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë´¤ë‹¤.</p> <blockquote> <p>ëª¨ë¸ì—ì„œ íŠ¹ì • ìš”ì†Œë¥¼ ì œê±°í•˜ê±°ë‚˜ ë³€ê²½í•˜ë©´ì„œ í•´ë‹¹ ìš”ì†Œê°€ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•˜ëŠ” ì‹¤í—˜</p> </blockquote> <hr/> <h3 id="-ablation-studyì˜-ëª©ì ">ğŸ’¡ Ablation Studyì˜ ëª©ì </h3> <ol> <li>ê° êµ¬ì„± ìš”ì†Œì˜ ì¤‘ìš”ë„ í‰ê°€ <ul> <li>ëª¨ë¸ì—ì„œ íŠ¹ì • ìš”ì†Œ(ì˜ˆ: íŠ¹ì • ë ˆì´ì–´, ì†ì‹¤ í•¨ìˆ˜, ë°ì´í„° ì²˜ë¦¬ ê¸°ë²• ë“±)ë¥¼ ì œê±°í•˜ê±°ë‚˜ ìˆ˜ì •í–ˆì„ ë•Œ ì„±ëŠ¥ì´ ì–¼ë§ˆë‚˜ ë–¨ì–´ì§€ëŠ”ì§€ ë³¸ë‹¤.</li> <li>ì˜ˆë¥¼ ë“¤ì–´ â€œSVDQuantì—ì„œ SVDë¥¼ ì•ˆ ì“°ë©´ ì„±ëŠ¥ì´ ì–´ë–»ê²Œ ë˜ì§€?â€ ê°™ì€ ì‹¤í—˜.</li> </ul> </li> <li>ìµœì ì˜ ëª¨ë¸ êµ¬ì„± ì°¾ê¸° <ul> <li>ì—¬ëŸ¬ ìš”ì†Œë¥¼ ì‹¤í—˜ì ìœ¼ë¡œ ë¹„êµí•˜ë©´ì„œ ë¶ˆí•„ìš”í•œ ë¶€ë¶„ì„ ì œê±°í•´ <strong>ë” ê°€ë³ê³  ë¹ ë¥¸ ëª¨ë¸</strong>ì„ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ.</li> </ul> </li> <li>ì´ë¡ ì  ì •ë‹¹ì„± ê²€ì¦ <ul> <li>â€œìš°ë¦¬ê°€ ì œì•ˆí•œ ë°©ë²•ì´ ì •ë§ íš¨ê³¼ê°€ ìˆëŠ”ì§€?â€ë¥¼ ì¦ëª…í•˜ëŠ” ê³¼ì •.</li> </ul> </li> </ol> <hr/> <h3 id="-ì˜ˆì œ-svdquant-ë…¼ë¬¸ì—ì„œ-ablation-study">ğŸ’¡ ì˜ˆì œ: SVDQuant ë…¼ë¬¸ì—ì„œ Ablation Study</h3> <figure> <picture> <img src="https://github.com/user-attachments/assets/f36e5dd1-951f-44e7-a2a0-37ab7ec0aa11" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>SVDQuant ë…¼ë¬¸ì—ì„œëŠ” <strong>Figure 10</strong>ì—ì„œ ë‹¤ì–‘í•œ ì‹¤í—˜ì„ í•¨:</p> <ul> <li><strong>SVDë§Œ ì ìš©</strong> â†’ ì„±ëŠ¥ì´ ë‚®ì•„ì§ âŒ</li> <li><strong>ê¸°ë³¸ì ì¸ 4-bit ì–‘ìí™”</strong> â†’ í’ˆì§ˆì´ ë§ì´ ë–¨ì–´ì§ âŒ</li> <li><strong>Smoothed Quantization ì¶”ê°€</strong> â†’ ì¡°ê¸ˆ ë‚˜ì•„ì§€ì§€ë§Œ ì—¬ì „íˆ ë¶€ì¡±í•¨ âŒ</li> <li><strong>LoRC ë°©ì‹ ì ìš©</strong> â†’ íš¨ê³¼ê°€ ì ìŒ âŒ</li> <li><strong>SVDQuant ë°©ì‹ ì ìš©</strong> â†’ ê°€ì¥ ì¢‹ì€ ê²°ê³¼ âœ…</li> </ul> <p>ì¦‰, <strong>ê° ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ì œê±°í•˜ë©´ì„œ ì‹¤í—˜</strong>ì„ ì§„í–‰í•´ì„œ â€œSVDQuantê°€ ì™œ íš¨ê³¼ì ì¸ê°€?â€ë¥¼ ì¦ëª…í•¨.</p> <hr/> <h3 id="-ì‰½ê²Œ-ë¹„ìœ í•˜ë©´">ğŸ’¡ ì‰½ê²Œ ë¹„ìœ í•˜ë©´?</h3> <p>Ablation StudyëŠ” ë§ˆì¹˜ <strong>ìš”ë¦¬ì—ì„œ íŠ¹ì • ì¬ë£Œë¥¼ ë¹¼ë³´ë©´ì„œ ë§›ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ì‹¤í—˜í•˜ëŠ” ê³¼ì •</strong>ê³¼ ë¹„ìŠ·í•¨</p> <ul> <li>ì¹´ë ˆë¥¼ ë§Œë“¤ë©´ì„œ <strong>â€œì–‘íŒŒë¥¼ ë¹¼ë©´?â€</strong>, <strong>â€œí›„ì¶”ë¥¼ ë¹¼ë©´?â€</strong>, <strong>â€œì†Œê¸ˆì„ ì¤„ì´ë©´?â€</strong> í•˜ëŠ” ì‹ìœ¼ë¡œ ì‹¤í—˜</li> <li>ìµœì¢…ì ìœ¼ë¡œ â€œì´ ì¬ë£Œê°€ í•µì‹¬ì´êµ¬ë‚˜!â€ë¥¼ ì°¾ì•„ë‚´ëŠ” ê³¼ì •</li> </ul> <p>ê·¸ë˜ì„œ ë…¼ë¬¸ì—ì„œ <strong>Ablation Study</strong>ë¼ê³  í•˜ë©´ â€œ<strong>ì´ ê¸°ëŠ¥ì´ ì—†ì—ˆìœ¼ë©´ ì–´ë• ì„ê¹Œ?</strong>â€œë¥¼ ì‹¤í—˜í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•˜ë©´ ë¨.</p>]]></content><author><name></name></author><category term="Study"/><summary type="html"><![CDATA[SVDQuant Project]]></summary></entry><entry><title type="html">Python env (Conda, Homebrew)</title><link href="https://hoonably.github.io/blog/python-env/" rel="alternate" type="text/html" title="Python env (Conda, Homebrew)"/><published>2025-02-17T07:26:20+00:00</published><updated>2025-02-17T07:26:20+00:00</updated><id>https://hoonably.github.io/blog/python-env</id><content type="html" xml:base="https://hoonably.github.io/blog/python-env/"><![CDATA[<h1 id="python--python3-alias">Python â†’ Python3 alias</h1> <p>aliasëŠ” ë§ê·¸ëŒ€ë¡œ ë³„ì¹­ì„ ì„¤ì •í•´ì£¼ëŠ” ëª…ë ¹ì–´</p> <p>pythonì´ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ python3ë¡œ ë™ì‘í•˜ë„ë¡ í•´ë¼!ëŠ” ì˜ë¯¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">python</span><span class="o">=</span>python3
</code></pre></div></div> <h1 id="macos-ê¸°ë³¸">macOS ê¸°ë³¸</h1> <ul> <li>macOS ê¸°ë³¸í¬í•¨</li> <li>/usr/bin/python3 (ë¹„ì¶”ì²œ, ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€)</li> <li>ì•„ë˜ íŒ¨í‚¤ì§€ë“¤ì€ macOS ê¸°ë³¸ íŒ¨í‚¤ì§€ë¼ ì§€ìš¸ í•„ìš” ì—†ìŒ</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/bin/python3 <span class="nt">-m</span> pip list
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë§¥ ê¸°ë³¸ í™˜ê²½</span>
Package    Version
<span class="nt">----------</span> <span class="nt">-------</span>
altgraph   0.17.2
future     0.18.2
macholib   1.15.2
pip        25.0.1
setuptools 58.0.4
six        1.15.0
wheel      0.37.0
</code></pre></div></div> <h1 id="homebrew">â­Â Homebrew</h1> <ul> <li>brew install pythonìœ¼ë¡œ ì‰½ê²Œ ì„¤ì¹˜ ê°€ëŠ¥.</li> <li>ìµœì‹  Python ë²„ì „ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.</li> <li>/opt/homebrew/bin/python3ì— ì„¤ì¹˜ë¨</li> <li><code class="language-plaintext highlighter-rouge">pip3</code>ìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬ ê°€ëŠ¥í•˜ë©°, ì‹œìŠ¤í…œ ê¸°ë³¸ Pythonê³¼ ë¶„ë¦¬ë¨.</li> <li> <p>ì„¤ì¹˜</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  /bin/bash <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> <span class="o">[</span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh]<span class="o">(</span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="o">)</span><span class="si">)</span><span class="s2">"</span>
</code></pre></div> </div> </li> <li> <p>Homebrewë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">echo</span> <span class="s1">'export PATH="/opt/homebrew/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.zshrc
  <span class="nb">source</span> ~/.zshrc
</code></pre></div> </div> </li> <li> <p>ì„¤ì¹˜ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  which brew
  brew <span class="nt">-v</span>
</code></pre></div> </div> </li> </ul> <h1 id="anaconda">â­Â Anaconda</h1> <ul> <li>ë°ì´í„° ê³¼í•™, ë¨¸ì‹ ëŸ¬ë‹(ML), ê³¼í•™ ì»´í“¨íŒ… í™˜ê²½ì— ìµœì í™”ë¨.</li> <li>íŒ¨í‚¤ì§€ ê´€ë¦¬ê°€ ì‰½ê³ , conda ëª…ë ¹ì–´ë¡œ ê°€ìƒí™˜ê²½ì„ ë§Œë“¤ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŒ.</li> <li> <p>Jupyter Notebook, SciPy, TensorFlow ë“± ì£¼ìš” ë°ì´í„° ê³¼í•™ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ë¨.</p> <p>â†’ AI ê´€ë ¨ ì¼ì„ í•  ë•Œ ê°€ìƒí™˜ê²½ì„ ë§Œë“¤ì–´ì„œ í™œìš©í•˜ì.</p> </li> <li>homebrewë¥¼ í†µí•œ ì„¤ì¹˜</li> </ul> <p>â†’ ê²½ë¡œê°€ homebrew/anaconda ë¡œ ì„¤ì¹˜ë¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> anaconda 
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì„¤ì¹˜ ì¤‘ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì´ ì½˜ë‹¤ê°€ ì„¤ì¹˜ëœ ìœ„ì¹˜ì„</span>
<span class="c"># ì´ ìœ„ì¹˜ë¥¼ ~/.zshrc íŒŒì¼ì— ì¶”ê°€</span>
<span class="nv">PREFIX</span><span class="o">=</span>/opt/homebrew/anaconda3
</code></pre></div></div> <ul> <li> <p><code class="language-plaintext highlighter-rouge">~/.zshrc</code> íŒŒì¼ì— homebrewë‚´ìš© ì£¼ì„ì²˜ë¦¬í•˜ê³  ë‹¤ìŒ ì¶”ê°€</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># export PATH="/opt/homebrew/bin:$PATH"</span>
  <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"/opt/homebrew/anaconda3/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div> </div> </li> <li> <p>ì„¤ì¹˜ í™•ì¸</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">source</span> ~/.zshrc
  which conda
  conda <span class="nt">-V</span>
</code></pre></div> </div> </li> </ul> <h2 id="conda-ê°€ìƒí™˜ê²½">conda ê°€ìƒí™˜ê²½</h2> <ul> <li>ê°€ìƒí™˜ê²½ ìƒì„±</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">--name</span> &lt;í™˜ê²½ëª…&gt; <span class="nv">python</span><span class="o">=</span>&lt;íŒŒì´ì¬ ë²„ì „&gt;
conda create <span class="nt">--name</span> py39 <span class="nv">python</span><span class="o">=</span>3.9
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ í™œì„±í™”</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda activate &lt;í™˜ê²½ëª…&gt;
conda activate py39
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ë¹„í™œì„±í™”</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda deactivate
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ë‚´ íŒ¨í‚¤ì§€ ì„¤ì¹˜</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda <span class="nb">install</span> &lt;íŒ¨í‚¤ì§€ëª…&gt;
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ëª©ë¡ í™•ì¸</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda <span class="nb">env </span>list
</code></pre></div></div> <ul> <li>ê°€ìƒí™˜ê²½ ì‚­ì œ</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda remove <span class="nt">--name</span> &lt;í™˜ê²½ëª…&gt; <span class="nt">--all</span>
<span class="c"># conda remove --name py39 --all</span>
</code></pre></div></div> <ul> <li>ì´ë¦„ë³€ê²½ â†’ ì•ˆë¨ â†’ ë³µì œ í›„ ì‚­ì œ</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">--name</span> &lt;ìƒˆë¡œìš´ í™˜ê²½&gt; <span class="nt">--clone</span> &lt;ì‚­ì œí•  í™˜ê²½&gt;
conda remove <span class="nt">--name</span> &lt;ì‚­ì œí•  í™˜ê²½&gt; <span class="nt">--all</span>
</code></pre></div></div> <h3 id="conda-ì´ˆê¸°í™”">conda ì´ˆê¸°í™”</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda init zsh
<span class="nb">source</span> ~/.zshrc
</code></pre></div></div> <h3 id="ìë™-ì½˜ë‹¤-ì‹¤í–‰-ì—†ì• ê¸°--ë§¥-ê¸°ë³¸-íŒŒì´ì¬ì´-ê¸°ë³¸">ìë™ ì½˜ë‹¤ ì‹¤í–‰ ì—†ì• ê¸° â†’ ë§¥ ê¸°ë³¸ íŒŒì´ì¬ì´ ê¸°ë³¸</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># base ìë™ í™œì„±í™” ë„ê¸°</span>
conda config <span class="nt">--set</span> auto_activate_base <span class="nb">false
source</span> ~/.zshrc

<span class="c"># ë°˜ëŒ€ëŠ” trueë¡œ ë°”ê¾¸ë©´ ë¨</span>
</code></pre></div></div> <h3 id="baseë§Œ-í‘œì‹œ-ì—†ì• ê³ -ë‚˜ë¨¸ì§€ëŠ”-py36ì²˜ëŸ¼-ëœ¨ë„ë¡">(base)ë§Œ í‘œì‹œ ì—†ì• ê³  ë‚˜ë¨¸ì§€ëŠ” (py36)ì²˜ëŸ¼ ëœ¨ë„ë¡</h3> <p>ë‹¤ìŒ ë‚´ìš©ì„ .zshrcì— ì €ì¥</p> <p><code class="language-plaintext highlighter-rouge">conda config --set auto_activate_base false</code> ì—¬ì•¼í•¨</p> <p>ê¸°ë³¸ì€ ì›ë˜ ë§¥ ê¸°ë³¸ íŒŒì´ì¬ì¸ë°, 2)ì—ì„œ ìë™ìœ¼ë¡œ base í™œì„±í™”</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># &gt;&gt;&gt; base í™˜ê²½ì—ì„œë§Œ (base) ìˆ¨ê¸°ê¸° &gt;&gt;&gt;</span>
<span class="c"># 1) ì´ˆê¸° PS1 ì €ì¥ (ì¤‘ë³µ ë°©ì§€ìš© ì²´í¬)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$ORIGINAL_PS1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">export </span><span class="nv">ORIGINAL_PS1</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PS1</span><span class="s2">"</span>
<span class="k">fi</span>
<span class="c"># 2) base ìë™ í™œì„±í™”</span>
conda activate base
<span class="c"># 3) baseì¼ ë•Œë§Œ (base) í‘œì‹œë¥¼ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜</span>
<span class="k">function </span>_conda_prompt_override<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$CONDA_DEFAULT_ENV</span> <span class="o">==</span> <span class="s2">"base"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        <span class="c"># baseì¼ ë•Œ í”„ë¡¬í”„íŠ¸ë¥¼ ì›ë˜ PS1ìœ¼ë¡œ ëŒë ¤ì„œ (base) ìˆ¨ê¸°ê¸°</span>
        <span class="nv">PS1</span><span class="o">=</span><span class="s2">"</span><span class="nv">$ORIGINAL_PS1</span><span class="s2">"</span>
    <span class="k">fi</span>
    <span class="c"># baseê°€ ì•„ë‹ ë•, (env_name)ì´ ê·¸ëŒ€ë¡œ í‘œì‹œë¨</span>
<span class="o">}</span>
<span class="c"># 4) Zshì˜ precmd_functionsì— ë“±ë¡</span>
precmd_functions+<span class="o">=(</span>_conda_prompt_override<span class="o">)</span>
<span class="c"># &lt;&lt;&lt; base í™˜ê²½ì—ì„œë§Œ (base) ìˆ¨ê¸°ê¸° &lt;&lt;&lt;</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/.zshrc
</code></pre></div></div> <h1 id="pyenv">pyenv</h1> <p>ì—¬ëŸ¬ Python ë²„ì „ì„ ê´€ë¦¬í•´ì•¼ í•œë‹¤ë©´ ìœ ìš©</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv <span class="o">(</span>pyenv <span class="nb">install</span> &lt;version&gt;<span class="o">)</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="Tip"/><summary type="html"><![CDATA[Python â†’ Python3 alias]]></summary></entry><entry><title type="html">PixArt-Î£: Weak-to-Strong Training of Diffusion Transformer for 4K Text-to-Image Generation</title><link href="https://hoonably.github.io/blog/pixart-sigma/" rel="alternate" type="text/html" title="PixArt-Î£: Weak-to-Strong Training of Diffusion Transformer for 4K Text-to-Image Generation"/><published>2025-02-08T16:27:40+00:00</published><updated>2025-02-08T16:27:40+00:00</updated><id>https://hoonably.github.io/blog/pixart-sigma</id><content type="html" xml:base="https://hoonably.github.io/blog/pixart-sigma/"><![CDATA[<table class="simple-table" id="198451cf-7b79-805f-bd44-e09e7b51e51b"><tbody><tr id="198451cf-7b79-803e-8cf3-c2ed86d84ade"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">ArXiv</th><td class="" id="L|H:" style="width:580.5px"><a href="https://arxiv.org/abs/2403.04692">https://arxiv.org/abs/2403.04692</a></td></tr><tr id="198451cf-7b79-80eb-8b93-f3080c4fd2b0"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Project Page</th><td class="" id="L|H:" style="width:580.5px"><a href="https://pixart-alpha.github.io/PixArt-sigma-project/">https://pixart-alpha.github.io/PixArt-sigma-project/</a></td></tr><tr id="198451cf-7b79-80aa-8b1c-fc11c387db38"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Github Code</th><td class="" id="L|H:" style="width:580.5px"><a href="https://github.com/PixArt-alpha/PixArt-sigma">https://github.com/PixArt-alpha/PixArt-sigma</a></td></tr><tr id="241451cf-7b79-80fd-a1c0-e7b1b709d3d0"><th class="simple-table-header-color simple-table-header" id="MApI" style="width:125.5px">Affiliation</th><td class="" id="L|H:" style="width:580.5px"> Huawei Noahâ€™s Ark Lab, Dalian University of Technology, HKU, HKUST</td></tr></tbody></table> <p class="" id="198451cf-7b79-80d2-b472-d6b4113fd4ef"> </p> <figure class="block-color-teal_background callout" id="198451cf-7b79-8031-9793-d00fb2183a11" style="white-space:pre-wrap;display:flex"><div style="font-size:1.5em"><span class="icon">ğŸ’¡</span></div><div style="width:100%">Â <strong>Key Differentiator</strong><li style="list-style-type:disc">ê¸°ì¡´ ì—°êµ¬ì˜€ë˜ PixArt-Î±ì—ì„œ ìµœì í™”ë¥¼ í†µí•´ 4K ì´ˆê³ í•´ìƒë„ê¹Œì§€ ê°€ëŠ¥í•˜ë„ë¡ ì—°êµ¬</li><li style="list-style-type:disc">4Kë¥¼ transformerë¥¼ í™œìš©í•´ directlyë¡œ í•œë²ˆì— ìƒì„±</li></div></figure> <p class="" id="198451cf-7b79-80dd-a527-d58350acefed"> </p> <div style="position:relative; width:100%; aspect-ratio:1214/749;"> <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vRFd2ZFGe1cINmVpTzQ6hn6SOMPVCFsLh4TSWCD5mMP_ffYFqn7xWZAgPsraIg4MA/pubembed?start=false&amp;loop=false&amp;delayms=3000" style="position:absolute; top:0; left:0; width:100%; height:100%;" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"> </iframe> </div> <h1 class="" id="198451cf-7b79-8054-9266-dd0fbbab0df3">2. Related Work</h1> <h3 class="" id="198451cf-7b79-80e7-8cdf-c20770f56386">Â <strong>PixArt-Î± (ICLR 2024 Spotlight) </strong></h3> <li style="list-style-type:disc">Â <strong>ìµœì´ˆì˜ Transformer ê¸°ë°˜ Diffusion Model (DiT)ë¡œ 1024Ã—1024 í•´ìƒë„ê¹Œì§€ ìƒì„± ê°€ëŠ¥</strong></li> <h3 class="" id="198451cf-7b79-803d-aa36-d7a69c28e183">Â <strong>Stable Diffusion XL (SDXL, 2023)</strong></h3> <li style="list-style-type:disc">Â <strong>Latent Diffusion Model (LDM) êµ¬ì¡°ë¥¼ í™œìš©í•˜ì—¬ 1024Ã—1024 ì´ìƒì˜ ê³ í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„± ê°€ëŠ¥</strong></li> <h3 class="" id="198451cf-7b79-80ab-9702-cb59f71cd9e5">Â <strong>GigaGAN (Adobe, 2023)</strong></h3> <li style="list-style-type:disc">Â <strong>GAN ê¸°ë°˜ ì´ˆê³ í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„± ëª¨ë¸ (1024px ì´ìƒ ì§€ì›)</strong></li> <h3 class="" id="198451cf-7b79-80a8-868a-db925c0f61f7">Â <strong>LLaVA (Visual Instruction Tuning, 2023) </strong></h3> <li style="list-style-type:disc">Â <strong>ì´ë¯¸ì§€-í…ìŠ¤íŠ¸ ì •ë ¬ì„ í•™ìŠµí•˜ì—¬ ì´ë¯¸ì§€ì— ëŒ€í•œ ì„¤ëª…(ìº¡ì…˜)ì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ëª¨ë¸</strong></li> <h3 class="" id="198451cf-7b79-80f9-8912-c30f3ce54c23">Â <strong>DALLÂ·E 3 (OpenAI, 2023)</strong></h3> <li style="list-style-type:disc">Â <strong>GPT-4 ê¸°ë°˜ í…ìŠ¤íŠ¸ ì´í•´ë ¥ì„ í™œìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ë” ì •ë°€í•˜ê²Œ ë°˜ì˜</strong></li> <p class="" id="198451cf-7b79-8005-83d0-f4946cd8ffde"> </p> <p class="" id="198451cf-7b79-8009-b0be-d2add40b8edc"> </p> <h1 class="" id="198451cf-7b79-803f-91bc-fe73edcc8649">3. Framework</h1> <h2 class="" id="198451cf-7b79-802c-aba9-d4325efaeb2a">3.1 Data Analysis</h2> <table class="simple-table" id="198451cf-7b79-806a-b5fd-ccf03e0bc696"><tbody><tr id="198451cf-7b79-8035-93a0-da8afe5819bc"><td class="" id="FloJ" style="width:230px"></td><td class="" id="RKqt" style="width:230px">Â <strong>Data</strong></td><td class="" id="}{dw" style="width:230px"></td></tr><tr id="198451cf-7b79-803d-af4d-d1501fec2a76"><td class="" id="FloJ" style="width:230px">Internal-Î±</td><td class="" id="RKqt" style="width:230px">14M</td><td class="" id="}{dw" style="width:230px"></td></tr><tr id="198451cf-7b79-80ee-af10-f8e54e7ee345"><td class="" id="FloJ" style="width:230px">Â <strong>Internal-Î£</strong></td><td class="" id="RKqt" style="width:230px">Â <strong>33M</strong></td><td class="" id="}{dw" style="width:230px">&gt;=1K (33M)<br/>real photo 4K (8M)<br/></td></tr><tr id="198451cf-7b79-80c3-8e22-d316a427fc0d"><td class="" id="FloJ" style="width:230px">SD v1.5<br/>(open-source)<br/></td><td class="" id="RKqt" style="width:230px">2B</td><td class="" id="}{dw" style="width:230px"></td></tr></tbody></table> <p class="" id="198451cf-7b79-8094-a271-f15fe615d403">a ë•Œë³´ë‹¤ ë°ì´í„°ê°€ ë§ì´ ëŠ˜ì—ˆê³ , 4K real photoë„ ì¶”ê°€í•¨.</p> <p class="" id="198451cf-7b79-804e-a0e8-ea8d09177909">í•˜ì§€ë§Œ SD v1.5ê°€ 2B ë°ì´í„°ì¸ê±¸ ê°ì•ˆí•˜ë©´ ì•„ì£¼ ì œí•œì ì¸ ë°ì´í„°.</p> <p class="" id="198451cf-7b79-8047-a9b8-d44900df2519">í•˜ì§€ë§Œ íš¨ê³¼ì ìœ¼ë¡œ trainingí•¨.</p> <p class="" id="198451cf-7b79-808f-bfc7-fc83e49af522">ì´ë¯¸ì§€ì˜ ì˜ˆìˆ ì  í’ˆì§ˆì„ í‰ê°€í•˜ëŠ” Aesthetic Scoring Model(AES)ì„ ì‚¬ìš©í•˜ì—¬ Â <strong>2M(200ë§Œ ì¥)ì˜ ê³ í’ˆì§ˆ ì´ë¯¸ì§€ ì„ ë³„</strong>.</p> <p class="" id="198451cf-7b79-8080-9945-d495868ec074"> â†’ í•´ìƒë„ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ëª¨ë¸ì˜ ì¶©ì‹¤ë„(í”„ë ˆì…° ì´ˆì  ê±°ë¦¬(FID) [18])ì™€ ì˜ë¯¸ì  ì •ë ¬(CLIP ì ìˆ˜)ì´ í–¥ìƒ</p> <p class="" id="198451cf-7b79-80dd-93c1-eaeba7f736e3"> </p> <h3 class="" id="198451cf-7b79-80c0-b8ba-d7a58115cbd8">Better Text-Image Alignment</h3> <p class="" id="198451cf-7b79-80ae-965a-ec87b601306a">â¡ Â <strong>í…ìŠ¤íŠ¸ í”„ë¡¬í”„íŠ¸(ì„¤ëª…)ì™€ ìƒì„±ëœ ì´ë¯¸ì§€ê°€ ì–¼ë§ˆë‚˜ ì¼ì¹˜í•˜ëŠ”ì§€</strong></p> <p class="" id="198451cf-7b79-80f7-9a72-eedfecb581fe">Â <strong>ì¦‰, ì‚¬ìš©ìê°€ ì…ë ¥í•œ í…ìŠ¤íŠ¸(prompt)ì™€ ëª¨ë¸ì´ ìƒì„±í•œ ì´ë¯¸ì§€ê°€ ì–¼ë§ˆë‚˜ ì •í™•í•˜ê²Œ ëŒ€ì‘í•˜ëŠ”ì§€ë¥¼ í‰ê°€í•˜ëŠ” ê°œë…</strong></p> <hr id="198451cf-7b79-801c-a94a-e793a150eaf7"/> <p class="" id="198451cf-7b79-800b-943b-f61d0b223d53"> </p> <p class="" id="198451cf-7b79-8096-84b6-d5cdcd2f5df3">PixArt-Î± ëŠ” LLaVaë¥¼ ì‚¬ìš©í•˜ì˜€ê³ , PixArt-Î£ëŠ” Share-Captioner ì‚¬ìš©</p> <table class="simple-table" id="198451cf-7b79-80d5-be53-ec995af83c2a"><tbody><tr id="198451cf-7b79-8006-b421-c92e94756f9c"><td class="" id="Nq=E">í•­ëª©</td><td class="" id="&gt;m?`">LLaVA</td><td class="" id="URoO">Share-Captioner</td></tr><tr id="198451cf-7b79-80e9-bf0a-d06eba170da4"><td class="" id="Nq=E">Â <strong>ê¸°ë°˜ ëª¨ë¸</strong></td><td class="" id="&gt;m?`">CLIP + LLaMA</td><td class="" id="URoO">GPT-4V (GPT-4 with Vision)</td></tr><tr id="198451cf-7b79-804b-ba84-e90260dc87ed"><td class="" id="Nq=E">Â <strong>í…ìŠ¤íŠ¸ ìƒì„±</strong></td><td class="" id="&gt;m?`">ë¹„êµì  ë‹¨ìˆœ</td><td class="" id="URoO">ë” ê¸¸ê³  ì„¸ë°€í•œ ì„¤ëª…</td></tr><tr id="198451cf-7b79-800d-be93-f670c3a83f1f"><td class="" id="Nq=E">Â <strong>ì •í™•ë„</strong></td><td class="" id="&gt;m?`">ê°€ë” í™˜ê° ë¬¸ì œ ë°œìƒ</td><td class="" id="URoO">ë” ë†’ì€ ì •í™•ë„</td></tr><tr id="198451cf-7b79-80ea-b426-f684de0c5237"><td class="" id="Nq=E">Â <strong>ì´ë¯¸ì§€ ë””í…Œì¼ ë°˜ì˜</strong></td><td class="" id="&gt;m?`">ì œí•œì  (ë‹¨ìˆœ ì„¤ëª…)</td><td class="" id="URoO">ë” ì •ë°€í•œ ê°ì²´ ë° ê´€ê³„ ì„¤ëª…</td></tr><tr id="198451cf-7b79-80c3-85ac-e5d3a5db0589"><td class="" id="Nq=E">Â <strong>ìº¡ì…˜ í’ˆì§ˆ</strong></td><td class="" id="&gt;m?`">ì¼ë°˜ì ì¸ ì„¤ëª… ìˆ˜ì¤€</td><td class="" id="URoO">ê³ í’ˆì§ˆ, êµ¬ì²´ì ì¸ ë¬˜ì‚¬ ê°€ëŠ¥</td></tr></tbody></table> <p class="" id="198451cf-7b79-8054-b0bf-d21d70addb5a">ë‹¤ìŒê³¼ ê°™ì€ í™˜ê° (Hallucinations)ê°€ ë°œìƒí–ˆì—ˆìŒ</p> <figure class="image" id="198451cf-7b79-8065-861b-c4b5ec4453e4"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image.webp" style="width:710px"/></picture></figure> <table class="simple-table" id="198451cf-7b79-80f3-978e-cf487938785a"><tbody><tr id="198451cf-7b79-8013-b727-c467469468e9"><td class="" id="k:ap">Â <strong>í•­ëª©</strong></td><td class="" id="dz&gt;|">Â <strong>PixArt-Î±</strong></td><td class="" id="OS[X">Â <strong>PixArt-Î£</strong></td></tr><tr id="198451cf-7b79-80e9-bc66-c227557f3ed0"><td class="" id="k:ap">Â <strong>í…ìŠ¤íŠ¸ í•´ì„ ê¸¸ì´</strong></td><td class="" id="dz&gt;|">120 í† í°</td><td class="" id="OS[X">Â <strong>300 í† í° (2.5ë°° ì¦ê°€)</strong></td></tr><tr id="198451cf-7b79-8041-9e0a-c4af31775aaa"><td class="" id="k:ap">Â <strong>ìº¡ì…˜ ìƒì„± ëª¨ë¸</strong></td><td class="" id="dz&gt;|">LLaVA (ë‹¨ìˆœí•¨)</td><td class="" id="OS[X">Â <strong>Share-Captioner (ì •í™•í•œ ì„¤ëª…)</strong></td></tr><tr id="198451cf-7b79-8046-9264-eaa64c9255c9"><td class="" id="k:ap">Â <strong>CLIP Score</strong></td><td class="" id="dz&gt;|">0.2787</td><td class="" id="OS[X">Â <strong>0.2797 (í–¥ìƒë¨)</strong></td></tr><tr id="198451cf-7b79-808c-913b-d00e8ef74ed4"><td class="" id="k:ap">Â <strong>í™˜ê° ë¬¸ì œ í•´ê²°</strong></td><td class="" id="dz&gt;|">ì¼ë¶€ ì¡´ì¬</td><td class="" id="OS[X">Â <strong>í™˜ê° ê°ì†Œ (ë” ì •ë°€í•œ ìº¡ì…˜ ì‚¬ìš©)</strong></td></tr></tbody></table> <p class="" id="198451cf-7b79-80e2-a725-d5aaa614509c">â¡ Â <strong>PixArt-Î£ëŠ” ë” ê¸´ ë¬¸ì¥ì„ í•´ì„í•˜ê³ , ë” ì •êµí•œ ìº¡ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì„±ëŠ¥ì„ ë†’ì˜€ìŒ</strong>.</p> <p class="" id="198451cf-7b79-80f6-826c-e0f1bc0b8c01">â¡ Â <strong>Share-Captionerë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ ê°„ ì •ë³´ ì¼ì¹˜ë„ë¥¼ ê°œì„ </strong>í•¨.</p> <p class="" id="198451cf-7b79-8025-9e40-fd291a222d6b"> </p> <h3 class="" id="198451cf-7b79-808e-be20-f1c17483c338">í‰ê°€ ë°ì´í„°ì…‹ êµ¬ì„± (High-Quality Evaluation Dataset)</h3> <li style="list-style-type:disc">ê¸°ì¡´ ëª¨ë¸ë“¤ì´ ì‚¬ìš©í•˜ëŠ” Â <strong>MSCOCO ë°ì´í„°ì…‹ì€ ì˜ˆìˆ ì  í’ˆì§ˆê³¼ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ì„ í‰ê°€í•˜ê¸°ì— ì¶©ë¶„í•˜ì§€ ì•ŠìŒ</strong>.</li> <li style="list-style-type:disc">ë”°ë¼ì„œ PixArt-Î£ëŠ” Â <strong>ìƒˆë¡œìš´ í‰ê°€ ë°ì´í„°ì…‹(30,000ê°œ ìƒ˜í”Œ) êµ¬ì¶•</strong>.</li> <li style="list-style-type:disc">í‰ê°€ í•­ëª©:<ol class="numbered-list" id="198451cf-7b79-8003-89f5-c0abf99ff796" start="1" type="1"><li>Â <strong>FrÃ©chet Inception Distance (FID)</strong> â†’ ì´ë¯¸ì§€ í’ˆì§ˆ í‰ê°€</li></ol><ol class="numbered-list" id="198451cf-7b79-80a2-b92d-e8a45717310e" start="2" type="1"><li>Â <strong>CLIP Score</strong> â†’ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ì„±ëŠ¥ í‰ê°€</li></ol></li> <figure class="image" id="198451cf-7b79-8081-a740-d196f7dc6842"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%201.webp" style="width:709.9921875px"/></picture></figure> <p class="" id="198451cf-7b79-80c0-b162-f80a0b19ea6d"> </p> <h2 class="" id="198451cf-7b79-80b8-ae3c-d5fcacbb1181">3.2 Efficient DiT Design</h2> <h3 class="" id="198451cf-7b79-80e2-8888-c17a52a8ee63">Â <strong>Key-Value (KV) Token Compression ê¸°ë²•</strong></h3> <p class="" id="198451cf-7b79-8049-9263-f5e57018fa91">Â <strong>ğŸ”¹ ê¸°ì¡´ Attention ì—°ì‚° ë¬¸ì œ</strong></p> <li style="list-style-type:disc">Self-Attentionì€ Â <strong>Query(Q), Key(K), Value(V)ì˜ ê³±ì„ ê³„ì‚°</strong>í•˜ëŠ” ë°©ì‹ì´ë¯€ë¡œ,í† í° ê°œìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ Â <strong>ì—°ì‚°ëŸ‰ì´ O(NÂ²)ìœ¼ë¡œ ì¦ê°€</strong>í•¨.</li> <li style="list-style-type:disc">Â <strong>í•´ê²° ë°©ë²•</strong>: Keyì™€ Value í† í°ì„ ì••ì¶•í•˜ì—¬ ì—°ì‚°ëŸ‰ì„ ì¤„ì„.</li> <p class="" id="198451cf-7b79-80c4-b162-ebc204c2c617">Â <strong>ğŸ”¹ PixArt-Î£ì˜ KV Token Compression ë°©ì‹</strong></p> <figure class="equation" id="230451cf-7b79-80f5-be60-edfdfb4a39fb"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Attention</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>softmax</mtext><mrow><mo fence="true">(</mo><mfrac><mrow><mi>Q</mi><mo>â‹…</mo><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><mi>K</mi><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac><mo fence="true">)</mo></mrow><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><mi>V</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Attention}(Q, K, V) = \text{softmax}\left( \frac{Q \cdot f_c(K)^T}{\sqrt{d_k}} \right) f_c(V)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Attention</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4684em;vertical-align:-0.95em;"></span><span class="mord text"><span class="mord">softmax</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.2528em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8572em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8172em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 1080" width="400em" xmlns="http://www.w3.org/2000/svg"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1828em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span></span></span></div></figure> <li style="list-style-type:disc">Â <strong>PixArt-Î£ (í† í° ì••ì¶• ì ìš©)</strong>:<li style="list-style-type:circle">Key(K)ì™€ Value(V)ë¥¼ Â <strong>Stride 2ì˜ Group Convolution</strong>ì„ ì‚¬ìš©í•´ ì••ì¶•</li><li style="list-style-type:circle">ì´ë¥¼ í†µí•´ í† í° ê°œìˆ˜ë¥¼ Â <strong>N â†’ N/R^2 ìœ¼ë¡œ ì¤„ì„</strong></li><li style="list-style-type:circle">ì •í™•ë„ê°€ í¬ê²Œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ì„ ì—ì„œ Rì„ ì¡°ì • (1~4)í•˜ê¸°</li><li style="list-style-type:circle">ìµœì¢…ì ìœ¼ë¡œ Â <strong>ì—°ì‚°ëŸ‰ì„ ê¸°ì¡´ ëŒ€ë¹„ ì•½ 34% ì ˆê°</strong></li></li> <p class="" id="198451cf-7b79-8049-9ab7-f2a09ab8e72c"> Â <strong>í•µì‹¬ íš¨ê³¼</strong></p> <li style="list-style-type:disc">Â <strong>4K í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„± ì†ë„ í–¥ìƒ</strong> (ì—°ì‚°ëŸ‰ ê°ì†Œ)</li> <li style="list-style-type:disc">Â <strong>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ â†’ ë” ì‘ì€ GPUì—ì„œë„ ì‹¤í–‰ ê°€ëŠ¥</strong></li> <li style="list-style-type:disc">Â <strong>ê¸°ì¡´ PixArt-Î± ëª¨ë¸ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì—…ê·¸ë ˆì´ë“œ ê°€ëŠ¥</strong> (ê¸°ì¡´ ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜ë¥¼ í™œìš©)</li> <p class="" id="198451cf-7b79-80d8-8f6b-d3d2449972f5"> </p> <div class="column-list" id="198451cf-7b79-809a-ac9f-d17f72b6045b"><div class="column" id="198451cf-7b79-8071-9b2c-c5a415a72560" style="width:31.25%"><figure class="image" id="198451cf-7b79-8086-824b-e53cc50346f3"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%202.webp" style="width:384px"/></picture></figure></div><div class="column" id="198451cf-7b79-8081-ab48-dd6e6c89f2de" style="width:68.75%"><figure class="image" id="198451cf-7b79-8021-88a9-e77e27d26536"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%203.webp" style="width:414.984375px"/></picture></figure></div></div> <p class="" id="198451cf-7b79-80b5-9ee9-ed637f7cb885"> </p> <h2 class="" id="198451cf-7b79-809c-b328-de46d4823a87"><mark class="highlight-red_background">3.3 Weak-to-Strong Training Strategy</mark></h2> <p class="" id="198451cf-7b79-808a-acef-c10179883a61">PixArt-Î£ì˜ Weak-to-Strong Trainingì€ Â <strong>ê¸°ì¡´ ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜ë¥¼ í™œìš©í•˜ì—¬ ë¹ ë¥´ê²Œ ì ì‘í•˜ë„ë¡ ì„¤ê³„ë¨</strong>.</p> <p class="" id="198451cf-7b79-80c3-9764-c9e7f02bbfe9">ì´ ê³¼ì •ì—ì„œ Â <strong>3ë‹¨ê³„ì˜ í•™ìŠµ ì „ëµ</strong>ì´ ì ìš©ë¨.</p> <h3 class="" id="198451cf-7b79-8065-9a2f-eeba0942ed68">Â <strong>(1) VAE ì ì‘ (VAE Adaptation)</strong></h3> <li style="list-style-type:disc">PixArt-Î±ì—ì„œ ì‚¬ìš©í•˜ë˜ ê¸°ì¡´ VAEë¥¼ Â <strong>Stable Diffusion XL(SDXL)ì˜ VAEë¡œ êµì²´</strong></li> <li style="list-style-type:disc">Â <strong>VAE êµì²´ í›„ ë¹ ë¥¸ ì ì‘ì„ ìœ„í•´ 2K Training Steps ë§Œì— ìˆ˜ë ´í•˜ë„ë¡ í•™ìŠµ ì „ëµ ì ìš©</strong>.</li> <li style="list-style-type:disc">ìƒˆë¡œìš´ VAE ì ìš© í›„ì—ë„ Â <strong>ê¸°ì¡´ ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ë¹ ë¥´ê²Œ í•™ìŠµ ê°€ëŠ¥</strong>.</li> <figure class="image" id="198451cf-7b79-80fd-9882-fd418e35e033"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%204.webp" style="width:192px"/></picture></figure> <h3 class="" id="198451cf-7b79-8089-ab89-e83180516114">Â <strong>(2) í•´ìƒë„ ì—…ê·¸ë ˆì´ë“œ (Resolution Upscaling)</strong></h3> <li style="list-style-type:disc">256px â†’ 512px â†’ 1024px â†’ 4Kë¡œ ì ì§„ì ìœ¼ë¡œ í•´ìƒë„ë¥¼ ì¦ê°€ì‹œí‚¤ë©° í•™ìŠµ.</li> <p class="" id="198451cf-7b79-8041-8bb3-c3d39baceb06"> </p> <li style="list-style-type:disc">Â <strong>PE Interpolation</strong>(ìœ„ì¹˜ ì„ë² ë”© ë³´ê°„ë²•)ì„ ì ìš©í•˜ì—¬, ê¸°ì¡´ í•´ìƒë„ì˜ ê°€ì¤‘ì¹˜ë¥¼ ìƒˆ í•´ìƒë„ì—ì„œë„ ìì—°ìŠ¤ëŸ½ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì¡°ì •.<li style="list-style-type:circle">ë³´ê°„ë²• (Interpolation)ì€Â Â <strong>ì•Œë ¤ì§„ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ê°’ì„ ê³„ì‚°í•˜ëŠ” í”„ë¡œì„¸ìŠ¤</strong></li><li style="list-style-type:circle">Transformer ê¸°ë°˜ ëª¨ë¸(ì˜ˆ: DiT, ViT ë“±)ì€ Â <strong>ì…ë ¥ ì´ë¯¸ì§€ì˜ ê° ìœ„ì¹˜ ì •ë³´ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ìœ„ì¹˜ ì„ë² ë”©ì„ ì‚¬ìš©</strong>.</li><li style="list-style-type:circle">ëª¨ë¸ì´ 256Ã—256ì—ì„œ í•™ìŠµë˜ì—ˆë‹¤ë©´, Â <strong>256Ã—256 í•´ìƒë„ì— ìµœì í™”ëœ ìœ„ì¹˜ ì„ë² ë”©ì„ í•™ìŠµí•¨</strong>.</li><li style="list-style-type:circle">í•˜ì§€ë§Œ í•´ìƒë„ë¥¼ 1024Ã—1024ë¡œ ì¦ê°€ì‹œí‚¤ë©´, Â <strong>ê¸°ì¡´ 256Ã—256 ìœ„ì¹˜ ì„ë² ë”©ê³¼ êµ¬ì¡°ê°€ ë‹¬ë¼ì ¸ ëª¨ë¸ ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ì €í•˜ë¨</strong>.</li><li style="list-style-type:circle">ê¸°ì¡´ ìœ„ì¹˜ ì„ë² ë”©ì„ 1024Ã—1024 í¬ê¸°ë¡œ ë³´ê°„(interpolation)</li><li style="list-style-type:circle">ì¦‰, 256ê°œì˜ ê°’ì„ 1024ê°œë¡œ í™•ì¥í•˜ëŠ” ê³¼ì •ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ë§¤ë„ëŸ¬ìš´ ê°’ìœ¼ë¡œ ë³€í™˜ë¨.</li><li style="list-style-type:circle">ì´ë¥¼ í†µí•´ ìƒˆë¡œìš´ í•´ìƒë„ì—ì„œë„ ê¸°ì¡´ ëª¨ë¸ì˜ ê³µê°„ ì •ë³´ê°€ ìœ ì§€ë¨.</li></li> <p class="" id="198451cf-7b79-80f3-8aec-ce3be5a8bf54"> </p> <li style="list-style-type:disc">Â <strong>ë‹¨ 1000 Training Stepsë§Œìœ¼ë¡œë„ í•´ìƒë„ ì¦ê°€ì— ì ì‘ ê°€ëŠ¥</strong>.</li> <figure class="image" id="198451cf-7b79-8079-b2a7-f961c1a116f2"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%205.webp" style="width:336px"/></picture></figure> <h3 class="" id="198451cf-7b79-8021-804d-dbb1290586b1">Â <strong>(3) KV Token Compression ë„ì… (ì—°ì‚° ìµœì í™”)</strong></h3> <li style="list-style-type:disc">PixArt-Î£ ëª¨ë¸ì€ KV Token Compressionì„ ì ìš©í–ˆìŒ</li> <li style="list-style-type:disc"><span style="border-bottom:0.05em solid">í•˜ì§€ë§Œ </span>Â <strong><span style="border-bottom:0.05em solid">ê¸°ì¡´ ëª¨ë¸ê³¼ êµ¬ì¡°ê°€ ë‹¬ë¼ì„œ ì„±ëŠ¥ ì €í•˜ ìœ„í—˜ì´ ìˆìŒ</span></strong><span style="border-bottom:0.05em solid">.</span></li> <li style="list-style-type:disc">PixArt-Î£ì—ì„œëŠ” Â <strong>ê¸°ì¡´ ëª¨ë¸ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì ì‘í•˜ë„ë¡ "Conv Avg Init." ì „ëµ ì ìš©</strong>.</li> <h3 class="" id="198451cf-7b79-80a9-a350-e200bda87902">Â <strong>í‰ê·  ì—°ì‚°(Averaging) ê¸°ë°˜ ì´ˆê¸°í™”</strong></h3> <li style="list-style-type:disc">Â <strong>Conv Avg Initì€ ê°€ì¤‘ì¹˜ ê°’ì„ </strong><code>Â <strong>1/RÂ²</strong></code>Â <strong>ë¡œ ì„¤ì •í•˜ì—¬, ê¸°ì¡´ ì •ë³´ë¥¼ ìµœëŒ€í•œ ìœ ì§€í•˜ë©´ì„œ ë¶€ë“œëŸ½ê²Œ ì „í™˜í•¨</strong>.</li> <li style="list-style-type:disc">Â <strong>ì¦‰, ë‹¨ìˆœíˆ ì••ì¶•í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê¸°ì¡´ ê³µê°„ ì •ë³´ë¥¼ ìµœëŒ€í•œ ë³´ì¡´í•˜ëŠ” ë°©ì‹</strong>.</li> <p class="" id="198451cf-7b79-8089-b96e-f0e7e4db6b4b"> </p> <li style="list-style-type:disc">ì´ˆê¸°ì—ëŠ” ì••ì¶• ì—†ì´ í•™ìŠµ í›„, Â <strong>í•™ìŠµì´ ì•ˆì •í™”ë˜ë©´ KV Compressionì„ ì ìš©í•˜ì—¬ ì—°ì‚°ëŸ‰ ê°ì†Œ</strong>.</li> <li style="list-style-type:disc">Â <strong>4K ì´ë¯¸ì§€ ìƒì„± ì‹œ ì—°ì‚°ëŸ‰ 34% ì ˆê°</strong>.</li> <p class="" id="198451cf-7b79-8021-a917-e67f5a6d2ffa"> Â <strong>ê²°ê³¼ì ìœ¼ë¡œ, ê¸°ì¡´ PixArt-Î± ëŒ€ë¹„ ì ì€ ì—°ì‚°ëŸ‰ê³¼ ë¹ ë¥¸ í•™ìŠµìœ¼ë¡œ 4K ì´ë¯¸ì§€ ìƒì„±ì´ ê°€ëŠ¥í•´ì§.</strong></p> <figure class="image" id="198451cf-7b79-800d-b133-d38528657563"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%206.webp" style="width:288px"/></picture></figure> <p class="" id="198451cf-7b79-805c-b618-eaa6d23e9448"> </p> <p class="" id="198451cf-7b79-80d2-9295-eea09dac9e2e"> </p> <h1 class="" id="198451cf-7b79-800f-95c4-ffd719a9f131">4. Experiment</h1> <h2 class="" id="198451cf-7b79-8032-bc3b-d4e84333d747">4.1 Implementation Details (êµ¬í˜„ ì„¸ë¶€ì‚¬í•­)</h2> <h3 class="" id="198451cf-7b79-8096-aeb0-d3139434547a">Â <strong>1. ëª¨ë¸ êµ¬ì„±</strong></h3> <p class="" id="198451cf-7b79-8072-8835-d3827b25682f"> Â <strong>í…ìŠ¤íŠ¸ ì¸ì½”ë”</strong></p> <li style="list-style-type:disc">Â <strong>Flan-T5-XXL ì‚¬ìš©</strong> (Imagen ë° PixArt-Î±ì™€ ë™ì¼)</li> <li style="list-style-type:disc">ê¸°ì¡´ ëª¨ë¸ì—ì„œ Â <strong>120ê°œ í† í°</strong>ì„ ì‚¬ìš©í•˜ë˜ ê²ƒì„ Â <strong>300ê°œ í† í°ê¹Œì§€ í™•ì¥</strong>í•˜ì—¬ ë” ì •ë°€í•œ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ê°€ëŠ¥.</li> <p class="" id="198451cf-7b79-80d3-bc34-cdd1e68aa78e"> Â <strong>VAE (Variational Autoencoder) ì ìš©</strong></p> <li style="list-style-type:disc">Â <strong>Stable Diffusion XL(SDXL)ì˜ VAE ì‚¬ìš©</strong></li> <li style="list-style-type:disc">Â <strong>ë” ë†’ì€ í’ˆì§ˆì˜ ì´ë¯¸ì§€ ë””ì½”ë”© ê°€ëŠ¥</strong> â†’ ì„¸ë°€í•œ ë””í…Œì¼ ë³´ì¡´</li> <p class="" id="198451cf-7b79-801e-8dc7-f70530015975"> Â <strong>ê¸°ë°˜ ëª¨ë¸</strong></p> <li style="list-style-type:disc">Â <strong>PixArt-Î±ë¥¼ ë² ì´ìŠ¤ ëª¨ë¸ë¡œ ì‚¬ìš©</strong></li> <li style="list-style-type:disc">Â <strong>256px ì‚¬ì „ í•™ìŠµëœ ì²´í¬í¬ì¸íŠ¸ë¥¼ í™œìš©í•˜ì—¬ 4Kê¹Œì§€ í™•ì¥</strong></li> <p class="" id="198451cf-7b79-80d7-ab1d-f28fb1bb798b"> Â <strong>KV Token Compression ì ìš©</strong></p> <li style="list-style-type:disc">Â <strong>ì—°ì‚°ëŸ‰ 34% ì ˆê°</strong></li> <li style="list-style-type:disc">Â <strong>ì´ˆê³ í•´ìƒë„(4K) ì´ë¯¸ì§€ ìƒì„±ì„ ê°€ëŠ¥í•˜ê²Œ í•¨</strong></li> <hr id="198451cf-7b79-8009-9d3d-c828f602e868"/> <h3 class="" id="198451cf-7b79-800c-aaf2-d021f5bd42f8">Â <strong>2. í•™ìŠµ í™˜ê²½ ë° í•˜ë“œì›¨ì–´</strong></h3> <p class="" id="198451cf-7b79-806a-98d7-c1396cbb93c7"> Â <strong>í›ˆë ¨ GPU í™˜ê²½</strong></p> <li style="list-style-type:disc">Â <strong>1K ëª¨ë¸ í•™ìŠµ: 32 V100 GPUs ì‚¬ìš©</strong></li> <li style="list-style-type:disc">Â <strong>2K &amp; 4K ëª¨ë¸ í•™ìŠµ: 16 A100 GPUs ì‚¬ìš©</strong></li> <p class="" id="198451cf-7b79-80d2-9986-de3d7f458523"> Â <strong>ìµœì í™” ì•Œê³ ë¦¬ì¦˜</strong></p> <li style="list-style-type:disc">Â <strong>CAME Optimizer ì‚¬ìš©</strong> (AdamW ëŒ€ì‹ )</li> <li style="list-style-type:disc">Â <strong>í•™ìŠµë¥ : 2e-5 (ê³ ì • Learning Rate ì‚¬ìš©)</strong></li> <li style="list-style-type:disc">Â <strong>Weight Decay: 0</strong></li> <p class="" id="198451cf-7b79-807d-a4aa-f5dafdfab886"> Â <strong>Position Embedding Interpolation (PE Interp.) ì ìš©</strong></p> <li style="list-style-type:disc">ë‚®ì€ í•´ìƒë„ì—ì„œ í•™ìŠµëœ ëª¨ë¸ì„ ê³ í•´ìƒë„ë¡œ ë³€í™˜í•  ë•Œ Â <strong>ìœ„ì¹˜ ì„ë² ë”©ì„ ë³´ê°„(interpolation)í•˜ì—¬ ì ìš©</strong>.</li> <li style="list-style-type:disc">ì´ë¥¼ í†µí•´ Â <strong>ê³ í•´ìƒë„ë¡œ í™•ì¥ ì‹œ ì„±ëŠ¥ ì €í•˜ ì—†ì´ ë¹ ë¥´ê²Œ ì ì‘ ê°€ëŠ¥</strong>.</li> <hr id="198451cf-7b79-8064-ac3f-fd3b6b7d810a"/> <h3 class="" id="198451cf-7b79-8071-8e2f-dd8e4d0eef7e">Â <strong>3. í•™ìŠµ ë°ì´í„° ë° í›ˆë ¨ ê³¼ì •</strong></h3> <p class="" id="198451cf-7b79-8048-805f-c1c9dd7b6d0f"> Â <strong>í›ˆë ¨ ë°ì´í„°ì…‹</strong></p> <li style="list-style-type:disc">Â <strong>ì´ 33M(3,300ë§Œ ê°œ)ì˜ ê³ í•´ìƒë„ ì´ë¯¸ì§€ ì‚¬ìš©</strong></li> <li style="list-style-type:disc">Â <strong>1K í•´ìƒë„ ì´ìƒì˜ ë°ì´í„°ë§Œ í¬í•¨</strong></li> <li style="list-style-type:disc">Â <strong>4K í•´ìƒë„ ì´ë¯¸ì§€ 2.3M(230ë§Œ ê°œ) í¬í•¨</strong></li> <li style="list-style-type:disc">Â <strong>Aesthetic Scoring Model(AES) ì ìš©í•˜ì—¬ ê³ í’ˆì§ˆ ì´ë¯¸ì§€ ì„ ë³„</strong></li> <p class="" id="198451cf-7b79-8019-a79e-efc94e58a05f"> Â <strong>í›ˆë ¨ ê³¼ì •</strong></p> <li style="list-style-type:disc">Â <strong>256px â†’ 512px â†’ 1024px â†’ 4K í•´ìƒë„ë¡œ ì ì§„ì  ì—…ìŠ¤ì¼€ì¼ë§ ì ìš©</strong></li> <li style="list-style-type:disc">Â <strong>VAE êµì²´ í›„ 2K Training Steps ë‚´ ë¹ ë¥´ê²Œ ì ì‘</strong></li> <li style="list-style-type:disc">Â <strong>PE Interpolationì„ ì ìš©í•˜ì—¬ ê³ í•´ìƒë„ì—ì„œ ì¶”ê°€ í•™ìŠµ ë¹„ìš© ì ˆê°</strong></li> <p class="" id="198451cf-7b79-80e6-b2c4-e913e9e4dc26"> Â <strong>í•™ìŠµ ë¹„ìš© ì ˆê°</strong></p> <li style="list-style-type:disc">ê¸°ì¡´ PixArt-Î± ëŒ€ë¹„ Â <strong>í›ˆë ¨ ë¹„ìš© 9%ë§Œ ì‚¬ìš©í•˜ì—¬ 1K ìƒì„± ê°€ëŠ¥</strong></li> <li style="list-style-type:disc">Â <strong>KV Compressionê³¼ Weak-to-Strong Trainingì„ ê²°í•©í•˜ì—¬ GPU ë¹„ìš© ì ˆê°</strong></li> <p class="" id="198451cf-7b79-80b9-951b-fadb2f30e750"> </p> <p class="" id="198451cf-7b79-804c-8654-e422359a61ed"> </p> <h2 class="" id="198451cf-7b79-8031-8186-e079612487c8">4.2 ì‹¤í—˜ ê²°ê³¼</h2> <h2 class="" id="198451cf-7b79-8033-86bc-c5fa7d3ddf32">Â <strong>1. ì´ë¯¸ì§€ í’ˆì§ˆ ë¹„êµ (Qualitative Evaluation)</strong></h2> <p class="" id="198451cf-7b79-8019-a5e5-dd97375bd5a0">PixArt-Î£ëŠ” Â <strong>í¬í† ë¦¬ì–¼ë¦¬ì¦˜(Photorealism), ë””í…Œì¼ ìˆ˜ì¤€, ìŠ¤íƒ€ì¼ ë‹¤ì–‘ì„± ì¸¡ë©´ì—ì„œ ì´ì „ ëª¨ë¸ë³´ë‹¤ ê°œì„ ë¨</strong>.</p> <p class="" id="198451cf-7b79-807a-85ee-eee09855d05a">ì•„ë˜ì™€ ê°™ì€ ëª¨ë¸ë“¤ê³¼ ë¹„êµë¨:</p> <p class="" id="198451cf-7b79-803d-9ffa-c213b7134331"> </p> <figure class="image" id="198451cf-7b79-80f8-a191-f350b29fb79b"><picture><img class="img-fluid rounded z-depth-1" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" src="/files/2025-02-09-pixart-sigma/image%207.webp" style="width:480px"/></picture></figure> <p class="" id="198451cf-7b79-80ac-8b3a-ef886b806396"> </p> <p class="" id="198451cf-7b79-80c4-a33b-e3c3c02712c2"> </p> <p class="" id="198451cf-7b79-80d8-bb97-ebb9a12132bd"> </p> <p class="" id="198451cf-7b79-8097-9a94-fa82db11526f"> </p> <p class="" id="198451cf-7b79-8059-825b-c6da0f5e1608"> </p> <p class="" id="198451cf-7b79-8048-ba4b-f63f89d79a78"> </p> <p class="" id="198451cf-7b79-8021-afee-d074f3cdb3f7"> </p> <h2 class="" id="198451cf-7b79-80f5-bba3-dc0e70703ea5">PixArt-Î± vs PixArt-Î£</h2> <table class="simple-table" id="198451cf-7b79-80a1-91fc-c9ca2a989170"><tbody><tr id="198451cf-7b79-80d5-8a3d-cdbb1afe4fbd"><td class="" id="JUp^">í•­ëª©</td><td class="" id="uy=K">PixArt-Î± (ê¸°ì¡´)</td><td class="" id="]wOL" style="width:445px">PixArt-Î£ (ê°œì„ )</td></tr><tr id="198451cf-7b79-801c-90ce-d97324fab877"><td class="" id="JUp^">Â <strong>ìµœëŒ€ í•´ìƒë„</strong></td><td class="" id="uy=K">1K (1024Ã—1024)</td><td class="" id="]wOL" style="width:445px">Â <strong>4K (3840Ã—2160) ì§€ì›</strong></td></tr><tr id="198451cf-7b79-8085-9dc3-c4f934462637"><td class="" id="JUp^">Â <strong>ì—°ì‚°ëŸ‰ ìµœì í™”</strong></td><td class="" id="uy=K">ì—†ìŒ</td><td class="" id="]wOL" style="width:445px">Â <strong>KV Token Compression ì ìš© (ì—°ì‚°ëŸ‰ 34% ê°ì†Œ)</strong></td></tr><tr id="198451cf-7b79-808b-bf72-fa56cbecb820"><td class="" id="JUp^">Â <strong>VAE ëª¨ë¸</strong></td><td class="" id="uy=K">ê¸°ë³¸ VAE</td><td class="" id="]wOL" style="width:445px">Â <strong>SDXL VAEë¡œ ë³€ê²½ (ê³ í’ˆì§ˆ ì´ë¯¸ì§€ ìƒì„± ê°€ëŠ¥)</strong></td></tr><tr id="198451cf-7b79-8084-9874-e11b7d11ea6b"><td class="" id="JUp^">Â <strong>í•™ìŠµ ì „ëµ</strong></td><td class="" id="uy=K">ì¼ë°˜ í•™ìŠµ</td><td class="" id="]wOL" style="width:445px">Â <strong>Weak-to-Strong Training (ê¸°ì¡´ ëª¨ë¸ í™œìš©í•˜ì—¬ ë¹ ë¥´ê²Œ í•™ìŠµ)</strong></td></tr><tr id="198451cf-7b79-8072-aa76-eb1cd79052dd"><td class="" id="JUp^">Â <strong>í…ìŠ¤íŠ¸ ê¸¸ì´</strong></td><td class="" id="uy=K">120 í† í°</td><td class="" id="]wOL" style="width:445px">Â <strong>300 í† í°ìœ¼ë¡œ í™•ì¥ (ë” ì •ë°€í•œ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ ê°€ëŠ¥)</strong></td></tr><tr id="198451cf-7b79-80f0-9182-ec33f1eb9196"><td class="" id="JUp^">Â <strong>í›ˆë ¨ ë¹„ìš©</strong></td><td class="" id="uy=K">ë†’ìŒ</td><td class="" id="]wOL" style="width:445px">Â <strong>ê¸°ì¡´ ëŒ€ë¹„ GPU ë¹„ìš© 9%ë¡œ ì ˆê°</strong></td></tr></tbody></table> <p class="" id="198451cf-7b79-8064-ae7e-cd23c918bd8a"> </p> <h3 class="" id="198451cf-7b79-8058-83a4-ed7ec9583819">Â <strong>PixArt-Î£ vs. MobileDiffusion ë¹„êµí‘œ</strong></h3> <table class="simple-table" id="198451cf-7b79-800e-a4b6-d16e8b84b775"><tbody><tr id="198451cf-7b79-8001-b9f3-c1b642e098d6"><td class="" id="VJ[n">í•­ëª©</td><td class="" id="NDDF">Â <strong>PixArt-Î£</strong></td><td class="" id="c|J;">Â <strong>MobileDiffusion</strong></td><td class="" id="?As&gt;">ë¹„êµ</td></tr><tr id="198451cf-7b79-8095-865a-fedcff4a52be"><td class="" id="VJ[n">Â <strong>ëª©í‘œ</strong></td><td class="" id="NDDF">Â <strong>4K ì´ˆê³ í•´ìƒë„ ì´ë¯¸ì§€ ìƒì„±</strong></td><td class="" id="c|J;">Â <strong>ëª¨ë°”ì¼ì—ì„œ ì‹¤ì‹œê°„ ìƒì„± ê°€ëŠ¥í•˜ë„ë¡ ìµœì í™”</strong></td><td class="" id="?As&gt;">PixArt-Î£ëŠ” ì´ˆê³ í•´ìƒë„ ìƒì„±, MobileDiffusionì€ On-Device ìµœì í™”</td></tr><tr id="198451cf-7b79-8030-bd88-d541063ff8e4"><td class="" id="VJ[n">Â <strong>ëª¨ë¸ êµ¬ì¡°</strong></td><td class="" id="NDDF">Â <strong>Diffusion Transformer (DiT)</strong> ê¸°ë°˜</td><td class="" id="c|J;">Â <strong>Latent Diffusion + Optimized UNet</strong></td><td class="" id="?As&gt;">PixArt-Î£ëŠ” Transformer ê¸°ë°˜, MobileDiffusionì€ UNet ê¸°ë°˜</td></tr><tr id="198451cf-7b79-8083-80c5-cc9bad65f7ae"><td class="" id="VJ[n">Â <strong>í…ìŠ¤íŠ¸ ì¸ì½”ë”</strong></td><td class="" id="NDDF">Â <strong>Flan-T5-XXL (300 í† í°ê¹Œì§€ ê°€ëŠ¥)</strong></td><td class="" id="c|J;">Â <strong>CLIP-ViT/L14 (í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ íš¨ìœ¨ì„± ê·¹ëŒ€í™”)</strong></td><td class="" id="?As&gt;">PixArt-Î£ê°€ ë” ê¸´ í…ìŠ¤íŠ¸ ì…ë ¥ ê°€ëŠ¥, MobileDiffusionì€ ê°€ë²¼ì›€</td></tr><tr id="198451cf-7b79-8083-837f-c2c385125a0a"><td class="" id="VJ[n">Â <strong>ì´ë¯¸ì§€ í•´ìƒë„</strong></td><td class="" id="NDDF">Â <strong>4K (3840Ã—2160) ì§ì ‘ ìƒì„± ê°€ëŠ¥</strong></td><td class="" id="c|J;">Â <strong>512Ã—512 (On-Deviceì—ì„œ ë¹ ë¥´ê²Œ ìƒì„±)</strong></td><td class="" id="?As&gt;">PixArt-Î£ëŠ” ì´ˆê³ í•´ìƒë„, MobileDiffusionì€ ì €í•´ìƒë„ ìµœì í™”</td></tr><tr id="198451cf-7b79-803d-bb02-e9287fd93d35"><td class="" id="VJ[n">Â <strong>KV Token Compression</strong></td><td class="" id="NDDF">Â <strong>Self-Attention ì—°ì‚°ëŸ‰ 34% ì ˆê° (R=2, R=4 ì ìš©)</strong></td><td class="" id="c|J;">âŒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ</td><td class="" id="?As&gt;">PixArt-Î£ëŠ” 4K ìµœì í™”, MobileDiffusionì€ ê²½ëŸ‰ ëª¨ë¸ì´ë¼ í•„ìš” ì—†ìŒ</td></tr><tr id="198451cf-7b79-8042-9835-d0eb7808a997"><td class="" id="VJ[n">Â <strong>ëª¨ë¸ í¬ê¸°</strong></td><td class="" id="NDDF">Â <strong>0.6B íŒŒë¼ë¯¸í„° (SDXL: 2.6B ëŒ€ë¹„ ì‘ìŒ)</strong></td><td class="" id="c|J;">Â <strong>386M (SD-1.5 ëŒ€ë¹„ 55% ì¶•ì†Œ)</strong></td><td class="" id="?As&gt;">MobileDiffusionì´ ë” ì‘ìŒ</td></tr><tr id="198451cf-7b79-802e-80b0-e7547504eb6b"><td class="" id="VJ[n">Â <strong>VAE (Autoencoder)</strong></td><td class="" id="NDDF">Â <strong>SDXL VAE ì‚¬ìš© (ê³ í’ˆì§ˆ ì´ë¯¸ì§€ ë³µì› ê°€ëŠ¥)</strong></td><td class="" id="c|J;">Â <strong>ê²½ëŸ‰í™”ëœ VAE ì ìš© (512pxì—ì„œ ìµœì í™”ë¨)</strong></td><td class="" id="?As&gt;">PixArt-Î£ëŠ” í’ˆì§ˆ ìš°ì„ , MobileDiffusionì€ ì†ë„ ìš°ì„ </td></tr><tr id="198451cf-7b79-807d-a27c-e0c6c6d78ee5"><td class="" id="VJ[n">Â <strong>í•´ìƒë„ ì—…ìŠ¤ì¼€ì¼ë§ ê¸°ë²•</strong></td><td class="" id="NDDF">Â <strong>PE Interpolation (ê¸°ì¡´ ëª¨ë¸ì„ ê³ í•´ìƒë„ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ë³€í™˜)</strong></td><td class="" id="c|J;">Â <strong>512px ê³ ì • (Upscaling ì—†ìŒ)</strong></td><td class="" id="?As&gt;">PixArt-Î£ëŠ” í•´ìƒë„ í™•ì¥ ê°€ëŠ¥, MobileDiffusionì€ ì €í•´ìƒë„ ê³ ì •</td></tr><tr id="198451cf-7b79-80eb-ab58-f90c0ad23c61"><td class="" id="VJ[n">Â <strong>ì—°ì‚° ìµœì í™”</strong></td><td class="" id="NDDF">Â <strong>Weak-to-Strong Training (ê¸°ì¡´ ëª¨ë¸ ì¬ì‚¬ìš©ìœ¼ë¡œ í•™ìŠµ ë¹„ìš© ì ˆê°)</strong></td><td class="" id="c|J;">Â <strong>Transformer ë¸”ë¡ ì œê±° + Convolution ê¸°ë°˜ ìµœì í™”</strong></td><td class="" id="?As&gt;">PixArt-Î£ëŠ” ê¸°ì¡´ ëª¨ë¸ í™œìš©, MobileDiffusionì€ ê²½ëŸ‰í™” ëª¨ë¸</td></tr><tr id="198451cf-7b79-8048-a2eb-eb05e085150c"><td class="" id="VJ[n">Â <strong>On-Device ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€</strong></td><td class="" id="NDDF">âŒ ë¶ˆê°€ëŠ¥ (ê³ ì„±ëŠ¥ GPU í•„ìš”)</td><td class="" id="c|J;"> ê°€ëŠ¥ (iPhone 15 Proì—ì„œ 0.2ì´ˆ ìƒì„±)</td><td class="" id="?As&gt;">MobileDiffusionì´ í›¨ì”¬ ê°€ë²¼ì›€</td></tr><tr id="198451cf-7b79-80f1-9f3a-dcc59c45605f"><td class="" id="VJ[n">Â <strong>í•™ìŠµ ë°ì´í„° í¬ê¸°</strong></td><td class="" id="NDDF">Â <strong>33M (4K ë°ì´í„° í¬í•¨, SD v1.5ì˜ 1.65%)</strong></td><td class="" id="c|J;">Â <strong>150M (ëª¨ë°”ì¼ ìµœì í™”ëœ ë°ì´í„°)</strong></td><td class="" id="?As&gt;">MobileDiffusionì´ ë” í° ë°ì´í„°ì…‹ ì‚¬ìš©</td></tr><tr id="198451cf-7b79-80e3-81e4-fe4efcbf9786"><td class="" id="VJ[n">Â <strong>ì´ë¯¸ì§€ í’ˆì§ˆ í‰ê°€ (FID Score)</strong></td><td class="" id="NDDF">Â <strong>8.23 (PixArt-Î± ëŒ€ë¹„ ê°œì„ ë¨)</strong></td><td class="" id="c|J;">Â <strong>11.67 (1-step) / 8.65 (50-step DDIM)</strong></td><td class="" id="?As&gt;">PixArt-Î£ê°€ í’ˆì§ˆ ìš°ìˆ˜, MobileDiffusionì€ ì†ë„ ìµœì í™”</td></tr><tr id="198451cf-7b79-80d3-ae36-e21ddc1797e0"><td class="" id="VJ[n">Â <strong>í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ì •ë ¬ (CLIP Score)</strong></td><td class="" id="NDDF">Â <strong>0.2797 (PixArt-Î± ëŒ€ë¹„ í–¥ìƒë¨)</strong></td><td class="" id="c|J;">Â <strong>0.320 (1-step) / 0.325 (50-step DDIM)</strong></td><td class="" id="?As&gt;">MobileDiffusionì´ ë” ë‚˜ì€ ì •ë ¬ ì„±ëŠ¥</td></tr><tr id="198451cf-7b79-80a1-9e7c-df04d417474b"><td class="" id="VJ[n">Â <strong>ìƒì„± ì†ë„</strong></td><td class="" id="NDDF">âŒ ëŠë¦¼ (4K ìƒì„±ì— ê³ ì‚¬ì–‘ GPU í•„ìš”)</td><td class="" id="c|J;"> 0.2ì´ˆ (iPhone 15 Proì—ì„œ ì‹¤ì‹œê°„ ìƒì„±)</td><td class="" id="?As&gt;">MobileDiffusionì´ í›¨ì”¬ ë¹ ë¦„</td></tr></tbody></table> <p class="" id="199451cf-7b79-80a2-87bf-f11582cac427"> </p> <p class="" id="199451cf-7b79-8008-aee9-f50ebb0f8f2e"> </p> <p class="" id="199451cf-7b79-80c9-ab6a-cf2219553053"> </p> <p class="" id="199451cf-7b79-8073-88ff-f336107e89e2"> </p> <p class="" id="199451cf-7b79-8068-8550-e9600a5a0703"> </p> <p class="" id="199451cf-7b79-80fd-8c46-ebe12d66d827"> </p> <p><span class="sans" style="font-size:14px;padding-top:2em"></span></p>]]></content><author><name></name></author><category term="Paper"/><category term="AI"/><summary type="html"><![CDATA[ArXivhttps://arxiv.org/abs/2403.04692Project Pagehttps://pixart-alpha.github.io/PixArt-sigma-project/Github Codehttps://github.com/PixArt-alpha/PixArt-sigmaAffiliation Huawei Noahâ€™s Ark Lab, Dalian University of Technology, HKU, HKUST ğŸ’¡Â Key Differentiatorê¸°ì¡´ ì—°êµ¬ì˜€ë˜ PixArt-Î±ì—ì„œ ìµœì í™”ë¥¼ í†µí•´ 4K ì´ˆê³ í•´ìƒë„ê¹Œì§€ ê°€ëŠ¥í•˜ë„ë¡ ì—°êµ¬4Kë¥¼ transformerë¥¼ í™œìš©í•´ directlyë¡œ í•œë²ˆì— ìƒì„±]]></summary></entry></feed>